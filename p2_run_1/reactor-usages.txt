1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | block | METHOD_INVOCATION | Group createdGroup = RxJava2Adapter.singleToMono(repository.create(group)).block()
1 | Mono | block | METHOD_INVOCATION | Group createdGroup = RxJava2Adapter.singleToMono(repository.create(group)).block()
1 | Mono | block | METHOD_INVOCATION | Group createdGroup = RxJava2Adapter.singleToMono(repository.create(group)).block()
1 | Mono | block | METHOD_INVOCATION | Group createdGroup = RxJava2Adapter.singleToMono(repository.create(group)).block()
1 | Mono | block | METHOD_INVOCATION | final Group existAfterDelete = RxJava2Adapter.maybeToMono(repository.findById(createdGroup.getId())).block()
1 | Mono | block | METHOD_INVOCATION | Group createdGroup1 = RxJava2Adapter.singleToMono(repository.create(group1)).block()
1 | Mono | block | METHOD_INVOCATION | Group createdGroup2 = RxJava2Adapter.singleToMono(repository.create(group2)).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findByMember(member1)).collectList())
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findByMember(member2)).collectList())
1 | Mono | block | METHOD_INVOCATION | List<Group> emptyList = RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID)).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID)).collectList().block
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(buildGroup())).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(item)).block();
1 | Mono | block | METHOD_INVOCATION | List<Group> groupOfDomain = RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID)).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID)).collectList().block
1 | Mono | block | METHOD_INVOCATION | groupOfDomain = RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID)).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID)).collectList().block
1 | Mono | block | METHOD_INVOCATION | List<Group> emptyList = RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID)).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID)).collectList().block
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(buildGroup())).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(item)).block();
1 | Mono | block | METHOD_INVOCATION | Page<Group> groupOfDomain = RxJava2Adapter.singleToMono(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID, 0, 20)).block()
1 | Mono | block | METHOD_INVOCATION | groupOfDomain = RxJava2Adapter.singleToMono(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID, 0, 5)).block()
1 | Mono | block | METHOD_INVOCATION | groupOfDomain = RxJava2Adapter.singleToMono(repository.findAll(ReferenceType.DOMAIN, DOMAIN_ID, 1, 5)).block()
1 | Mono | block | METHOD_INVOCATION | Group createdGroup = RxJava2Adapter.singleToMono(repository.create(buildGroup())).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findByIdIn(ids)).collectList())
1 | Mono | block | METHOD_INVOCATION | Group createdGroup = RxJava2Adapter.singleToMono(repository.create(group)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(group)).block();
1 | Mono | block | METHOD_INVOCATION | AccessPolicy apCreated = RxJava2Adapter.singleToMono(repository.create(accessPolicy)).block()
1 | Mono | block | METHOD_INVOCATION | AccessPolicy apCreated = RxJava2Adapter.singleToMono(repository.create(accessPolicy)).block()
1 | Mono | block | METHOD_INVOCATION | AccessPolicy apCreated = RxJava2Adapter.singleToMono(repository.create(accessPolicy)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicy)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicyOtherDomain)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicy)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicyOtherDomain)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicy)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicy2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicy3)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findByDomainAndResource(DOMAIN_ID, RESOURCE_ID)).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicy)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicy2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(accessPolicy3)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findByResources(Arrays.asList(RESOURCE_ID, RESOURCE_ID + "2"))).collectList())
1 | Mono | block | METHOD_INVOCATION | Email createdEmail = RxJava2Adapter.singleToMono(repository.create(email)).block()
1 | Mono | block | METHOD_INVOCATION | Email createdEmail = RxJava2Adapter.singleToMono(repository.create(email)).block()
1 | Mono | block | METHOD_INVOCATION | Email createdEmail = RxJava2Adapter.singleToMono(repository.create(email)).block()
1 | Mono | block | METHOD_INVOCATION | Email createdEmail = RxJava2Adapter.singleToMono(repository.create(email)).block()
1 | Mono | block | METHOD_INVOCATION | (email)->RxJava2Adapter.singleToMono(repository.create(email)).map(RxJavaReactorMigrationUtil.toJdkFunction((e)->{
    email.setId(e.getId());
    return e;
})).block()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(email)).map(RxJavaReactorMigrationUtil.toJdkFunction((e)->{
    email.setId(e.getId());
    return e;
})).block
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(repository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(Email::getId)))
1 | Mono | block | METHOD_INVOCATION | (email)->RxJava2Adapter.singleToMono(repository.create(email)).map(RxJavaReactorMigrationUtil.toJdkFunction((e)->{
    email.setId(e.getId());
    return e;
})).block()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(email)).map(RxJavaReactorMigrationUtil.toJdkFunction((e)->{
    email.setId(e.getId());
    return e;
})).block
1 | Mono | block | METHOD_INVOCATION | (email)->RxJava2Adapter.singleToMono(repository.create(buildEmail())).block()
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, FIXED_REF_ID)).map(RxJavaReactorMigrationUtil.toJdkFunction(Email::getId)))
1 | Mono | block | METHOD_INVOCATION | (email)->RxJava2Adapter.singleToMono(repository.create(email)).map(RxJavaReactorMigrationUtil.toJdkFunction((e)->{
    email.setId(e.getId());
    return e;
})).block()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(email)).map(RxJavaReactorMigrationUtil.toJdkFunction((e)->{
    email.setId(e.getId());
    return e;
})).block
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(email)).block();
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(repository.findByClient(ReferenceType.DOMAIN, FIXED_REF_ID, FIXED_CLI_ID)).map(RxJavaReactorMigrationUtil.toJdkFunction(Email::getId)))
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(email)).block();
1 | Mono | block | METHOD_INVOCATION | Email templateEmail = RxJava2Adapter.singleToMono(repository.create(email)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(email)).block();
1 | Mono | block | METHOD_INVOCATION | Email templateEmail = RxJava2Adapter.singleToMono(repository.create(email)).block()
1 | Mono | block | METHOD_INVOCATION | AlertNotifier alertNotifierCreated = RxJava2Adapter.singleToMono(alertNotifierRepository.create(alertNotifier)).block()
1 | Mono | block | METHOD_INVOCATION | AlertNotifier alertNotifierCreated = RxJava2Adapter.singleToMono(alertNotifierRepository.create(alertNotifier)).block()
1 | Mono | block | METHOD_INVOCATION | AlertNotifier alertNotifierCreated = RxJava2Adapter.singleToMono(alertNotifierRepository.create(alertNotifier)).block()
1 | Mono | block | METHOD_INVOCATION | AlertNotifier alertNotifierCreated = RxJava2Adapter.singleToMono(alertNotifierRepository.create(alertNotifierToCreate)).block()
1 | Mono | block | METHOD_INVOCATION | final AlertNotifier alertNotifierUpdated = RxJava2Adapter.singleToMono(alertNotifierRepository.update(alertNotifierCreated)).block()
1 | Mono | block | METHOD_INVOCATION | AlertNotifier alertNotifierCreated1 = RxJava2Adapter.singleToMono(alertNotifierRepository.create(alertNotifierToCreate1)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertNotifierRepository.create(alertNotifierToCreate2)).block();
1 | Mono | block | METHOD_INVOCATION | AlertNotifier alertNotifierCreated1 = RxJava2Adapter.singleToMono(alertNotifierRepository.create(alertNotifierToCreate1)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertNotifierRepository.create(alertNotifierToCreate2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(botDetection)).block();
1 | Mono | block | METHOD_INVOCATION | BotDetection bdetectionCreated = RxJava2Adapter.singleToMono(repository.create(bdectection)).block()
1 | Mono | block | METHOD_INVOCATION | BotDetection botDetectionCreated = RxJava2Adapter.singleToMono(repository.create(botDetection)).block()
1 | Mono | block | METHOD_INVOCATION | BotDetection botDetectionCreated = RxJava2Adapter.singleToMono(repository.create(botDetection)).block()
1 | Mono | block | METHOD_INVOCATION | Form createdForm = RxJava2Adapter.singleToMono(repository.create(form)).block()
1 | Mono | block | METHOD_INVOCATION | Form createdForm = RxJava2Adapter.singleToMono(repository.create(form)).block()
1 | Mono | block | METHOD_INVOCATION | Form createdForm = RxJava2Adapter.singleToMono(repository.create(form)).block()
1 | Mono | block | METHOD_INVOCATION | Form createdForm = RxJava2Adapter.singleToMono(repository.create(form)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(form)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(buildForm())).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findAll(ReferenceType.DOMAIN, FIXED_REF_ID)).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(form)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(form)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findByClient(ReferenceType.DOMAIN, FIXED_REF_ID, FIXED_CLI_ID)).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(form)).block();
1 | Mono | block | METHOD_INVOCATION | Form templateForm = RxJava2Adapter.singleToMono(repository.create(form)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(form)).block();
1 | Mono | block | METHOD_INVOCATION | Form templateForm = RxJava2Adapter.singleToMono(repository.create(form)).block()
1 | Mono | block | METHOD_INVOCATION | AlertTrigger alertTriggerCreated = RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTrigger)).block()
1 | Mono | block | METHOD_INVOCATION | AlertTrigger alertTriggerCreated = RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTrigger)).block()
1 | Mono | block | METHOD_INVOCATION | AlertTrigger alertTriggerCreated = RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTrigger)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTriggerToCreate)).block();
1 | Mono | block | METHOD_INVOCATION | AlertTrigger alertTriggerCreated = RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTriggerToCreate)).block()
1 | Mono | block | METHOD_INVOCATION | final AlertTrigger alertTriggerUpdated = RxJava2Adapter.singleToMono(alertTriggerRepository.update(alertTriggerCreated)).block()
1 | Mono | block | METHOD_INVOCATION | AlertTrigger alertTriggerCreated = RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTriggerToCreate)).block()
1 | Mono | block | METHOD_INVOCATION | AlertTrigger alertTriggerCreated1 = RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTriggerToCreate1)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTriggerToCreate2)).block();
1 | Mono | block | METHOD_INVOCATION | AlertTrigger alertTriggerCreated1 = RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTriggerToCreate1)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertTriggerRepository.create(alertTriggerToCreate2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(application)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(application)).block();
1 | Mono | block | METHOD_INVOCATION | Application createdApplication = RxJava2Adapter.singleToMono(applicationRepository.create(application)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(app)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(app2)).block();
1 | Mono | block | METHOD_INVOCATION | Application appCreated = RxJava2Adapter.singleToMono(applicationRepository.create(app)).block()
1 | Mono | block | METHOD_INVOCATION | Application appCreated = RxJava2Adapter.singleToMono(applicationRepository.create(app)).block()
1 | Mono | block | METHOD_INVOCATION | Application appCreated = RxJava2Adapter.singleToMono(applicationRepository.create(app)).block()
1 | Mono | block | METHOD_INVOCATION | Application appCreated = RxJava2Adapter.singleToMono(applicationRepository.create(app)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(app)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(app2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(app)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(app2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(app3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationRepository.create(app4)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(domainRepository.create(domain)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(domainRepository.findAll()).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(domainRepository.create(domain)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(domainRepository.create(otherDomain)).block();
1 | Mono | block | METHOD_INVOCATION | Domain domainCreated = RxJava2Adapter.singleToMono(domainRepository.create(domain)).block()
1 | Mono | block | METHOD_INVOCATION | Domain domainCreated = RxJava2Adapter.singleToMono(domainRepository.create(domain)).block()
1 | Mono | block | METHOD_INVOCATION | Domain domainCreated = RxJava2Adapter.singleToMono(domainRepository.create(domain)).block()
1 | Mono | block | METHOD_INVOCATION | Domain domainCreated = RxJava2Adapter.singleToMono(domainRepository.create(domain)).block()
1 | Mono | block | METHOD_INVOCATION | Domain domainCreated = RxJava2Adapter.singleToMono(domainRepository.create(domainToCreate)).block()
1 | Mono | block | METHOD_INVOCATION | final Domain domainUpdated = RxJava2Adapter.singleToMono(domainRepository.update(domainCreated)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(domainRepository.create(domain)).block();
1 | Mono | block | METHOD_INVOCATION | Monitoring monitoringCreated = RxJava2Adapter.singleToMono(nodeMonitoringRepository.create(monitoring)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(nodeMonitoringRepository.create(monitoringToCreate)).block();
1 | Mono | block | METHOD_INVOCATION | final Monitoring monitoringCreated = RxJava2Adapter.singleToMono(nodeMonitoringRepository.create(monitoringToCreate)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(nodeMonitoringRepository.create(monitoringToCreate)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block();
1 | Mono | block | METHOD_INVOCATION | Credential credentialCreated = RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block()
1 | Mono | block | METHOD_INVOCATION | Credential credentialCreated = RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block()
1 | Mono | block | METHOD_INVOCATION | Credential credentialCreated = RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block()
1 | Mono | block | METHOD_INVOCATION | Credential credentialCreated = RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block()
1 | Mono | block | METHOD_INVOCATION | Credential credentialCreated = RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block()
1 | Mono | block | METHOD_INVOCATION | Credential credentialCreated = RxJava2Adapter.singleToMono(credentialRepository.create(credential)).block()
1 | Mono | block | METHOD_INVOCATION | ServiceResource resourceCreated = RxJava2Adapter.singleToMono(serviceResourceRepository.create(resource)).block()
1 | Mono | block | METHOD_INVOCATION | ServiceResource resourceCreated = RxJava2Adapter.singleToMono(serviceResourceRepository.create(resource)).block()
1 | Mono | block | METHOD_INVOCATION | ServiceResource resourceCreated = RxJava2Adapter.singleToMono(serviceResourceRepository.create(resource)).block()
1 | Mono | block | METHOD_INVOCATION | ServiceResource resourceCreated = RxJava2Adapter.singleToMono(serviceResourceRepository.create(resource)).block()
1 | Mono | block | METHOD_INVOCATION | Entrypoint cratedEntrypoint = RxJava2Adapter.singleToMono(entrypointRepository.create(entrypoint)).block()
1 | Mono | block | METHOD_INVOCATION | Entrypoint entrypointCreated = RxJava2Adapter.singleToMono(entrypointRepository.create(entrypoint)).block()
1 | Mono | block | METHOD_INVOCATION | Entrypoint entrypointCreated = RxJava2Adapter.singleToMono(entrypointRepository.create(entrypoint)).block()
1 | Mono | block | METHOD_INVOCATION | Entrypoint entrypointCreated = RxJava2Adapter.singleToMono(entrypointRepository.create(entrypoint)).block()
1 | Mono | block | METHOD_INVOCATION | Installation installationCreated = RxJava2Adapter.singleToMono(installationRepository.create(installation)).block()
1 | Mono | block | METHOD_INVOCATION | Installation installationCreated = RxJava2Adapter.singleToMono(installationRepository.create(installation)).block()
1 | Mono | block | METHOD_INVOCATION | Installation installationCreated = RxJava2Adapter.singleToMono(installationRepository.create(installation)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | Organization organizationCreated = RxJava2Adapter.singleToMono(organizationRepository.create(organization)).block()
1 | Mono | block | METHOD_INVOCATION | Organization organizationCreated = RxJava2Adapter.singleToMono(organizationRepository.create(organization)).block()
1 | Mono | block | METHOD_INVOCATION | Organization organizationCreated = RxJava2Adapter.singleToMono(organizationRepository.create(organization)).block()
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(organizationRepository.findById(organizationCreated.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(organizationRepository.findById(organizationCreated.getId())).block())
1 | Mono | block | METHOD_INVOCATION | Organization organizationCreated = RxJava2Adapter.singleToMono(organizationRepository.create(organization)).block()
1 | Mono | block | METHOD_INVOCATION | Organization organizationCreated2 = RxJava2Adapter.singleToMono(organizationRepository.create(organization2)).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(organizationRepository.findByHrids(Collections.singletonList("Hrid1"))).collectList())
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | Flow flow2Created = RxJava2Adapter.singleToMono(flowRepository.create(flow2)).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(flowRepository.findAll(ReferenceType.DOMAIN, "DOMAIN1")).collectList())
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | Flow flow2Created = RxJava2Adapter.singleToMono(flowRepository.create(flow2)).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(flowRepository.findByApplication(ReferenceType.DOMAIN, "DOMAIN1", "APP1")).collectList())
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | Flow flowCreated = RxJava2Adapter.singleToMono(flowRepository.create(flow)).block()
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(flowRepository.findById(flowCreated.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(flowRepository.findById(flowCreated.getId())).block())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(factorRepository.create(factor)).block();
1 | Mono | block | METHOD_INVOCATION | Factor factorCreated = RxJava2Adapter.singleToMono(factorRepository.create(factor)).block()
1 | Mono | block | METHOD_INVOCATION | Factor factorCreated = RxJava2Adapter.singleToMono(factorRepository.create(factor)).block()
1 | Mono | block | METHOD_INVOCATION | Factor factorCreated = RxJava2Adapter.singleToMono(factorRepository.create(factor)).block()
1 | Mono | block | METHOD_INVOCATION | SystemTask systemTaskCreated = RxJava2Adapter.singleToMono(taskRepository.create(task)).block()
1 | Mono | block | METHOD_INVOCATION | SystemTask systemTaskCreated = RxJava2Adapter.singleToMono(taskRepository.create(task)).block()
1 | Mono | block | METHOD_INVOCATION | SystemTask systemTaskCreated = RxJava2Adapter.singleToMono(taskRepository.create(task)).block()
1 | Mono | block | METHOD_INVOCATION | SystemTask systemTaskCreated = RxJava2Adapter.singleToMono(taskRepository.create(task)).block()
1 | Mono | block | METHOD_INVOCATION | Membership createdMembership = RxJava2Adapter.singleToMono(membershipRepository.create(membership)).block()
1 | Mono | block | METHOD_INVOCATION | Membership createdMembership = RxJava2Adapter.singleToMono(membershipRepository.create(membership)).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(membershipRepository.findByReference(ORGANIZATION_ID, ReferenceType.ORGANIZATION)).collectList())
1 | Mono | block | METHOD_INVOCATION | Membership createdMembership = RxJava2Adapter.singleToMono(membershipRepository.create(membership)).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(membershipRepository.findByMember("user#1", MemberType.USER)).collectList())
1 | Mono | block | METHOD_INVOCATION | Membership createdMembership = RxJava2Adapter.singleToMono(membershipRepository.create(membership)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(membershipRepository.create(membership)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(membershipRepository.create(groupMembership)).block();
1 | Mono | block | METHOD_INVOCATION | Reporter createdReporter = RxJava2Adapter.singleToMono(repository.create(reporter)).block()
1 | Mono | block | METHOD_INVOCATION | Reporter createdReporter = RxJava2Adapter.singleToMono(repository.create(reporter)).block()
1 | Mono | block | METHOD_INVOCATION | Reporter updatedReporter = RxJava2Adapter.singleToMono(repository.update(updatableReporter)).block()
1 | Mono | block | METHOD_INVOCATION | Reporter createdReporter = RxJava2Adapter.singleToMono(repository.create(reporter)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(reporter)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findAll()).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(reporter)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findByDomain(domain)).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(certificateRepository.create(certificate)).block();
1 | Mono | block | METHOD_INVOCATION | Certificate certificateCreated = RxJava2Adapter.singleToMono(certificateRepository.create(certificate)).block()
1 | Mono | block | METHOD_INVOCATION | Certificate certificateCreated = RxJava2Adapter.singleToMono(certificateRepository.create(certificate)).block()
1 | Mono | block | METHOD_INVOCATION | Certificate certificateCreated = RxJava2Adapter.singleToMono(certificateRepository.create(certificate)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(userRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(userRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(userRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(userRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(userRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(userRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | User userCreated = RxJava2Adapter.singleToMono(userRepository.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user4)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user5)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user4)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userRepository.create(user5)).block();
1 | Mono | block | METHOD_INVOCATION | Environment envCreated = RxJava2Adapter.singleToMono(environmentRepository.create(environment)).block()
1 | Mono | block | METHOD_INVOCATION | Environment envCreated = RxJava2Adapter.singleToMono(environmentRepository.create(env)).block()
1 | Mono | block | METHOD_INVOCATION | Environment envCreated = RxJava2Adapter.singleToMono(environmentRepository.create(env)).block()
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(environmentRepository.findById(envCreated.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(environmentRepository.findById(envCreated.getId())).block())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentRepository.create(environment)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentRepository.create(buildEnv())).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(environmentRepository.findAll(FIXED_REF_ID)).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentRepository.create(buildEnv())).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(environmentRepository.findAll()).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authenticationFlowContextRepository.create(entity)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authenticationFlowContextRepository.create(entity)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authenticationFlowContextRepository.create(entity)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authenticationFlowContextRepository.create(entity)).block();
1 | Flux | blockFirst | METHOD_INVOCATION | AuthenticationFlowContext readValue = RxJava2Adapter.flowableToFlux(authenticationFlowContextRepository.findByTransactionId(TRANSACTION_ID)).blockFirst()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authenticationFlowContextRepository.create(entity)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authenticationFlowContextRepository.create(entity)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authenticationFlowContextRepository.create(entity)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authenticationFlowContextRepository.create(entity)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleRepository.create(role)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(roleRepository.findAll(ReferenceType.DOMAIN, "testDomain")).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleRepository.create(role)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleRepository.create(role2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleRepository.create(role3)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleRepository.create(role4)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(roleRepository.findByNamesAndAssignableType(ReferenceType.PLATFORM, Platform.DEFAULT, Arrays.asList(NAME_1, NAME_2), ReferenceType.ORGANIZATION)).collectList())
1 | Mono | block | METHOD_INVOCATION | Role roleCreated = RxJava2Adapter.singleToMono(roleRepository.create(role)).block()
1 | Mono | block | METHOD_INVOCATION | Role roleCreated = RxJava2Adapter.singleToMono(roleRepository.create(role)).block()
1 | Mono | block | METHOD_INVOCATION | Role roleCreated1 = RxJava2Adapter.singleToMono(roleRepository.create(role1)).block()
1 | Mono | block | METHOD_INVOCATION | Role roleCreated2 = RxJava2Adapter.singleToMono(roleRepository.create(role2)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleRepository.create(role3)).block();
1 | Mono | block | METHOD_INVOCATION | Role roleCreated = RxJava2Adapter.singleToMono(roleRepository.create(role)).block()
1 | Mono | block | METHOD_INVOCATION | Role roleCreated = RxJava2Adapter.singleToMono(roleRepository.create(role)).block()
1 | Mono | then | METHOD_INVOCATION | accessTokenRepository.create(token).toCompletable().as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token"))).as
1 | Mono | then | METHOD_INVOCATION | accessTokenRepository.create(token).toCompletable().as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(token.getToken()))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(accessTokenRepository.create(token).toCompletable()).then(RxJava2Adapter.singleToMono(accessTokenRepository.countByClientId("my-client-id-count"))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(accessTokenRepository.bulkWrite(Arrays.asList(token1, token2))).then(RxJava2Adapter.completableToMono(accessTokenRepository.deleteByDomainIdClientIdAndUserId("domain-id", "client-id", "user-id"))).then(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token"))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(accessTokenRepository.bulkWrite(Arrays.asList(token1, token2))).then(RxJava2Adapter.completableToMono(accessTokenRepository.deleteByDomainIdClientIdAndUserId("domain-id", "client-id", "user-id"))).then
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token2")).block())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(accessTokenRepository.bulkWrite(Arrays.asList(token1, token2))).then(RxJava2Adapter.completableToMono(accessTokenRepository.deleteByDomainIdAndUserId("domain-id", "user-id"))).then(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token"))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(accessTokenRepository.bulkWrite(Arrays.asList(token1, token2))).then(RxJava2Adapter.completableToMono(accessTokenRepository.deleteByDomainIdAndUserId("domain-id", "user-id"))).then
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token2")).block())
1 | Mono | block | METHOD_INVOCATION | Event expectedEvent = RxJava2Adapter.singleToMono(eventRepository.create(event)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventRepository.create(eventBefore)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventRepository.create(eventAfter)).block();
1 | Mono | block | METHOD_INVOCATION | Event eventCreated = RxJava2Adapter.singleToMono(eventRepository.create(event)).block()
1 | Mono | block | METHOD_INVOCATION | Event eventCreated = RxJava2Adapter.singleToMono(eventRepository.create(event)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider3)).block();
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(identityProviderRepository.findAll(ReferenceType.DOMAIN, "testDomain")).collectList())
1 | Mono | block | METHOD_INVOCATION | IdentityProvider identityProviderCreated = RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider)).block()
1 | Mono | block | METHOD_INVOCATION | IdentityProvider identityProviderCreated = RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider)).block()
1 | Mono | block | METHOD_INVOCATION | IdentityProvider identityProviderCreated = RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider)).block()
1 | Mono | block | METHOD_INVOCATION | IdentityProvider identityProviderCreated = RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(tagRepository.create(tag)).block();
1 | Mono | block | METHOD_INVOCATION | Tag tagCreated = RxJava2Adapter.singleToMono(tagRepository.create(tag)).block()
1 | Mono | block | METHOD_INVOCATION | Tag tagCreated = RxJava2Adapter.singleToMono(tagRepository.create(tag)).block()
1 | Mono | block | METHOD_INVOCATION | Tag tagCreated = RxJava2Adapter.singleToMono(tagRepository.create(tag)).block()
1 | Mono | block | METHOD_INVOCATION | LoginAttempt createdAttempt = RxJava2Adapter.singleToMono(repository.create(attempt)).block()
1 | Mono | block | METHOD_INVOCATION | LoginAttempt createdAttempt = RxJava2Adapter.singleToMono(repository.create(attempt)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(unexpectedAttempt)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(attempt)).block();
1 | Mono | block | METHOD_INVOCATION | LoginAttempt createdAttempt = RxJava2Adapter.singleToMono(repository.create(attempt)).block()
1 | Mono | block | METHOD_INVOCATION | LoginAttempt createdUnexpectedAttempt = RxJava2Adapter.singleToMono(repository.create(unexpectedAttempt)).block()
1 | Mono | block | METHOD_INVOCATION | LoginAttempt createdAttempt = RxJava2Adapter.singleToMono(repository.create(attempt)).block()
1 | Mono | block | METHOD_INVOCATION | LoginAttempt createdAttempt = RxJava2Adapter.singleToMono(repository.create(attempt)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block();
1 | Mono | block | METHOD_INVOCATION | Scope scopeCreated1 = RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block();
1 | Mono | block | METHOD_INVOCATION | Scope scopeCreated2 = RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(scopeRepository.findByDomainAndKeys("testDomain", Arrays.asList("one", "two", "three"))).collectList())
1 | Mono | block | METHOD_INVOCATION | Scope scopeCreated = RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block()
1 | Mono | block | METHOD_INVOCATION | Scope scopeCreated = RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block()
1 | Mono | block | METHOD_INVOCATION | Scope scopeCreated = RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block()
1 | Mono | block | METHOD_INVOCATION | Scope scopeCreated = RxJava2Adapter.singleToMono(scopeRepository.create(scope)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(authorizationCodeRepository.create(authorizationCode)).block();
1 | Mono | then | METHOD_INVOCATION | authorizationCodeRepository.create(authorizationCode).toCompletable().as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(authorizationCodeRepository.delete(code))).as
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated = RxJava2Adapter.singleToMono(repository.create(resource)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated = RxJava2Adapter.singleToMono(repository.create(resource)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated = RxJava2Adapter.singleToMono(repository.create(resource)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated = RxJava2Adapter.singleToMono(repository.create(resource)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated1 = RxJava2Adapter.singleToMono(repository.create(resource1)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated2 = RxJava2Adapter.singleToMono(repository.create(resource2)).block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(repository.findByDomainAndClientAndUser(DOMAIN_ID, CLIENT_ID, USER_ID)).collectList())
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(resource1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(resource2)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(resource1)).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(resource2)).block();
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated1 = RxJava2Adapter.singleToMono(repository.create(resource1)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated2 = RxJava2Adapter.singleToMono(repository.create(resource2)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated1 = RxJava2Adapter.singleToMono(repository.create(resource1)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated2 = RxJava2Adapter.singleToMono(repository.create(resource2)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated3 = RxJava2Adapter.singleToMono(repository.create(resource3)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated4 = RxJava2Adapter.singleToMono(repository.create(resource4)).block()
1 | Mono | block | METHOD_INVOCATION | Resource rsCreated5 = RxJava2Adapter.singleToMono(repository.create(resource5)).block()
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(par)).then(RxJava2Adapter.maybeToMono(repository.findById(id))).then().then(RxJava2Adapter.completableToMono(repository.delete(id))).then(RxJava2Adapter.maybeToMono(repository.findById(id))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(par)).then(RxJava2Adapter.maybeToMono(repository.findById(id))).then().then(RxJava2Adapter.completableToMono(repository.delete(id))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(par)).then(RxJava2Adapter.maybeToMono(repository.findById(id))).then().then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(repository.create(par)).then(RxJava2Adapter.maybeToMono(repository.findById(id))).then
1 | Mono | then | METHOD_INVOCATION | refreshTokenRepository.create(token).toCompletable().as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token"))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(refreshTokenRepository.create(token).toCompletable()).then(RxJava2Adapter.completableToMono(refreshTokenRepository.delete("my-token"))).then(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token"))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(refreshTokenRepository.create(token).toCompletable()).then(RxJava2Adapter.completableToMono(refreshTokenRepository.delete("my-token"))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(refreshTokenRepository.bulkWrite(Arrays.asList(token1, token2))).then(RxJava2Adapter.completableToMono(refreshTokenRepository.deleteByDomainIdClientIdAndUserId("domain-id", "client-id", "user-id"))).then(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token"))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(refreshTokenRepository.bulkWrite(Arrays.asList(token1, token2))).then(RxJava2Adapter.completableToMono(refreshTokenRepository.deleteByDomainIdClientIdAndUserId("domain-id", "client-id", "user-id"))).then
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token2")).block())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(refreshTokenRepository.bulkWrite(Arrays.asList(token1, token2))).then(RxJava2Adapter.completableToMono(refreshTokenRepository.deleteByDomainIdAndUserId("domain-id", "user-id"))).then(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token"))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(refreshTokenRepository.bulkWrite(Arrays.asList(token1, token2))).then(RxJava2Adapter.completableToMono(refreshTokenRepository.deleteByDomainIdAndUserId("domain-id", "user-id"))).then
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token2")).block())
1 | Mono | block | METHOD_INVOCATION | PermissionTicket ptCreated = RxJava2Adapter.singleToMono(repository.create(permissionTicket)).block()
1 | Mono | block | METHOD_INVOCATION | PermissionTicket ptCreated = RxJava2Adapter.singleToMono(repository.create(permissionTicket)).block()
1 | Mono | block | METHOD_INVOCATION | PermissionTicket ptCreated = RxJava2Adapter.singleToMono(repository.create(permissionTicket)).block()
1 | Mono | block | METHOD_INVOCATION | ExtensionGrant createdGrant = RxJava2Adapter.singleToMono(extensionGrantRepository.create(extensionGrant)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(extensionGrantRepository.create(excludedElement)).block();
1 | Mono | block | METHOD_INVOCATION | ExtensionGrant extensionGrantCreated = RxJava2Adapter.singleToMono(extensionGrantRepository.create(extensionGrant)).block()
1 | Mono | block | METHOD_INVOCATION | ExtensionGrant extensionGrantCreated = RxJava2Adapter.singleToMono(extensionGrantRepository.create(extensionGrant)).block()
1 | Mono | block | METHOD_INVOCATION | ExtensionGrant extensionGrantCreated = RxJava2Adapter.singleToMono(extensionGrantRepository.create(extensionGrant)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.fromPublisher(collection.createIndex(document, indexOptions))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((s)->logger.debug("Created an index named: {}", s))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->logger.error("Error occurs during creation of index", throwable))).block();
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.fromPublisher(collection.createIndex(document, indexOptions))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((s)->logger.debug("Created an index named: {}", s))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->logger.error("Error occurs during creation of index", throwable))).block
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.fromPublisher(collection.createIndex(document, indexOptions))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((s)->logger.debug("Created an index named: {}", s))).doOnError
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(systemTaskCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(SystemTaskMongo::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(systemTaskCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(systemTaskCollection.insertOne(task))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(task.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(task.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("SystemTask can\'t be updated without control on the operationId")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(systemTaskCollection.replaceOne(and(eq(FIELD_ID, task.getId()), eq(FIELD_OPERATION_ID, operationId)), task))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(task.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(task.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(systemTaskCollection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(or(filterCriteria)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(and(filterCriteria)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(accessPoliciesCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_RESOURCE, resource)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(accessPoliciesCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_RESOURCE, resource)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(accessPoliciesCollection.find(in(FIELD_RESOURCE, resources))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(accessPoliciesCollection.find(in(FIELD_RESOURCE, resources))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(accessPoliciesCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(accessPoliciesCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(accessPoliciesCollection.insertOne(accessPolicy))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(accessPolicy.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(accessPolicy.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(accessPoliciesCollection.replaceOne(eq(FIELD_ID, accessPolicy.getId()), accessPolicy))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(accessPolicy.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(accessPolicy.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(accessPoliciesCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(identitiesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(identitiesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(identitiesCollection.find(eq(FIELD_REFERENCE_TYPE, referenceType.name()))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(identitiesCollection.find(eq(FIELD_REFERENCE_TYPE, referenceType.name()))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(identitiesCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(identitiesCollection.find()).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(identitiesCollection.find(eq(FIELD_ID, identityProviderId)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(identitiesCollection.find(eq(FIELD_ID, identityProviderId)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(identitiesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, identityProviderId))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(identitiesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, identityProviderId))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(identitiesCollection.insertOne(identityProvider))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(identityProvider.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(identityProvider.getId())).single()
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException("Identity provider must be present for create")))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(identitiesCollection.replaceOne(eq(FIELD_ID, identityProvider.getId()), identityProvider))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(identityProvider.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(identityProvider.getId())).single()
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException("Identity provider must be present for update")))
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(identitiesCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(applicationsCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(applicationsCollection.find()).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(applicationsCollection.find(eq(FIELD_DOMAIN, domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(applicationsCollection.find(eq(FIELD_DOMAIN, domain))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(applicationsCollection.find(eq(FIELD_CERTIFICATE, certificate))).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(applicationsCollection.find(eq(FIELD_CERTIFICATE, certificate))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(applicationsCollection.find(eq(FIELD_IDENTITIES, identityProvider))).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(applicationsCollection.find(eq(FIELD_IDENTITIES, identityProvider))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(applicationsCollection.find(eq(FIELD_FACTORS, factor))).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(applicationsCollection.find(eq(FIELD_FACTORS, factor))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(applicationsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(applicationsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(applicationsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, clientId))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(applicationsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, clientId))).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(applicationsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_GRANT_TYPES, extensionGrant)))).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(applicationsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_GRANT_TYPES, extensionGrant)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(applicationsCollection.find(in(FIELD_ID, ids))).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoApplicationRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(applicationsCollection.find(in(FIELD_ID, ids))).map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(applicationsCollection.insertOne(application))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(application.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(application.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(applicationsCollection.replaceOne(eq(FIELD_ID, application.getId()), application))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(application.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(application.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(applicationsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(and(eq(FIELD_ID, id), eq(FIELD_ORGANIZATION_ID, organizationId))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(and(eq(FIELD_ID, id), eq(FIELD_ORGANIZATION_ID, organizationId))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find(eq("organizationId", organizationId))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find(eq("organizationId", organizationId))).map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.insertOne(entrypoint))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(entrypoint.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(entrypoint.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.replaceOne(eq(FIELD_ID, entrypoint.getId()), entrypoint))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(entrypoint.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(entrypoint.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(collection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(parCollection.find(eq(FIELD_ID, id)).limit(1).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(parCollection.find(eq(FIELD_ID, id)).limit(1).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(parCollection.insertOne(convert(par)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(par.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(par.getId())).single()
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(parCollection.findOneAndDelete(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(usersCollection.find(mongoQuery)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(usersCollection.find(mongoQuery)).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, DOMAIN.name()), eq(FIELD_REFERENCE_ID, domain), eq(FIELD_USERNAME, username))).limit(1).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, DOMAIN.name()), eq(FIELD_REFERENCE_ID, domain), eq(FIELD_USERNAME, username))).limit(1).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException("An error has occurred while searching users with filter criteria", ex)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_USERNAME, username), eq(FIELD_SOURCE, source))).limit(1).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_USERNAME, username), eq(FIELD_SOURCE, source))).limit(1).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_EXTERNAL_ID, externalId), eq(FIELD_SOURCE, source))).limit(1).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_EXTERNAL_ID, externalId), eq(FIELD_SOURCE, source))).limit(1).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(usersCollection.find(in(FIELD_ID, ids))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(usersCollection.find(in(FIELD_ID, ids))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, userId))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, userId))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(eq(FIELD_ID, userId)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(eq(FIELD_ID, userId)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(usersCollection.insertOne((T)user))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(user.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(user.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(usersCollection.replaceOne(eq(FIELD_ID, user.getId()), (T)user))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(user.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(user.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(usersCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(policiesCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(policiesCollection.find()).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(Observable.fromPublisher(mongoOperations.listCollectionNames()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((collectionName)->collectionName.equalsIgnoreCase(COLLECTION_NAME)))).isEmpty()).map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->!isEmpty)))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(Observable.fromPublisher(mongoOperations.listCollectionNames()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((collectionName)->collectionName.equalsIgnoreCase(COLLECTION_NAME))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(mongoOperations.getCollection(COLLECTION_NAME).drop()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopesCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopesCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(scopesCollection.insertOne(scope))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(scope.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(scope.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(scopesCollection.replaceOne(eq(FIELD_ID, scope.getId()), scope))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(scope.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(scope.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(scopesCollection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopesCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_KEY, key))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopesCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_KEY, key))).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(scopesCollection.find(and(eq(FIELD_DOMAIN, domain), in(FIELD_KEY, keys)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(scopesCollection.find(and(eq(FIELD_DOMAIN, domain), in(FIELD_KEY, keys)))).map
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(rolesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType == null ? null : referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(rolesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType == null ? null : referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(rolesCollection.find(in(FIELD_ID, ids))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(rolesCollection.find(in(FIELD_ID, ids))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(rolesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, role))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(rolesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, role))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(rolesCollection.find(eq(FIELD_ID, role)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(rolesCollection.find(eq(FIELD_ID, role)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(rolesCollection.insertOne(role))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(role.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(role.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(rolesCollection.replaceOne(eq(FIELD_ID, role.getId()), role))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(role.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(role.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(rolesCollection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(rolesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_NAME, name), eq(FIELD_ASSIGNABLE_TYPE, assignableType.name()))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(rolesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_NAME, name), eq(FIELD_ASSIGNABLE_TYPE, assignableType.name()))).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(rolesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), in(FIELD_NAME, names), eq(FIELD_ASSIGNABLE_TYPE, assignableType.name())))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(rolesCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), in(FIELD_NAME, names), eq(FIELD_ASSIGNABLE_TYPE, assignableType.name())))).map
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(reportersCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(reportersCollection.find()).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(reportersCollection.find(eq(FIELD_DOMAIN, domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(reportersCollection.find(eq(FIELD_DOMAIN, domain))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(reportersCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(reportersCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(reportersCollection.insertOne(reporter))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(reporter.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(reporter.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(reportersCollection.replaceOne(eq(FIELD_ID, reporter.getId()), reporter))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(reporter.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(reporter.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(reportersCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(and(eq(FIELD_NODE_ID, nodeId), eq(FIELD_TYPE, type))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(and(eq(FIELD_NODE_ID, nodeId), eq(FIELD_TYPE, type))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.insertOne(convert(monitoring)))).map(RxJavaReactorMigrationUtil.toJdkFunction((success)->monitoring)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.replaceOne(eq(FIELD_ID, monitoring.getId()), convert(monitoring)))).map(RxJavaReactorMigrationUtil.toJdkFunction((updateResult)->monitoring)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find(and(filters))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find(and(filters))).map
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(membershipsCollection.find(and(eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_REFERENCE_TYPE, referenceType.name())))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(membershipsCollection.find(and(eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_REFERENCE_TYPE, referenceType.name())))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(membershipsCollection.find(and(eq(FIELD_MEMBER_ID, memberId), eq(FIELD_MEMBER_TYPE, memberType.name())))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(membershipsCollection.find(and(eq(FIELD_MEMBER_ID, memberId), eq(FIELD_MEMBER_TYPE, memberType.name())))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqGroupId, eqUserId)).map(RxJavaReactorMigrationUtil.toJdkFunction((filter)->and(eqReference, filter))).switchIfEmpty(Mono.just(eqReference)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((filter)->RxJava2Adapter.fluxToFlowable(Flux.from(membershipsCollection.find(filter))))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqGroupId, eqUserId)).map(RxJavaReactorMigrationUtil.toJdkFunction((filter)->and(eqReference, filter))).switchIfEmpty(Mono.just(eqReference)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((filter)->RxJava2Adapter.fluxToFlowable(Flux.from(membershipsCollection.find(filter))))).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqGroupId, eqUserId)).map(RxJavaReactorMigrationUtil.toJdkFunction((filter)->and(eqReference, filter))).switchIfEmpty(Mono.just(eqReference)).flatMapMany
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqGroupId, eqUserId)).map(RxJavaReactorMigrationUtil.toJdkFunction((filter)->and(eqReference, filter))).switchIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqGroupId, eqUserId)).map(RxJavaReactorMigrationUtil.toJdkFunction((filter)->and(eqReference, filter))).switchIfEmpty(Mono.just(eqReference))
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(membershipsCollection.find(filter)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(membershipsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_MEMBER_TYPE, memberType.name()), eq(FIELD_MEMBER_ID, memberId))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(membershipsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_MEMBER_TYPE, memberType.name()), eq(FIELD_MEMBER_ID, memberId))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(membershipsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(membershipsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(membershipsCollection.insertOne(membership))).map(RxJavaReactorMigrationUtil.toJdkFunction((success)->convert(membership))))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(membershipsCollection.replaceOne(eq(FIELD_ID, membership.getId()), membership))).map(RxJavaReactorMigrationUtil.toJdkFunction((success)->convert(membership))))
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(membershipsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find().first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find().first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.insertOne(convert(installation)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(installation.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(installation.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.replaceOne(eq(FIELD_ID, installation.getId()), convert(installation)))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(installation.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(installation.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(collection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(scopeApprovalsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, clientId), eq(FIELD_USER_ID, userId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(scopeApprovalsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, clientId), eq(FIELD_USER_ID, userId)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(scopeApprovalsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_USER_ID, user)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(scopeApprovalsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_USER_ID, user)))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopeApprovalsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopeApprovalsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(scopeApprovalsCollection.insertOne(scopeApprovalMongo))).flatMap((success)->RxJava2Adapter.singleToMono(_findById(scopeApprovalMongo.getId()))))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(scopeApprovalsCollection.replaceOne(and(eq(FIELD_DOMAIN, scopeApproval.getDomain()), eq(FIELD_CLIENT_ID, scopeApproval.getClientId()), eq(FIELD_USER_ID, scopeApproval.getUserId()), eq(FIELD_SCOPE, scopeApproval.getScope())), scopeApprovalMongo))).flatMap((updateResult)->RxJava2Adapter.singleToMono(_findById(scopeApprovalMongo.getId()))))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopeApprovalsCollection.find(and(eq(FIELD_DOMAIN, scopeApproval.getDomain()), eq(FIELD_CLIENT_ID, scopeApproval.getClientId()), eq(FIELD_USER_ID, scopeApproval.getUserId()), eq(FIELD_SCOPE, scopeApproval.getScope()))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopeApprovalsCollection.find(and(eq(FIELD_DOMAIN, scopeApproval.getDomain()), eq(FIELD_CLIENT_ID, scopeApproval.getClientId()), eq(FIELD_USER_ID, scopeApproval.getUserId()), eq(FIELD_SCOPE, scopeApproval.getScope()))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(scopeApprovalsCollection.find(and(eq(FIELD_DOMAIN, scopeApproval.getDomain()), eq(FIELD_CLIENT_ID, scopeApproval.getClientId()), eq(FIELD_USER_ID, scopeApproval.getUserId()), eq(FIELD_SCOPE, scopeApproval.getScope()))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(scopeApprovalsCollection.deleteMany(and(eq(FIELD_DOMAIN, domain), eq(FIELD_SCOPE, scope)))))
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(scopeApprovalsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(scopeApprovalsCollection.deleteMany(and(eq(FIELD_DOMAIN, domain), eq(FIELD_USER_ID, user), eq(FIELD_CLIENT_ID, client)))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(scopeApprovalsCollection.deleteMany(and(eq(FIELD_DOMAIN, domain), eq(FIELD_USER_ID, user)))))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(scopeApprovalsCollection.find(eq(FIELD_ID, id)).first())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(authorizationCodeCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(authorizationCodeCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(authorizationCodeCollection.insertOne(convert(authorizationCode)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(authorizationCode.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(authorizationCode.getId())).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(authorizationCodeCollection.findOneAndDelete(eq(FIELD_ID, code))), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(authorizationCodeCollection.findOneAndDelete(eq(FIELD_ID, code))), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(authorizationCodeCollection.find(eq(FIELD_CODE, code)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(authorizationCodeCollection.find(eq(FIELD_CODE, code)).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(emailsCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(emailsCollection.find()).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CLIENT, client)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CLIENT, client)))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_TEMPLATE, template), exists(FIELD_CLIENT, false))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_TEMPLATE, template), exists(FIELD_CLIENT, false))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CLIENT, client), eq(FIELD_TEMPLATE, template))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CLIENT, client), eq(FIELD_TEMPLATE, template))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, id))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(emailsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, id))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(emailsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(emailsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(emailsCollection.insertOne(email))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(email.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(email.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(emailsCollection.replaceOne(eq(FIELD_ID, email.getId()), email))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(email.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(email.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(emailsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(botDetectionMongoCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(botDetectionMongoCollection.find()).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(botDetectionMongoCollection.find(and(eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_REFERENCE_TYPE, referenceType.name())))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(botDetectionMongoCollection.find(and(eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_REFERENCE_TYPE, referenceType.name())))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(botDetectionMongoCollection.find(eq(FIELD_ID, botDetectionId)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(botDetectionMongoCollection.find(eq(FIELD_ID, botDetectionId)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(botDetectionMongoCollection.insertOne(entity))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(entity.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(entity.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(botDetectionMongoCollection.replaceOne(eq(FIELD_ID, entity.getId()), entity))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(entity.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(entity.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(botDetectionMongoCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(flowsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(flowsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(flowsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_APPLICATION, application)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(flowsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_APPLICATION, application)))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(flowsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, id))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(flowsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, id))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(flowsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(flowsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(flowsCollection.insertOne(flow))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(flow.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(flow.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(flowsCollection.replaceOne(eq(FIELD_ID, flow.getId()), flow))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(flow.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(flow.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(flowsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(eventsCollection.find(and(filters))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(eventsCollection.find(and(filters))).map
1 | Mono | RETURN_TYPE
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(eventsCollection.find(eq(FIELD_ID, id)).first()).map(this::convert), BackpressureStrategy.BUFFER).next())
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(eventsCollection.insertOne(event))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(event.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(event.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(eventsCollection.replaceOne(eq(FIELD_ID, event.getId()), event))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(event.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(event.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(eventsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find()).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find(eq(FIELD_ORGANIZATION_ID, organizationId))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find(eq(FIELD_ORGANIZATION_ID, organizationId))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(and(eq(FIELD_ID, id), eq(FIELD_ORGANIZATION_ID, organizationId))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(and(eq(FIELD_ID, id), eq(FIELD_ORGANIZATION_ID, organizationId))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.insertOne(convert(environment)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(environment.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(environment.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.replaceOne(eq(FIELD_ID, environment.getId()), convert(environment)))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(environment.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(environment.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(collection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(loginAttemptsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(loginAttemptsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(loginAttemptsCollection.find(query(criteria)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(loginAttemptsCollection.find(query(criteria)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(loginAttemptsCollection.insertOne(loginAttempt))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(loginAttempt.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(loginAttempt.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(loginAttemptsCollection.replaceOne(eq(FIELD_ID, loginAttempt.getId()), loginAttempt))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(loginAttempt.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(loginAttempt.getId())).single()
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(loginAttemptsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(loginAttemptsCollection.deleteOne(query(criteria))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(certificatesCollection.find(eq(FIELD_DOMAIN, domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(certificatesCollection.find(eq(FIELD_DOMAIN, domain))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(certificatesCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(certificatesCollection.find()).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(certificatesCollection.find(eq(FIELD_ID, certificateId)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(certificatesCollection.find(eq(FIELD_ID, certificateId)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(certificatesCollection.insertOne(certificate))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(certificate.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(certificate.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(certificatesCollection.replaceOne(eq(FIELD_ID, certificate.getId()), certificate))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(certificate.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(certificate.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(certificatesCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(authContextCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(authContextCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(authContextCollection.find(and(eq(FIELD_TRANSACTION_ID, transactionId), gt(FIELD_RESET_TIME, new Date()))).sort(new BasicDBObject(FIELD_VERSION, -1)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(authContextCollection.find(and(eq(FIELD_TRANSACTION_ID, transactionId), gt(FIELD_RESET_TIME, new Date()))).sort(new BasicDBObject(FIELD_VERSION, -1)).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(authContextCollection.find(and(eq(FIELD_TRANSACTION_ID, transactionId), gt(FIELD_RESET_TIME, new Date()))).sort(new BasicDBObject(FIELD_VERSION, -1))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(authContextCollection.find(and(eq(FIELD_TRANSACTION_ID, transactionId), gt(FIELD_RESET_TIME, new Date()))).sort(new BasicDBObject(FIELD_VERSION, -1))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(authContextCollection.insertOne(contextMongo))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(contextMongo.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(contextMongo.getId())).single()
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(authContextCollection.deleteMany(eq(FIELD_TRANSACTION_ID, transactionId))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(authContextCollection.deleteOne(and(eq(FIELD_TRANSACTION_ID, transactionId), eq(FIELD_VERSION, version)))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find(eqReference)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find(eqReference)).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find(query)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find(query)).map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.insertOne(convert(alertTrigger)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(alertTrigger.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(alertTrigger.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.replaceOne(eq(FIELD_ID, alertTriggerMongo.getId()), alertTriggerMongo))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(alertTriggerMongo.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(alertTriggerMongo.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(collection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(requestObjectCollection.find(eq(FIELD_ID, id)).limit(1).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(requestObjectCollection.find(eq(FIELD_ID, id)).limit(1).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(requestObjectCollection.insertOne(convert(requestObject)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(requestObject.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(requestObject.getId())).single()
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(requestObjectCollection.findOneAndDelete(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(formsCollection.find(eq(FIELD_REFERENCE_TYPE, referenceType.name()))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(formsCollection.find(eq(FIELD_REFERENCE_TYPE, referenceType.name()))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CLIENT, client)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CLIENT, client)))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_TEMPLATE, template), exists(FIELD_CLIENT, false))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_TEMPLATE, template), exists(FIELD_CLIENT, false))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CLIENT, client), eq(FIELD_TEMPLATE, template))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CLIENT, client), eq(FIELD_TEMPLATE, template))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, id))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(formsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, id))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(formsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(formsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(formsCollection.insertOne(page))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(page.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(page.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(formsCollection.replaceOne(eq(FIELD_ID, page.getId()), page))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(page.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(page.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(formsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find(eqReference)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find(eqReference)).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find(and(eqReference, query))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find(and(eqReference, query))).map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.insertOne(convert(alertNotifier)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(alertNotifier.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(alertNotifier.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.replaceOne(eq(FIELD_ID, alertNotifierMongo.getId()), alertNotifierMongo))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(alertNotifierMongo.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(alertNotifierMongo.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(collection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(resourceCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(resourceCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(resourceCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(resourceCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(resourceCollection.insertOne(res))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(res.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(res.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(resourceCollection.replaceOne(eq(FIELD_ID, authenticator.getId()), authenticator))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(authenticator.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(authenticator.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(resourceCollection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(permissionTicketCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(permissionTicketCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(permissionTicketCollection.insertOne(permissionTicket))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(permissionTicket.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(permissionTicket.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(permissionTicketCollection.replaceOne(eq(FIELD_ID, permissionTicket.getId()), permissionTicket))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(permissionTicket.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(permissionTicket.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(permissionTicketCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(tagsCollection.find(and(eq(FIELD_ID, id), eq(FIELD_ORGANIZATION_ID, organizationId))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(tagsCollection.find(and(eq(FIELD_ID, id), eq(FIELD_ORGANIZATION_ID, organizationId))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(tagsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(tagsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(tagsCollection.find(eq(FIELD_ORGANIZATION_ID, organizationId))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(tagsCollection.find(eq(FIELD_ORGANIZATION_ID, organizationId))).map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(tagsCollection.insertOne(tag))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(tag.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(tag.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(tagsCollection.replaceOne(eq(FIELD_ID, tag.getId()), tag))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(tag.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(tag.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(tagsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(factorsCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(factorsCollection.find()).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(factorsCollection.find(eq(FIELD_DOMAIN, domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(factorsCollection.find(eq(FIELD_DOMAIN, domain))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(factorsCollection.find(eq(FIELD_ID, factorId)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(factorsCollection.find(eq(FIELD_ID, factorId)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(factorsCollection.insertOne(authenticator))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(authenticator.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(authenticator.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(factorsCollection.replaceOne(eq(FIELD_ID, authenticator.getId()), authenticator))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(authenticator.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(authenticator.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(factorsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(credentialsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_USER_ID, userId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(credentialsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_USER_ID, userId)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(credentialsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_USERNAME, username)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(credentialsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_USERNAME, username)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(credentialsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CREDENTIAL_ID, credentialId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(credentialsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_CREDENTIAL_ID, credentialId)))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(credentialsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(credentialsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(credentialsCollection.insertOne(credential))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(credential.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(credential.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(credentialsCollection.replaceOne(eq(FIELD_ID, credential.getId()), credential))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(credential.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(credential.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(credentialsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(credentialsCollection.deleteMany(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_USER_ID, userId)))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(credentialsCollection.deleteMany(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_AAGUID, aaguid)))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(extensionGrantsCollection.find(eq(FIELD_DOMAIN, domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(extensionGrantsCollection.find(eq(FIELD_DOMAIN, domain))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(extensionGrantsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_NAME, name))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(extensionGrantsCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_NAME, name))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(extensionGrantsCollection.find(eq(FIELD_ID, tokenGranterId)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(extensionGrantsCollection.find(eq(FIELD_ID, tokenGranterId)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(extensionGrantsCollection.insertOne(extensionGrant))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(extensionGrant.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(extensionGrant.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(extensionGrantsCollection.replaceOne(eq(FIELD_ID, extensionGrant.getId()), extensionGrant))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(extensionGrant.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(extensionGrant.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(extensionGrantsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(resourceCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(resourceCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(resourceCollection.insertOne(resource))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(resource.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(resource.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(resourceCollection.replaceOne(eq(FIELD_ID, resourceMongo.getId()), resourceMongo))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(resourceMongo.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(resourceMongo.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(resourceCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(resourceCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, client), eq(FIELD_USER_ID, user)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(resourceCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, client), eq(FIELD_USER_ID, user)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(resourceCollection.find(in(FIELD_ID, resources))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(resourceCollection.find(in(FIELD_ID, resources))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(resourceCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, client), in(FIELD_ID, resources)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(resourceCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, client), in(FIELD_ID, resources)))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(resourceCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, client), eq(FIELD_USER_ID, user), eq(FIELD_ID, resource))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(resourceCollection.find(and(eq(FIELD_DOMAIN, domain), eq(FIELD_CLIENT_ID, client), eq(FIELD_USER_ID, user), eq(FIELD_ID, resource))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(refreshTokenCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(refreshTokenCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(refreshTokenCollection.find(eq(FIELD_TOKEN, token)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(refreshTokenCollection.find(eq(FIELD_TOKEN, token)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(refreshTokenCollection.insertOne(convert(refreshToken)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(refreshToken.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(refreshToken.getId())).single()
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(refreshTokenCollection.bulkWrite(convert(refreshTokens))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(refreshTokenCollection.deleteOne(eq(FIELD_TOKEN, token))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(refreshTokenCollection.deleteMany(eq(FIELD_SUBJECT, userId))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(refreshTokenCollection.deleteMany(and(eq(FIELD_DOMAIN, domainId), eq(FIELD_CLIENT, clientId), eq(FIELD_SUBJECT, userId)))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(refreshTokenCollection.deleteMany(and(eq(FIELD_DOMAIN, domainId), eq(FIELD_SUBJECT, userId)))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(collection.find(in(HRID_KEY, hrids))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(collection.find(in(HRID_KEY, hrids))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(collection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.insertOne(convert(organization)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(organization.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(organization.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(collection.replaceOne(eq(FIELD_ID, organization.getId()), convert(organization)))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(organization.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(organization.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(collection.deleteOne(eq(FIELD_ID, id))))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(accessTokenCollection.find(eq(FIELD_ID, id)).limit(1).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(accessTokenCollection.find(eq(FIELD_ID, id)).limit(1).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(accessTokenCollection.find(eq(FIELD_TOKEN, token)).limit(1).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(accessTokenCollection.find(eq(FIELD_TOKEN, token)).limit(1).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(accessTokenCollection.insertOne(convert(accessToken)))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(accessToken.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(accessToken.getId())).single()
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(accessTokenCollection.bulkWrite(convert(accessTokens))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(accessTokenCollection.findOneAndDelete(eq(FIELD_TOKEN, token))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(accessTokenCollection.deleteMany(eq(FIELD_SUBJECT, userId))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(accessTokenCollection.deleteMany(and(eq(FIELD_DOMAIN, domainId), eq(FIELD_CLIENT, clientId), eq(FIELD_SUBJECT, userId)))))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(accessTokenCollection.deleteMany(and(eq(FIELD_DOMAIN, domainId), eq(FIELD_SUBJECT, userId)))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(groupsCollection.find(eq(FIELD_MEMBERS, memberId))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(groupsCollection.find(eq(FIELD_MEMBERS, memberId))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(groupsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(groupsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId)))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(groupsCollection.find(in(FIELD_ID, ids))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(groupsCollection.find(in(FIELD_ID, ids))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(groupsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_NAME, groupName))).limit(1).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(groupsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_NAME, groupName))).limit(1).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(groupsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, group))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(groupsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, group))).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(groupsCollection.find(eq(FIELD_ID, group)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(groupsCollection.find(eq(FIELD_ID, group)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(groupsCollection.insertOne(group))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(group.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(group.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(groupsCollection.replaceOne(eq(FIELD_ID, group.getId()), group))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(group.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(group.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(groupsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(domainsCollection.find()).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoDomainRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(domainsCollection.find()).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(domainsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(MongoDomainRepository::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(domainsCollection.find(eq(FIELD_ID, id)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(domainsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_HRID, hrid)))), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(MongoDomainRepository::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(domainsCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_HRID, hrid)))), BackpressureStrategy.BUFFER).next().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(domainsCollection.find(in(FIELD_ID, ids))).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoDomainRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(domainsCollection.find(in(FIELD_ID, ids))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(domainsCollection.find(mongoQuery)).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoDomainRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(domainsCollection.find(mongoQuery)).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(domainsCollection.find(mongoQuery)).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoDomainRepository::convert)))
1 | Flux | from | METHOD_INVOCATION | Flux.from(domainsCollection.find(mongoQuery)).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqAlertEnabled)).switchIfEmpty(Mono.just(new BsonDocument())).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((filter)->RxJava2Adapter.fluxToFlowable(Flux.from(domainsCollection.find(filter))))).map(RxJavaReactorMigrationUtil.toJdkFunction(MongoDomainRepository::convert)))
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqAlertEnabled)).switchIfEmpty(Mono.just(new BsonDocument())).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((filter)->RxJava2Adapter.fluxToFlowable(Flux.from(domainsCollection.find(filter))))).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqAlertEnabled)).switchIfEmpty(Mono.just(new BsonDocument())).flatMapMany
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(toBsonFilter(criteria.isLogicalOR(), eqAlertEnabled)).switchIfEmpty(Mono.just(new BsonDocument()))
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(domainsCollection.find(filter)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(domainsCollection.insertOne(domain))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(domain.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(domain.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(domainsCollection.replaceOne(eq(FIELD_ID, domain.getId()), domain))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(domain.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(domain.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(domainsCollection.deleteOne(eq(FIELD_ID, id))))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(Observable.fromPublisher(mongoDatabase.listCollectionNames()), BackpressureStrategy.BUFFER).flatMap((z)->RxJava2Adapter.observableToFlux(Observable.wrap(RxJavaReactorMigrationUtil.<String, ObservableSource<DeleteResult>>toJdkFunction((collectionName)->Observable.fromPublisher(mongoDatabase.getCollection(collectionName).deleteMany(new Document()))).apply(z)), BackpressureStrategy.BUFFER)))
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(organizationRepository.findByHrids(hrids)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toOrganization)))
1 | Mono | RETURN_TYPE
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByOrganizationId(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganization.Identity::getIdentity)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByOrganizationId(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganization.Identity::getIdentity)).collectList
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(domainRestrictionRepository.findAllByOrganizationId(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganization.DomainRestriction::getDomainRestriction)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRestrictionRepository.findAllByOrganizationId(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganization.DomainRestriction::getDomainRestriction)).collectList
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(hridsRepository.findAllByOrganizationId(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganization.Hrid::getHrid)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(hridsRepository.findAllByOrganizationId(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganization.Hrid::getHrid)).collectList
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(organizationRepository.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toOrganization)).zipWith(RxJava2Adapter.maybeToMono(identities), RxJavaReactorMigrationUtil.toJdkBiFunction((org,idp)->{
    LOGGER.debug("findById({}) fetch {} identities", organizationId, idp.size());
    org.setIdentities(idp);
    return org;
})).zipWith(RxJava2Adapter.maybeToMono(domains), RxJavaReactorMigrationUtil.toJdkBiFunction((org,domain)->{
    LOGGER.debug("findById({}) fetch {} domainRestrictions", organizationId, domain.size());
    org.setDomainRestrictions(domain);
    return org;
})).zipWith(RxJava2Adapter.maybeToMono(hrids), RxJavaReactorMigrationUtil.toJdkBiFunction((org,hrid)->{
    LOGGER.debug("findById({}) fetch {} hrids", organizationId, hrid.size());
    org.setHrids(hrid);
    return org;
})))
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(organizationRepository.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toOrganization)).zipWith(RxJava2Adapter.maybeToMono(identities), RxJavaReactorMigrationUtil.toJdkBiFunction((org,idp)->{
    LOGGER.debug("findById({}) fetch {} identities", organizationId, idp.size());
    org.setIdentities(idp);
    return org;
})).zipWith(RxJava2Adapter.maybeToMono(domains), RxJavaReactorMigrationUtil.toJdkBiFunction((org,domain)->{
    LOGGER.debug("findById({}) fetch {} domainRestrictions", organizationId, domain.size());
    org.setDomainRestrictions(domain);
    return org;
})).zipWith
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(organizationRepository.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toOrganization)).zipWith(RxJava2Adapter.maybeToMono(identities), RxJavaReactorMigrationUtil.toJdkBiFunction((org,idp)->{
    LOGGER.debug("findById({}) fetch {} identities", organizationId, idp.size());
    org.setIdentities(idp);
    return org;
})).zipWith
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(organizationRepository.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toOrganization)).zipWith
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(insert.then(storeIdentities).then(storeDomainRestrictions).then(storeHrids).as(trx::transactional).then(maybeToMono(findById(organization.getId()))))
1 | Mono | then | METHOD_INVOCATION | insert.then(storeIdentities).then(storeDomainRestrictions).then(storeHrids).as
1 | Mono | then | METHOD_INVOCATION | insert.then(storeIdentities).then(storeDomainRestrictions).then
1 | Mono | then | METHOD_INVOCATION | insert.then(storeIdentities).then
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(update.then(storeIdentities).then(storeDomainRestrictions).then(storeHrids).as(trx::transactional).then(maybeToMono(findById(organization.getId()))))
1 | Mono | then | METHOD_INVOCATION | update.then(storeIdentities).then(storeDomainRestrictions).then(storeHrids).as
1 | Mono | then | METHOD_INVOCATION | update.then(storeIdentities).then(storeDomainRestrictions).then
1 | Mono | then | METHOD_INVOCATION | update.then(storeIdentities).then
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteDomainRestrictions).then(deleteIdentities).then(deleteHrids).as
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteDomainRestrictions).then(deleteIdentities).then
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteDomainRestrictions).then
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | empty | METHOD_INVOCATION | Mono<Void> delete = Mono.empty()
1 | Flux | ignoreElements | METHOD_INVOCATION | return delete.thenMany(Flux.fromIterable(identities).map((identity)->{
    JdbcOrganization.Identity dbIdentity = new JdbcOrganization.Identity();
    dbIdentity.setIdentity(identity);
    dbIdentity.setOrganizationId(organization.getId());
    return dbIdentity;
}).concatMap((dbIdentity)->dbClient.insert().into(JdbcOrganization.Identity.class).using(dbIdentity).then())).ignoreElements();
1 | Mono | thenMany | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(identities).map((identity)->{
    JdbcOrganization.Identity dbIdentity = new JdbcOrganization.Identity();
    dbIdentity.setIdentity(identity);
    dbIdentity.setOrganizationId(organization.getId());
    return dbIdentity;
}).concatMap((dbIdentity)->dbClient.insert().into(JdbcOrganization.Identity.class).using(dbIdentity).then())).ignoreElements
1 | Flux | concatMap | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(identities).map((identity)->{
    JdbcOrganization.Identity dbIdentity = new JdbcOrganization.Identity();
    dbIdentity.setIdentity(identity);
    dbIdentity.setOrganizationId(organization.getId());
    return dbIdentity;
}).concatMap((dbIdentity)->dbClient.insert().into(JdbcOrganization.Identity.class).using(dbIdentity).then()))
1 | Flux | map | METHOD_INVOCATION | Flux.fromIterable(identities).map((identity)->{
    JdbcOrganization.Identity dbIdentity = new JdbcOrganization.Identity();
    dbIdentity.setIdentity(identity);
    dbIdentity.setOrganizationId(organization.getId());
    return dbIdentity;
}).concatMap
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(identities).map
1 | Mono | empty | METHOD_INVOCATION | return Mono.empty();
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | empty | METHOD_INVOCATION | Mono<Void> delete = Mono.empty()
1 | Flux | ignoreElements | METHOD_INVOCATION | return delete.thenMany(Flux.fromIterable(domainRestrictions).map((domainRestriction)->{
    JdbcOrganization.DomainRestriction dbDomainRestriction = new JdbcOrganization.DomainRestriction();
    dbDomainRestriction.setDomainRestriction(domainRestriction);
    dbDomainRestriction.setOrganizationId(organization.getId());
    return dbDomainRestriction;
}).concatMap((dbDomainRestriction)->dbClient.insert().into(JdbcOrganization.DomainRestriction.class).using(dbDomainRestriction).then())).ignoreElements();
1 | Mono | thenMany | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(domainRestrictions).map((domainRestriction)->{
    JdbcOrganization.DomainRestriction dbDomainRestriction = new JdbcOrganization.DomainRestriction();
    dbDomainRestriction.setDomainRestriction(domainRestriction);
    dbDomainRestriction.setOrganizationId(organization.getId());
    return dbDomainRestriction;
}).concatMap((dbDomainRestriction)->dbClient.insert().into(JdbcOrganization.DomainRestriction.class).using(dbDomainRestriction).then())).ignoreElements
1 | Flux | concatMap | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(domainRestrictions).map((domainRestriction)->{
    JdbcOrganization.DomainRestriction dbDomainRestriction = new JdbcOrganization.DomainRestriction();
    dbDomainRestriction.setDomainRestriction(domainRestriction);
    dbDomainRestriction.setOrganizationId(organization.getId());
    return dbDomainRestriction;
}).concatMap((dbDomainRestriction)->dbClient.insert().into(JdbcOrganization.DomainRestriction.class).using(dbDomainRestriction).then()))
1 | Flux | map | METHOD_INVOCATION | Flux.fromIterable(domainRestrictions).map((domainRestriction)->{
    JdbcOrganization.DomainRestriction dbDomainRestriction = new JdbcOrganization.DomainRestriction();
    dbDomainRestriction.setDomainRestriction(domainRestriction);
    dbDomainRestriction.setOrganizationId(organization.getId());
    return dbDomainRestriction;
}).concatMap
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(domainRestrictions).map
1 | Mono | empty | METHOD_INVOCATION | return Mono.empty();
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | empty | METHOD_INVOCATION | Mono<Void> delete = Mono.empty()
1 | Flux | ignoreElements | METHOD_INVOCATION | return delete.thenMany(Flux.fromIterable(dbHrids)).concatMap((hrid)->dbClient.insert().into(JdbcOrganization.Hrid.class).using(hrid).then()).ignoreElements();
1 | Flux | concatMap | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(dbHrids)).concatMap((hrid)->dbClient.insert().into(JdbcOrganization.Hrid.class).using(hrid).then()).ignoreElements
1 | Mono | thenMany | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(dbHrids)).concatMap
1 | Flux | fromIterable | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(dbHrids))
1 | Mono | empty | METHOD_INVOCATION | return Mono.empty();
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcBotDetection.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcBotDetection.class).matching(from(where(REFERENCE_ID_FIELD).is(referenceId).and(where(REF_TYPE_FIELD).is(referenceType.name())))).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(dbClient.select().from(JdbcBotDetection.class).matching(from(where(ID_FIELD).is(id))).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(dbClient.select().from(JdbcSystemTask.class).project("*").matching(from(where("id").is(id))).as(JdbcSystemTask.class).first().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("SystemTask can\'t be updated without control on the operationId")))
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(dbClient.select().from("scopes").project("*").matching(from(where("domain").is(domain))).orderBy(Sort.Order.by("scopes." + databaseDialectHelper.toSql(SqlIdentifier.quoted("key")))).page(PageRequest.of(page, size)).as(JdbcScope.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((scope)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux()))).collectList().flatMap((content)->RxJava2Adapter.singleToMono(countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<>(content, page, count)))))
1 | Flux | collectList | METHOD_INVOCATION | dbClient.select().from("scopes").project("*").matching(from(where("domain").is(domain))).orderBy(Sort.Order.by("scopes." + databaseDialectHelper.toSql(SqlIdentifier.quoted("key")))).page(PageRequest.of(page, size)).as(JdbcScope.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((scope)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux()))).collectList().flatMap
1 | Flux | flatMap | METHOD_INVOCATION | dbClient.select().from("scopes").project("*").matching(from(where("domain").is(domain))).orderBy(Sort.Order.by("scopes." + databaseDialectHelper.toSql(SqlIdentifier.quoted("key")))).page(PageRequest.of(page, size)).as(JdbcScope.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((scope)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux()))).collectList
1 | Flux | map | METHOD_INVOCATION | dbClient.select().from("scopes").project("*").matching(from(where("domain").is(domain))).orderBy(Sort.Order.by("scopes." + databaseDialectHelper.toSql(SqlIdentifier.quoted("key")))).page(PageRequest.of(page, size)).as(JdbcScope.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scope))
1 | Mono | map | METHOD_INVOCATION | (content)->RxJava2Adapter.singleToMono(countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<>(content, page, count)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(dbClient.execute(search).bind("domain", domain).bind("value", wildcardSearch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcScope.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((scope)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux()))).collectList().flatMap((data)->dbClient.execute(count).bind("domain", domain).bind("value", wildcardSearch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<>(data, page, total)))))
1 | Flux | collectList | METHOD_INVOCATION | dbClient.execute(search).bind("domain", domain).bind("value", wildcardSearch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcScope.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((scope)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux()))).collectList().flatMap
1 | Flux | flatMap | METHOD_INVOCATION | dbClient.execute(search).bind("domain", domain).bind("value", wildcardSearch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcScope.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((scope)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux()))).collectList
1 | Flux | map | METHOD_INVOCATION | dbClient.execute(search).bind("domain", domain).bind("value", wildcardSearch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcScope.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scope))
1 | Mono | map | METHOD_INVOCATION | (data)->dbClient.execute(count).bind("domain", domain).bind("value", wildcardSearch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<>(data, page, total)))
1 | Mono | RETURN_TYPE
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(claimRepository.findByScopeId(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcScope.Claims::getClaim)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(claimRepository.findByScopeId(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcScope.Claims::getClaim)).collectList
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(maybeScope).zipWith(RxJava2Adapter.maybeToMono(scopeClaims), RxJavaReactorMigrationUtil.toJdkBiFunction((scope,claims)->{
    LOGGER.debug("findById({}) fetch {} scopeClaims", id, claims == null ? 0 : claims.size());
    scope.setClaims(claims);
    return scope;
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(dbClient.select().from(JdbcScope.class).project("*").matching(from(where("domain").is(domain).and(where(databaseDialectHelper.toSql(SqlIdentifier.quoted("key"))).is(key)))).as(JdbcScope.class).first().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(z)), z.getId()).as(RxJava2Adapter::maybeToMono)))
1 | Mono | map | METHOD_INVOCATION | dbClient.select().from(JdbcScope.class).project("*").matching(from(where("domain").is(domain).and(where(databaseDialectHelper.toSql(SqlIdentifier.quoted("key"))).is(key)))).as(JdbcScope.class).first().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(z))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcScope.class).project("*").matching(from(where("domain").is(domain).and(where(databaseDialectHelper.toSql(SqlIdentifier.quoted("key"))).in(keys)))).as(JdbcScope.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((scope)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux()))))
1 | Flux | map | METHOD_INVOCATION | dbClient.select().from(JdbcScope.class).project("*").matching(from(where("domain").is(domain).and(where(databaseDialectHelper.toSql(SqlIdentifier.quoted("key"))).in(keys)))).as(JdbcScope.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(scope)), scope.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scope))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->completeWithClaims(RxJava2Adapter.monoToMaybe(Mono.just(z)), z.getId()).as(RxJava2Adapter::maybeToMono)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(z))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | action = action.then(Flux.fromIterable(scopeClaims).concatMap((claim)->{
    JdbcScope.Claims sClaim = new JdbcScope.Claims();
    sClaim.setClaim(claim);
    sClaim.setScopeId(item.getId());
    return dbClient.insert().into(JdbcScope.Claims.class).using(sClaim).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | action.then(Flux.fromIterable(scopeClaims).concatMap((claim)->{
    JdbcScope.Claims sClaim = new JdbcScope.Claims();
    sClaim.setClaim(claim);
    sClaim.setScopeId(item.getId());
    return dbClient.insert().into(JdbcScope.Claims.class).using(sClaim).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(scopeClaims).concatMap((claim)->{
    JdbcScope.Claims sClaim = new JdbcScope.Claims();
    sClaim.setClaim(claim);
    sClaim.setScopeId(item.getId());
    return dbClient.insert().into(JdbcScope.Claims.class).using(sClaim).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(scopeClaims).concatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | action = action.then(Flux.fromIterable(scopeClaims).concatMap((claim)->{
    JdbcScope.Claims sClaim = new JdbcScope.Claims();
    sClaim.setClaim(claim);
    sClaim.setScopeId(item.getId());
    return dbClient.insert().into(JdbcScope.Claims.class).using(sClaim).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | action.then(Flux.fromIterable(scopeClaims).concatMap((claim)->{
    JdbcScope.Claims sClaim = new JdbcScope.Claims();
    sClaim.setClaim(claim);
    sClaim.setScopeId(item.getId());
    return dbClient.insert().into(JdbcScope.Claims.class).using(sClaim).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(scopeClaims).concatMap((claim)->{
    JdbcScope.Claims sClaim = new JdbcScope.Claims();
    sClaim.setClaim(claim);
    sClaim.setScopeId(item.getId());
    return dbClient.insert().into(JdbcScope.Claims.class).using(sClaim).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(scopeClaims).concatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(deleteClaims.then(action).as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | then | METHOD_INVOCATION | deleteClaims.then(action).as
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | deleteClaim.then(delete).as
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(userRepository.findByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(userRepository.findByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcUser.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcUser.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()), CONCURRENT_FLATMAP)).collectList().flatMap((content)->RxJava2Adapter.singleToMono(userRepository.countByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<User>(content, page, count)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcUser.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcUser.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()), CONCURRENT_FLATMAP)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcUser.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcUser.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | map | METHOD_INVOCATION | (content)->RxJava2Adapter.singleToMono(userRepository.countByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<User>(content, page, count)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcUser.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(app)).flux()), CONCURRENT_FLATMAP)).collectList().flatMap((data)->dbClient.execute(count).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<User>(data, page, total)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcUser.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(app)).flux()), CONCURRENT_FLATMAP)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcUser.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(app)).flux())
1 | Mono | map | METHOD_INVOCATION | (data)->dbClient.execute(count).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<User>(data, page, total)))
1 | Flux | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(userFlux.map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))).collectList().flatMap((list)->userCount.map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<User>(list, page, total)))))
1 | Flux | collectList | METHOD_INVOCATION | userFlux.map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))).collectList().flatMap
1 | Flux | flatMap | METHOD_INVOCATION | userFlux.map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))).collectList
1 | Flux | map | METHOD_INVOCATION | userFlux.map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | map | METHOD_INVOCATION | (list)->userCount.map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<User>(list, page, total)))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.execute(databaseDialectHelper.buildFindUserByReferenceAndEmail(DOMAIN, domain, email, strict)).bind("refId", domain).bind("refType", DOMAIN.name()).bind("email", email).as(JdbcUser.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))))
1 | Flux | map | METHOD_INVOCATION | dbClient.execute(databaseDialectHelper.buildFindUserByReferenceAndEmail(DOMAIN, domain, email, strict)).bind("refId", domain).bind("refType", DOMAIN.name()).bind("email", email).as(JdbcUser.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findByUsername(ReferenceType.DOMAIN.name(), domain, username)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsername(ReferenceType.DOMAIN.name(), domain, username)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(referenceType.name(), referenceId, username, source)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(referenceType.name(), referenceId, username, source)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findByExternalIdAndSource(referenceType.name(), referenceId, externalId, source)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByExternalIdAndSource(referenceType.name(), referenceId, externalId, source)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(userRepository.findByIdIn(ids)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findById(referenceType.name(), referenceId, userId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(referenceType.name(), referenceId, userId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashMap<>()).flatMap((stats)->RxJava2Adapter.singleToMono(disabled).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(disabled) = {}", count);
    stats.put("disabled", count);
    return stats;
}))).flatMap((stats)->RxJava2Adapter.singleToMono(locked).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(locked) = {}", count);
    stats.put("locked", count);
    return stats;
}))).flatMap((stats)->RxJava2Adapter.singleToMono(inactive).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(inactive) = {}", count);
    stats.put("inactive", count);
    return stats;
}))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Map<Object, Object>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<HashMap<Object, Object>, Single<Map<Object, Object>>>)(stats)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(total).map(RxJavaReactorMigrationUtil.toJdkFunction((count)->{
    long value = count - (stats.values().stream().mapToLong((l)->(Long)l).sum());
    stats.put("active", value);
    LOGGER.debug("usersStatusRepartition(active) = {}", value);
    return stats;
})))).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(new HashMap<>()).flatMap((stats)->RxJava2Adapter.singleToMono(disabled).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(disabled) = {}", count);
    stats.put("disabled", count);
    return stats;
}))).flatMap((stats)->RxJava2Adapter.singleToMono(locked).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(locked) = {}", count);
    stats.put("locked", count);
    return stats;
}))).flatMap((stats)->RxJava2Adapter.singleToMono(inactive).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(inactive) = {}", count);
    stats.put("inactive", count);
    return stats;
}))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(new HashMap<>()).flatMap((stats)->RxJava2Adapter.singleToMono(disabled).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(disabled) = {}", count);
    stats.put("disabled", count);
    return stats;
}))).flatMap((stats)->RxJava2Adapter.singleToMono(locked).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(locked) = {}", count);
    stats.put("locked", count);
    return stats;
}))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(new HashMap<>()).flatMap((stats)->RxJava2Adapter.singleToMono(disabled).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(disabled) = {}", count);
    stats.put("disabled", count);
    return stats;
}))).flatMap
1 | Mono | just | METHOD_INVOCATION | Mono.just(new HashMap<>()).flatMap
1 | Mono | map | METHOD_INVOCATION | (stats)->RxJava2Adapter.singleToMono(disabled).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(disabled) = {}", count);
    stats.put("disabled", count);
    return stats;
}))
1 | Mono | map | METHOD_INVOCATION | (stats)->RxJava2Adapter.singleToMono(locked).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(locked) = {}", count);
    stats.put("locked", count);
    return stats;
}))
1 | Mono | map | METHOD_INVOCATION | (stats)->RxJava2Adapter.singleToMono(inactive).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("usersStatusRepartition(inactive) = {}", count);
    stats.put("inactive", count);
    return stats;
}))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(total).map(RxJavaReactorMigrationUtil.toJdkFunction((count)->{
    long value = count - (stats.values().stream().mapToLong((l)->(Long)l).sum());
    stats.put("active", value);
    LOGGER.debug("usersStatusRepartition(active) = {}", value);
    return stats;
})))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashMap<>()).flatMap((stats)->RxJava2Adapter.singleToMono(total).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("registrationsStatusRepartition(total) = {}", count);
    stats.put("total", count);
    return stats;
}))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Map<Object, Object>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<HashMap<Object, Object>, Single<Map<Object, Object>>>)(stats)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(completed).map(RxJavaReactorMigrationUtil.toJdkFunction((count)->{
    LOGGER.debug("registrationsStatusRepartition(completed) = {}", count);
    stats.put("completed", count);
    return stats;
})))).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(new HashMap<>()).flatMap((stats)->RxJava2Adapter.singleToMono(total).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("registrationsStatusRepartition(total) = {}", count);
    stats.put("total", count);
    return stats;
}))).flatMap
1 | Mono | just | METHOD_INVOCATION | Mono.just(new HashMap<>()).flatMap
1 | Mono | map | METHOD_INVOCATION | (stats)->RxJava2Adapter.singleToMono(total).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->{
    LOGGER.debug("registrationsStatusRepartition(total) = {}", count);
    stats.put("total", count);
    return stats;
}))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(completed).map(RxJavaReactorMigrationUtil.toJdkFunction((count)->{
    LOGGER.debug("registrationsStatusRepartition(completed) = {}", count);
    stats.put("completed", count);
    return stats;
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertAction.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | updateAction = deleteChildEntities(item.getId()).then(updateAction)
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(updateAction.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteChildEntities(id)).as
1 | Mono | RETURN_TYPE
1 | Mono | PARAM
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(addresses).concatMap((address)->{
    JdbcUser.Address jdbcAddr = mapper.map(address, JdbcUser.Address.class);
    jdbcAddr.setUserId(item.getId());
    return dbClient.insert().into(JdbcUser.Address.class).using(jdbcAddr).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(addresses).concatMap((address)->{
    JdbcUser.Address jdbcAddr = mapper.map(address, JdbcUser.Address.class);
    jdbcAddr.setUserId(item.getId());
    return dbClient.insert().into(JdbcUser.Address.class).using(jdbcAddr).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(addresses).concatMap((address)->{
    JdbcUser.Address jdbcAddr = mapper.map(address, JdbcUser.Address.class);
    jdbcAddr.setUserId(item.getId());
    return dbClient.insert().into(JdbcUser.Address.class).using(jdbcAddr).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(addresses).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(roles).concatMap((role)->{
    JdbcUser.Role jdbcRole = new JdbcUser.Role();
    jdbcRole.setUserId(item.getId());
    jdbcRole.setRole(role);
    return dbClient.insert().into(JdbcUser.Role.class).using(jdbcRole).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(roles).concatMap((role)->{
    JdbcUser.Role jdbcRole = new JdbcUser.Role();
    jdbcRole.setUserId(item.getId());
    jdbcRole.setRole(role);
    return dbClient.insert().into(JdbcUser.Role.class).using(jdbcRole).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(roles).concatMap((role)->{
    JdbcUser.Role jdbcRole = new JdbcUser.Role();
    jdbcRole.setUserId(item.getId());
    jdbcRole.setRole(role);
    return dbClient.insert().into(JdbcUser.Role.class).using(jdbcRole).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(roles).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(entitlements).concatMap((entitlement)->{
    JdbcUser.Entitlements jdbcEntitlement = new JdbcUser.Entitlements();
    jdbcEntitlement.setUserId(item.getId());
    jdbcEntitlement.setEntitlement(entitlement);
    return dbClient.insert().into(JdbcUser.Entitlements.class).using(jdbcEntitlement).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(entitlements).concatMap((entitlement)->{
    JdbcUser.Entitlements jdbcEntitlement = new JdbcUser.Entitlements();
    jdbcEntitlement.setUserId(item.getId());
    jdbcEntitlement.setEntitlement(entitlement);
    return dbClient.insert().into(JdbcUser.Entitlements.class).using(jdbcEntitlement).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(entitlements).concatMap((entitlement)->{
    JdbcUser.Entitlements jdbcEntitlement = new JdbcUser.Entitlements();
    jdbcEntitlement.setUserId(item.getId());
    jdbcEntitlement.setEntitlement(entitlement);
    return dbClient.insert().into(JdbcUser.Entitlements.class).using(jdbcEntitlement).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(entitlements).concatMap
1 | Mono | OTHER
1 | Mono | METHOD_REFERENCE | Mono::then
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(attributes.get())
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | return deleteRoles.then(deleteAddresses).then(deleteAttributes).then(deleteEntitlements);
1 | Mono | then | METHOD_INVOCATION | deleteRoles.then(deleteAddresses).then(deleteAttributes).then
1 | Mono | then | METHOD_INVOCATION | deleteRoles.then(deleteAddresses).then
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(userToComplete).flatMap((user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Entitlements::getEntitlement)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> entitlements)->{
    user.setEntitlements(entitlements);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.scim.Address> addresses)->{
    user.setAddresses(addresses);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(attributesRepository.findByUserId(user.getId())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Attribute> attributes)->{
    Map<String, List<Attribute>> map = attributes.stream().collect(StreamUtils.toMultiMap(JdbcUser.Attribute::getUserField, (io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Attribute attr)->mapper.map(attr, Attribute.class)));
    if (map.containsKey(ATTRIBUTE_USER_FIELD_EMAIL)) {
        user.setEmails(map.get(ATTRIBUTE_USER_FIELD_EMAIL));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_PHONE)) {
        user.setPhoneNumbers(map.get(ATTRIBUTE_USER_FIELD_PHONE));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_PHOTO)) {
        user.setPhotos(map.get(ATTRIBUTE_USER_FIELD_PHOTO));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_IM)) {
        user.setIms(map.get(ATTRIBUTE_USER_FIELD_IM));
    }
    return user;
}))))
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(userToComplete).flatMap((user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Entitlements::getEntitlement)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> entitlements)->{
    user.setEntitlements(entitlements);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.scim.Address> addresses)->{
    user.setAddresses(addresses);
    return user;
}))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(userToComplete).flatMap((user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Entitlements::getEntitlement)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> entitlements)->{
    user.setEntitlements(entitlements);
    return user;
}))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(userToComplete).flatMap((user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))).flatMap
1 | Mono | just | METHOD_INVOCATION | Mono.just(userToComplete).flatMap
1 | Mono | map | METHOD_INVOCATION | (user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Role::getRole)).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Role::getRole)).collectList
1 | Mono | map | METHOD_INVOCATION | (user)->RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Entitlements::getEntitlement)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> entitlements)->{
    user.setEntitlements(entitlements);
    return user;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Entitlements::getEntitlement)).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcUser.Entitlements::getEntitlement)).collectList
1 | Mono | map | METHOD_INVOCATION | (user)->RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.scim.Address> addresses)->{
    user.setAddresses(addresses);
    return user;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList
1 | Mono | map | METHOD_INVOCATION | (user)->RxJava2Adapter.flowableToFlux(attributesRepository.findByUserId(user.getId())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Attribute> attributes)->{
    Map<String, List<Attribute>> map = attributes.stream().collect(StreamUtils.toMultiMap(JdbcUser.Attribute::getUserField, (io.gravitee.am.repository.jdbc.management.api.model.JdbcUser.Attribute attr)->mapper.map(attr, Attribute.class)));
    if (map.containsKey(ATTRIBUTE_USER_FIELD_EMAIL)) {
        user.setEmails(map.get(ATTRIBUTE_USER_FIELD_EMAIL));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_PHONE)) {
        user.setPhoneNumbers(map.get(ATTRIBUTE_USER_FIELD_PHONE));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_PHOTO)) {
        user.setPhotos(map.get(ATTRIBUTE_USER_FIELD_PHOTO));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_IM)) {
        user.setIms(map.get(ATTRIBUTE_USER_FIELD_IM));
    }
    return user;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(attributesRepository.findByUserId(user.getId())).collectList().map
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(reporterRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(reporterRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertResult.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(reporterRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(entrypointRepository.findById(id, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeTags(z))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve entrypoint with id={} and organization={}", id, organizationId, error))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(entrypointRepository.findById(id, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeTags(z))).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(entrypointRepository.findById(id, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(entrypointRepository.findAllByOrganization(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((entrypoint)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeTags(entrypoint)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(entrypointRepository.findAllByOrganization(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeTags(entrypoint)).flux())
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(tagRepository.findAllByEntrypoint(entrypoint.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEntrypoint.Tag::getTag)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((tags)->{
    entrypoint.setTags(tags);
    return entrypoint;
})))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(tagRepository.findAllByEntrypoint(entrypoint.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEntrypoint.Tag::getTag)).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(tagRepository.findAllByEntrypoint(entrypoint.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEntrypoint.Tag::getTag)).collectList
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(entrypointRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeTags(z))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve entrypoint with id={} ", id, error))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(entrypointRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeTags(z))).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(entrypointRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | action = action.then(Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcEntrypoint.Tag tag = new JdbcEntrypoint.Tag();
    tag.setTag(tagValue);
    tag.setEntrypointId(item.getId());
    return dbClient.insert().into(JdbcEntrypoint.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | action.then(Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcEntrypoint.Tag tag = new JdbcEntrypoint.Tag();
    tag.setTag(tagValue);
    tag.setEntrypointId(item.getId());
    return dbClient.insert().into(JdbcEntrypoint.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcEntrypoint.Tag tag = new JdbcEntrypoint.Tag();
    tag.setTag(tagValue);
    tag.setEntrypointId(item.getId());
    return dbClient.insert().into(JdbcEntrypoint.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(tags).concatMap
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("unable to create entrypoint with id {}", item.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | action.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | action = action.then(Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcEntrypoint.Tag tag = new JdbcEntrypoint.Tag();
    tag.setTag(tagValue);
    tag.setEntrypointId(item.getId());
    return dbClient.insert().into(JdbcEntrypoint.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | action.then(Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcEntrypoint.Tag tag = new JdbcEntrypoint.Tag();
    tag.setTag(tagValue);
    tag.setEntrypointId(item.getId());
    return dbClient.insert().into(JdbcEntrypoint.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcEntrypoint.Tag tag = new JdbcEntrypoint.Tag();
    tag.setTag(tagValue);
    tag.setEntrypointId(item.getId());
    return dbClient.insert().into(JdbcEntrypoint.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(tags).concatMap
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(deleteTags(item.getId()).then(action).as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("unable to create entrypoint with id {}", item.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | deleteTags(item.getId()).then(action).as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError
1 | Mono | then | METHOD_INVOCATION | deleteTags(item.getId()).then(action).as
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | deleteTags(id).then(delete).as(trx::transactional).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete entrypoint with id {}", id, error))).as
1 | Mono | then | METHOD_INVOCATION | deleteTags(id).then(delete).as
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(parRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve PushedAuthorizationRequest with id {}", id, error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(parRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(parRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(parRepository.findById(par.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to create PushedAuthorizationRequest with id {}", par.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | action.flatMap((i)->RxJava2Adapter.maybeToMono(parRepository.findById(par.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(parRepository.findById(par.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(parRepository.findById(par.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single
1 | Mono | doOnError | METHOD_INVOCATION | parRepository.deleteById(id).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete PushedAuthorizationRequest with id {}", id, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcPushedAuthorizationRequest.class).matching(where("expire_at").lessThan(now)).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to purge PushedAuthorizationRequest", error))).as
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(serviceResourceRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertResult.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(serviceResourceRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(serviceResourceRepository.findByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(this.membershipRepository.findByReference(referenceId, referenceType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(this.membershipRepository.findByMember(memberId, memberType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcMembership.class).matching(from(whereClause)).as(JdbcMembership.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.membershipRepository.findByReferenceAndMember(referenceId, referenceType.name(), memberId, memberType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(membershipRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(factorRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(factorRepository.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(factorRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.factorRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(credentialRepository.findByUserId(referenceType.name(), referenceId, userId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(credentialRepository.findByUsername(referenceType.name(), referenceId, username)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(credentialRepository.findByCredentialId(referenceType.name(), referenceId, credentialId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(credentialRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve credential for Id {}", id, error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(credentialRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("unable to create credential with id {}", item.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.credentialRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("unable to create credential with id {}", item.getId(), error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.credentialRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | credentialRepository.deleteById(id).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete credential for Id {}", id, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcCredential.class).matching(from(where("reference_type").is(referenceType.name()).and(where("reference_id").is(referenceId)).and(where("user_id").is(userId)))).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete credential for userId {}", userId, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcCredential.class).matching(from(where("reference_type").is(referenceType.name()).and(where("reference_id").is(referenceId)).and(where("aaguid").is(aaguid)))).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete credential for aaguid {}", aaguid, error))).as
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcResource.class).matching(whereClause).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcResource.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((res)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(res)), res.getId())).flux()), MAX_CONCURRENCY)).collectList().flatMap((content)->RxJava2Adapter.singleToMono(resourceRepository.countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<Resource>(content, page, count)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcResource.class).matching(whereClause).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcResource.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((res)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(res)), res.getId())).flux()), MAX_CONCURRENCY)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcResource.class).matching(whereClause).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcResource.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(res)), res.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(res))
1 | Mono | map | METHOD_INVOCATION | (content)->RxJava2Adapter.singleToMono(resourceRepository.countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<Resource>(content, page, count)))
1 | Mono | RETURN_TYPE
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(resourceScopeRepository.findAllByResourceId(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcResource.Scope::getScope)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceScopeRepository.findAllByResourceId(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcResource.Scope::getScope)).collectList
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(maybeResource).zipWith(RxJava2Adapter.maybeToMono(scopes), RxJavaReactorMigrationUtil.toJdkBiFunction((res,scope)->{
    LOGGER.debug("findById({}) fetch {} resource scopes", id, scope == null ? 0 : scope.size());
    res.setResourceScopes(scope);
    return res;
})))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(resourceRepository.findByIdIn(resources)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((resource)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(resource)), resource.getId())).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceRepository.findByIdIn(resources)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(resource)), resource.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(resource))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(resourceRepository.findByDomainAndClientAndUser(domain, client, userId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((resource)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(resource)), resource.getId())).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceRepository.findByDomainAndClientAndUser(domain, client, userId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(resource)), resource.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(resource))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(resourceRepository.findByDomainAndClientAndResources(domain, client, resources)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((resource)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(resource)), resource.getId())).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceRepository.findByDomainAndClientAndResources(domain, client, resources)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(resource)), resource.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(resource))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(resourceRepository.findByDomainAndClientAndUserIdAndResource(domain, client, userId, resource)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(resourceRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | insertResult = insertResult.then(Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcResource.Scope rScope = new JdbcResource.Scope();
    rScope.setScope(scope);
    rScope.setResourceId(item.getId());
    return dbClient.insert().into(JdbcResource.Scope.class).using(rScope).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | insertResult.then(Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcResource.Scope rScope = new JdbcResource.Scope();
    rScope.setScope(scope);
    rScope.setResourceId(item.getId());
    return dbClient.insert().into(JdbcResource.Scope.class).using(rScope).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcResource.Scope rScope = new JdbcResource.Scope();
    rScope.setScope(scope);
    rScope.setResourceId(item.getId());
    return dbClient.insert().into(JdbcResource.Scope.class).using(rScope).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(resourceScopes).concatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertResult.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | updateResource = updateResource.then(Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcResource.Scope rScope = new JdbcResource.Scope();
    rScope.setScope(scope);
    rScope.setResourceId(item.getId());
    return dbClient.insert().into(JdbcResource.Scope.class).using(rScope).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | updateResource.then(Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcResource.Scope rScope = new JdbcResource.Scope();
    rScope.setScope(scope);
    rScope.setResourceId(item.getId());
    return dbClient.insert().into(JdbcResource.Scope.class).using(rScope).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcResource.Scope rScope = new JdbcResource.Scope();
    rScope.setScope(scope);
    rScope.setResourceId(item.getId());
    return dbClient.insert().into(JdbcResource.Scope.class).using(rScope).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(resourceScopes).concatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(deleteScopes.then(updateResource).as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | then | METHOD_INVOCATION | deleteScopes.then(updateResource).as
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteScopes).as
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(requestObjectRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve RequestObject with id {}", id, error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(requestObjectRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(requestObjectRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(requestObjectRepository.findById(requestObject.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to create requestObject with id {}", requestObject.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | action.flatMap((i)->RxJava2Adapter.maybeToMono(requestObjectRepository.findById(requestObject.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(requestObjectRepository.findById(requestObject.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(requestObjectRepository.findById(requestObject.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single
1 | Mono | doOnError | METHOD_INVOCATION | requestObjectRepository.deleteById(id).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete RequestObject with id {}", id, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcRequestObject.class).matching(where("expire_at").lessThan(now)).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to purge RequestObjects", error))).as
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(dbClient.select().from(JdbcAccessPolicy.class).project("*").matching(from(where("domain").is(domain))).orderBy(Sort.Order.desc("updated_at")).page(PageRequest.of(page, size)).as(JdbcAccessPolicy.class).all().collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((content)->content.stream().map(this::toAccessPolicy).collect(Collectors.toList()))).flatMap((content)->RxJava2Adapter.singleToMono(accessPolicyRepository.countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<AccessPolicy>(content, page, count)))))
1 | Mono | map | METHOD_INVOCATION | dbClient.select().from(JdbcAccessPolicy.class).project("*").matching(from(where("domain").is(domain))).orderBy(Sort.Order.desc("updated_at")).page(PageRequest.of(page, size)).as(JdbcAccessPolicy.class).all().collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((content)->content.stream().map(this::toAccessPolicy).collect(Collectors.toList()))).flatMap
1 | Flux | collectList | METHOD_INVOCATION | dbClient.select().from(JdbcAccessPolicy.class).project("*").matching(from(where("domain").is(domain))).orderBy(Sort.Order.desc("updated_at")).page(PageRequest.of(page, size)).as(JdbcAccessPolicy.class).all().collectList().map
1 | Mono | map | METHOD_INVOCATION | (content)->RxJava2Adapter.singleToMono(accessPolicyRepository.countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<AccessPolicy>(content, page, count)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(accessPolicyRepository.findByDomainAndResource(domain, resource)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toAccessPolicy)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(accessPolicyRepository.findByResourceIn(resources)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toAccessPolicy)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(accessPolicyRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toAccessPolicy)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(scopeApprovalRepository.findByDomainAndUserAndClient(domain, userId, clientId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpiresAt() == null || bean.getExpiresAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(scopeApprovalRepository.findByDomainAndUserAndClient(domain, userId, clientId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpiresAt() == null || bean.getExpiresAt().isAfter(now))).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(scopeApprovalRepository.findByDomainAndUser(domain, user)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpiresAt() == null || bean.getExpiresAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(scopeApprovalRepository.findByDomainAndUser(domain, user)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpiresAt() == null || bean.getExpiresAt().isAfter(now))).map
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeApprovalRepository.findByDomainAndUserAndClientAndScope(scopeApproval.getDomain(), scopeApproval.getUserId(), scopeApproval.getClientId(), scopeApproval.getScope())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeApprovalRepository.findByDomainAndUserAndClientAndScope(scopeApproval.getDomain(), scopeApproval.getUserId(), scopeApproval.getClientId(), scopeApproval.getScope())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeApprovalRepository.findByDomainAndUserAndClientAndScope(scopeApproval.getDomain(), scopeApproval.getUserId(), scopeApproval.getClientId(), scopeApproval.getScope())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpiresAt() == null || bean.getExpiresAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpiresAt() == null || bean.getExpiresAt().isAfter(now))).map
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(scopeApprovalRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(formRepository.findAll(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(formRepository.findAll(referenceType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(formRepository.findByClient(referenceType.name(), referenceId, client)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(formRepository.findByTemplate(referenceType.name(), referenceId, template)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(formRepository.findByClientAndTemplate(referenceType.name(), referenceId, client, template)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(formRepository.findById(referenceType.name(), referenceId, id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(formRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.formRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flow).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithMembersAndRole(RxJava2Adapter.monoToMaybe(Mono.just(group)), group.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flow).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithMembersAndRole(RxJava2Adapter.monoToMaybe(Mono.just(group)), group.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(databaseDialectHelper.toSql(quoted("groups"))).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcGroup.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((group)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithMembersAndRole(RxJava2Adapter.monoToMaybe(Mono.just(group)), group.getId())).flux()), CONCURRENT_FLATMAP)).collectList().flatMap((content)->RxJava2Adapter.singleToMono(counter).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<Group>(content, page, count)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(databaseDialectHelper.toSql(quoted("groups"))).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcGroup.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((group)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithMembersAndRole(RxJava2Adapter.monoToMaybe(Mono.just(group)), group.getId())).flux()), CONCURRENT_FLATMAP)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(databaseDialectHelper.toSql(quoted("groups"))).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcGroup.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithMembersAndRole(RxJava2Adapter.monoToMaybe(Mono.just(group)), group.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Mono | map | METHOD_INVOCATION | (content)->RxJava2Adapter.singleToMono(counter).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<Group>(content, page, count)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flow).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithMembersAndRole(RxJava2Adapter.monoToMaybe(Mono.just(group)), group.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(maybe).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->completeWithMembersAndRole(RxJava2Adapter.monoToMaybe(Mono.just(z)), z.getId()).as(RxJava2Adapter::maybeToMono)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(maybe).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(z))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(maybe).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(maybe).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(memberRepository.findAllByGroup(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcGroup.JdbcMember::getMember)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(memberRepository.findAllByGroup(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcGroup.JdbcMember::getMember)).collectList
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(roleRepository.findAllByGroup(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcGroup.JdbcRole::getRole)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findAllByGroup(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcGroup.JdbcRole::getRole)).collectList
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(maybeGroup).zipWith(RxJava2Adapter.maybeToMono(members), RxJavaReactorMigrationUtil.toJdkBiFunction((grp,member)->{
    LOGGER.debug("findById({}) fetch {} group members", id, member == null ? 0 : member.size());
    grp.setMembers(member);
    return grp;
})).zipWith(RxJava2Adapter.maybeToMono(roles), RxJavaReactorMigrationUtil.toJdkBiFunction((grp,role)->{
    LOGGER.debug("findById({}) fetch {} group roles", id, role == null ? 0 : role.size());
    grp.setRoles(role);
    return grp;
})))
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(maybeGroup).zipWith(RxJava2Adapter.maybeToMono(members), RxJavaReactorMigrationUtil.toJdkBiFunction((grp,member)->{
    LOGGER.debug("findById({}) fetch {} group members", id, member == null ? 0 : member.size());
    grp.setMembers(member);
    return grp;
})).zipWith
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | PARAM
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(roles).concatMap((roleValue)->{
    JdbcGroup.JdbcRole role = new JdbcGroup.JdbcRole();
    role.setRole(roleValue);
    role.setGroupId(item.getId());
    return dbClient.insert().into(JdbcGroup.JdbcRole.class).using(role).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(roles).concatMap((roleValue)->{
    JdbcGroup.JdbcRole role = new JdbcGroup.JdbcRole();
    role.setRole(roleValue);
    role.setGroupId(item.getId());
    return dbClient.insert().into(JdbcGroup.JdbcRole.class).using(role).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(roles).concatMap((roleValue)->{
    JdbcGroup.JdbcRole role = new JdbcGroup.JdbcRole();
    role.setRole(roleValue);
    role.setGroupId(item.getId());
    return dbClient.insert().into(JdbcGroup.JdbcRole.class).using(role).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(roles).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(members).concatMap((memberValue)->{
    JdbcGroup.JdbcMember member = new JdbcGroup.JdbcMember();
    member.setMember(memberValue);
    member.setGroupId(item.getId());
    return dbClient.insert().into(JdbcGroup.JdbcMember.class).using(member).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(members).concatMap((memberValue)->{
    JdbcGroup.JdbcMember member = new JdbcGroup.JdbcMember();
    member.setMember(memberValue);
    member.setGroupId(item.getId());
    return dbClient.insert().into(JdbcGroup.JdbcMember.class).using(member).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(members).concatMap((memberValue)->{
    JdbcGroup.JdbcMember member = new JdbcGroup.JdbcMember();
    member.setMember(memberValue);
    member.setGroupId(item.getId());
    return dbClient.insert().into(JdbcGroup.JdbcMember.class).using(member).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(members).concatMap
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | action = deleteChildEntities(item.getId()).then(action)
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | return deleteRoles.then(deleteMembers);
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteChildEntities(id)).as
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(domainRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(domains).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcDomain.class).matching(from(whereClause)).as(JdbcDomain.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)))
1 | Flux | map | METHOD_INVOCATION | dbClient.select().from(JdbcDomain.class).matching(from(whereClause)).as(JdbcDomain.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)).flatMap
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(domainRepository.findAllById(ids)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(domains).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(domainRepository.findAllByReferenceId(environmentId, ReferenceType.ENVIRONMENT.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(domains).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)))
1 | Mono | RETURN_TYPE
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(domainRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)).flux())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)).flux
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(domains).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)).next())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domains).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)).next
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(domainRepository.findByHrid(referenceId, referenceType.name(), hrid)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)).flux())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(referenceId, referenceType.name(), hrid)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)).flux
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(domains).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)).next())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domains).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)).next
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(insertAction.as(trx::transactional).then(maybeToMono(findById(item.getId()))))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | updateAction = updateAction.then(deleteChildEntities(item.getId()))
1 | Mono | then | METHOD_INVOCATION | monoToSingle(updateAction.as(trx::transactional).then(maybeToMono(findById(item.getId()))))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcDomain.class).matching(from(where("id").is(domainId))).fetch().rowsUpdated().then(deleteChildEntities(domainId)).as(trx::transactional).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("unable to delete Domain with id {}", domainId, error))).as
1 | Mono | then | METHOD_INVOCATION | dbClient.delete().from(JdbcDomain.class).matching(from(where("id").is(domainId))).fetch().rowsUpdated().then(deleteChildEntities(domainId)).as
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.execute(search).bind("refType", ReferenceType.ENVIRONMENT.name()).bind("refId", environmentId).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcDomain.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::completeDomain)))
1 | Flux | map | METHOD_INVOCATION | dbClient.execute(search).bind("refType", ReferenceType.ENVIRONMENT.name()).bind("refId", environmentId).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcDomain.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toDomain)).flatMap
1 | Flux | RETURN_TYPE
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(entity).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((domain)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Identity::getIdentity)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((idps)->{
    domain.setIdentities(new HashSet<>(idps));
    return domain;
}))))).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((domain)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(tagRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Tag::getTag)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((tags)->{
    domain.setTags(new HashSet<>(tags));
    return domain;
}))))).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((domain)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(vHostsRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toVirtualHost)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((vhosts)->{
    domain.setVhosts(vhosts);
    return domain;
}))))))
1 | Flux | flatMap | METHOD_INVOCATION | Flux.just(entity).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((domain)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Identity::getIdentity)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((idps)->{
    domain.setIdentities(new HashSet<>(idps));
    return domain;
}))))).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((domain)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(tagRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Tag::getTag)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((tags)->{
    domain.setTags(new HashSet<>(tags));
    return domain;
}))))).flatMap
1 | Flux | flatMap | METHOD_INVOCATION | Flux.just(entity).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((domain)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Identity::getIdentity)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((idps)->{
    domain.setIdentities(new HashSet<>(idps));
    return domain;
}))))).flatMap
1 | Flux | just | METHOD_INVOCATION | Flux.just(entity).flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Identity::getIdentity)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((idps)->{
    domain.setIdentities(new HashSet<>(idps));
    return domain;
})))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Identity::getIdentity)).collectList().flux().map
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Identity::getIdentity)).collectList().flux
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identitiesRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Identity::getIdentity)).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(tagRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Tag::getTag)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((tags)->{
    domain.setTags(new HashSet<>(tags));
    return domain;
})))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(tagRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Tag::getTag)).collectList().flux().map
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(tagRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Tag::getTag)).collectList().flux
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(tagRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcDomain.Tag::getTag)).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(vHostsRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toVirtualHost)).collectList().flux().map(RxJavaReactorMigrationUtil.toJdkFunction((vhosts)->{
    domain.setVhosts(vhosts);
    return domain;
})))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(vHostsRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toVirtualHost)).collectList().flux().map
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(vHostsRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toVirtualHost)).collectList().flux
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(vHostsRepository.findAllByDomainId(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toVirtualHost)).collectList
1 | Mono | RETURN_TYPE
1 | Mono | PARAM
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(identities).concatMap((idp)->{
    JdbcDomain.Identity identity = new JdbcDomain.Identity();
    identity.setIdentity(idp);
    identity.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Identity.class).using(identity).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(identities).concatMap((idp)->{
    JdbcDomain.Identity identity = new JdbcDomain.Identity();
    identity.setIdentity(idp);
    identity.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Identity.class).using(identity).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(identities).concatMap((idp)->{
    JdbcDomain.Identity identity = new JdbcDomain.Identity();
    identity.setIdentity(idp);
    identity.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Identity.class).using(identity).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(identities).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcDomain.Tag tag = new JdbcDomain.Tag();
    tag.setTag(tagValue);
    tag.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcDomain.Tag tag = new JdbcDomain.Tag();
    tag.setTag(tagValue);
    tag.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(tags).concatMap((tagValue)->{
    JdbcDomain.Tag tag = new JdbcDomain.Tag();
    tag.setTag(tagValue);
    tag.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Tag.class).using(tag).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(tags).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromStream(virtualHosts.stream().map(this::toJdbcVHost)).concatMap((jdbcVHost)->{
    jdbcVHost.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Vhost.class).using(jdbcVHost).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromStream(virtualHosts.stream().map(this::toJdbcVHost)).concatMap((jdbcVHost)->{
    jdbcVHost.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Vhost.class).using(jdbcVHost).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromStream(virtualHosts.stream().map(this::toJdbcVHost)).concatMap((jdbcVHost)->{
    jdbcVHost.setDomainId(item.getId());
    return dbClient.insert().into(JdbcDomain.Vhost.class).using(jdbcVHost).fetch().rowsUpdated();
}).reduce
1 | Flux | fromStream | METHOD_INVOCATION | Flux.fromStream(virtualHosts.stream().map(this::toJdbcVHost)).concatMap
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | return deleteVirtualHosts.then(deleteIdentities).then(deleteTags);
1 | Mono | then | METHOD_INVOCATION | deleteVirtualHosts.then(deleteIdentities).then
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(this.identityProviderRepository.findAll(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(this.identityProviderRepository.findAll(referenceType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(this.identityProviderRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.identityProviderRepository.findById(referenceType.name(), referenceId, identityProviderId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.identityProviderRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(emailRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(emailRepository.findAllByReference(referenceId, referenceType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(emailRepository.findAllByReferenceAndClient(referenceId, referenceType.name(), client)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(emailRepository.findByTemplate(referenceId, referenceType.name(), template)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(emailRepository.findByClientAndTemplate(referenceId, referenceType.name(), client, template)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(emailRepository.findById(referenceId, referenceType.name(), id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(emailRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(from.as(JdbcLoginAttempt.class).first().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(loginAttemptRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(loginAttemptRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(loginAttemptRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(loginAttemptRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(loginAttemptRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(loginAttemptRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(permissionTicketRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(permissionTicketRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((bean)->bean.getExpireAt() == null || bean.getExpireAt().isAfter(now))).map
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(permissionTicketRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(permissionTicketRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(permissionTicketRepository.findById(item.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(extensionGrantRepository.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, name)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.extensionGrantRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(eventRepository.findByTimeFrame(LocalDateTime.ofInstant(Instant.ofEpochMilli(from), UTC), LocalDateTime.ofInstant(Instant.ofEpochMilli(to), UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(eventRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(userRepository.findByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(userRepository.findByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcOrganizationUser.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcOrganizationUser.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()), CONCURRENT_FLATMAP)).collectList().flatMap((content)->RxJava2Adapter.singleToMono(userRepository.countByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<User>(content, page, count)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcOrganizationUser.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcOrganizationUser.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()), CONCURRENT_FLATMAP)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcOrganizationUser.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("id")).page(PageRequest.of(page, size)).as(JdbcOrganizationUser.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | map | METHOD_INVOCATION | (content)->RxJava2Adapter.singleToMono(userRepository.countByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<User>(content, page, count)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcOrganizationUser.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(app)).flux()), CONCURRENT_FLATMAP)).collectList().flatMap((data)->dbClient.execute(count).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<User>(data, page, total)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcOrganizationUser.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(app)).flux()), CONCURRENT_FLATMAP)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcOrganizationUser.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(app)).flux())
1 | Mono | map | METHOD_INVOCATION | (data)->dbClient.execute(count).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<User>(data, page, total)))
1 | Mono | RETURN_TYPE
1 | Flux | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(userFlux.map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))).collectList().flatMap((list)->userCount.map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<User>(list, page, total)))))
1 | Flux | collectList | METHOD_INVOCATION | userFlux.map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))).collectList().flatMap
1 | Flux | flatMap | METHOD_INVOCATION | userFlux.map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((user)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux()))).collectList
1 | Flux | map | METHOD_INVOCATION | userFlux.map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | map | METHOD_INVOCATION | (list)->userCount.map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<User>(list, page, total)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(referenceType.name(), referenceId, username, source)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(referenceType.name(), referenceId, username, source)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findByExternalIdAndSource(referenceType.name(), referenceId, externalId, source)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByExternalIdAndSource(referenceType.name(), referenceId, externalId, source)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Flux | RETURN_TYPE
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(userRepository.findByIdIn(ids)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeUser(user)).flux())
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findById(referenceType.name(), referenceId, userId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(referenceType.name(), referenceId, userId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeUser(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertAction.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | updateAction = deleteChildEntities(item.getId()).then(updateAction)
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(updateAction.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteChildEntities(id)).as
1 | Mono | RETURN_TYPE
1 | Mono | PARAM
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(addresses).concatMap((address)->{
    JdbcOrganizationUser.Address jdbcAddr = mapper.map(address, JdbcOrganizationUser.Address.class);
    jdbcAddr.setUserId(item.getId());
    return dbClient.insert().into(JdbcOrganizationUser.Address.class).using(jdbcAddr).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(addresses).concatMap((address)->{
    JdbcOrganizationUser.Address jdbcAddr = mapper.map(address, JdbcOrganizationUser.Address.class);
    jdbcAddr.setUserId(item.getId());
    return dbClient.insert().into(JdbcOrganizationUser.Address.class).using(jdbcAddr).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(addresses).concatMap((address)->{
    JdbcOrganizationUser.Address jdbcAddr = mapper.map(address, JdbcOrganizationUser.Address.class);
    jdbcAddr.setUserId(item.getId());
    return dbClient.insert().into(JdbcOrganizationUser.Address.class).using(jdbcAddr).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(addresses).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(roles).concatMap((role)->{
    JdbcOrganizationUser.Role jdbcRole = new JdbcOrganizationUser.Role();
    jdbcRole.setUserId(item.getId());
    jdbcRole.setRole(role);
    return dbClient.insert().into(JdbcOrganizationUser.Role.class).using(jdbcRole).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(roles).concatMap((role)->{
    JdbcOrganizationUser.Role jdbcRole = new JdbcOrganizationUser.Role();
    jdbcRole.setUserId(item.getId());
    jdbcRole.setRole(role);
    return dbClient.insert().into(JdbcOrganizationUser.Role.class).using(jdbcRole).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(roles).concatMap((role)->{
    JdbcOrganizationUser.Role jdbcRole = new JdbcOrganizationUser.Role();
    jdbcRole.setUserId(item.getId());
    jdbcRole.setRole(role);
    return dbClient.insert().into(JdbcOrganizationUser.Role.class).using(jdbcRole).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(roles).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(entitlements).concatMap((entitlement)->{
    JdbcOrganizationUser.Entitlements jdbcEntitlement = new JdbcOrganizationUser.Entitlements();
    jdbcEntitlement.setUserId(item.getId());
    jdbcEntitlement.setEntitlement(entitlement);
    return dbClient.insert().into(JdbcOrganizationUser.Entitlements.class).using(jdbcEntitlement).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(entitlements).concatMap((entitlement)->{
    JdbcOrganizationUser.Entitlements jdbcEntitlement = new JdbcOrganizationUser.Entitlements();
    jdbcEntitlement.setUserId(item.getId());
    jdbcEntitlement.setEntitlement(entitlement);
    return dbClient.insert().into(JdbcOrganizationUser.Entitlements.class).using(jdbcEntitlement).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(entitlements).concatMap((entitlement)->{
    JdbcOrganizationUser.Entitlements jdbcEntitlement = new JdbcOrganizationUser.Entitlements();
    jdbcEntitlement.setUserId(item.getId());
    jdbcEntitlement.setEntitlement(entitlement);
    return dbClient.insert().into(JdbcOrganizationUser.Entitlements.class).using(jdbcEntitlement).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(entitlements).concatMap
1 | Mono | OTHER
1 | Mono | METHOD_REFERENCE | Mono::then
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(attributes.get())
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | return deleteRoles.then(deleteAddresses).then(deleteAttributes).then(deleteEntitlements);
1 | Mono | then | METHOD_INVOCATION | deleteRoles.then(deleteAddresses).then(deleteAttributes).then
1 | Mono | then | METHOD_INVOCATION | deleteRoles.then(deleteAddresses).then
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(userToComplete).flatMap((user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Entitlements::getEntitlement)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> entitlements)->{
    user.setEntitlements(entitlements);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.scim.Address> addresses)->{
    user.setAddresses(addresses);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(attributesRepository.findByUserId(user.getId())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Attribute> attributes)->{
    Map<String, List<Attribute>> map = attributes.stream().collect(StreamUtils.toMultiMap(JdbcOrganizationUser.Attribute::getUserField, (io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Attribute attr)->mapper.map(attr, Attribute.class)));
    if (map.containsKey(ATTRIBUTE_USER_FIELD_EMAIL)) {
        user.setEmails(map.get(ATTRIBUTE_USER_FIELD_EMAIL));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_PHONE)) {
        user.setPhoneNumbers(map.get(ATTRIBUTE_USER_FIELD_PHONE));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_PHOTO)) {
        user.setPhotos(map.get(ATTRIBUTE_USER_FIELD_PHOTO));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_IM)) {
        user.setIms(map.get(ATTRIBUTE_USER_FIELD_IM));
    }
    return user;
}))))
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(userToComplete).flatMap((user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Entitlements::getEntitlement)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> entitlements)->{
    user.setEntitlements(entitlements);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.scim.Address> addresses)->{
    user.setAddresses(addresses);
    return user;
}))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(userToComplete).flatMap((user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))).flatMap((user)->RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Entitlements::getEntitlement)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> entitlements)->{
    user.setEntitlements(entitlements);
    return user;
}))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(userToComplete).flatMap((user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))).flatMap
1 | Mono | just | METHOD_INVOCATION | Mono.just(userToComplete).flatMap
1 | Mono | map | METHOD_INVOCATION | (user)->RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Role::getRole)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> roles)->{
    user.setRoles(roles);
    return user;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Role::getRole)).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Role::getRole)).collectList
1 | Mono | map | METHOD_INVOCATION | (user)->RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Entitlements::getEntitlement)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> entitlements)->{
    user.setEntitlements(entitlements);
    return user;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Entitlements::getEntitlement)).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(entitlementRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcOrganizationUser.Entitlements::getEntitlement)).collectList
1 | Mono | map | METHOD_INVOCATION | (user)->RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.scim.Address> addresses)->{
    user.setAddresses(addresses);
    return user;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(addressesRepository.findByUserId(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Address jdbcAddr)->mapper.map(jdbcAddr, Address.class))).collectList
1 | Mono | map | METHOD_INVOCATION | (user)->RxJava2Adapter.flowableToFlux(attributesRepository.findByUserId(user.getId())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Attribute> attributes)->{
    Map<String, List<Attribute>> map = attributes.stream().collect(StreamUtils.toMultiMap(JdbcOrganizationUser.Attribute::getUserField, (io.gravitee.am.repository.jdbc.management.api.model.JdbcOrganizationUser.Attribute attr)->mapper.map(attr, Attribute.class)));
    if (map.containsKey(ATTRIBUTE_USER_FIELD_EMAIL)) {
        user.setEmails(map.get(ATTRIBUTE_USER_FIELD_EMAIL));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_PHONE)) {
        user.setPhoneNumbers(map.get(ATTRIBUTE_USER_FIELD_PHONE));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_PHOTO)) {
        user.setPhotos(map.get(ATTRIBUTE_USER_FIELD_PHOTO));
    }
    if (map.containsKey(ATTRIBUTE_USER_FIELD_IM)) {
        user.setIms(map.get(ATTRIBUTE_USER_FIELD_IM));
    }
    return user;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(attributesRepository.findByUserId(user.getId())).collectList().map
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.alertNotifierRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(dbClient.insert().into(JdbcAlertNotifier.class).using(toJdbcAlertNotifier(alertNotifier)).then().then(maybeToMono(findById(alertNotifier.getId()))))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(dbClient.update().table(JdbcAlertNotifier.class).using(toJdbcAlertNotifier(alertNotifier)).matching(from(where("id").is(alertNotifier.getId()))).then().then(maybeToMono(findById(alertNotifier.getId()))))
1 | Mono | RETURN_TYPE
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcAlertNotifier.class).matching(from(whereClause)).as(JdbcAlertNotifier.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(dbClient.select().from(JdbcAuthenticationFlowContext.class).matching(from(where("id").is(id))).as(JdbcAuthenticationFlowContext.class).one().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(dbClient.select().from(JdbcAuthenticationFlowContext.class).matching(from(where("transaction_id").is(transactionId).and(where("expire_at").greaterThan(now)))).orderBy(Sort.Order.desc("version")).as(JdbcAuthenticationFlowContext.class).first().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcAuthenticationFlowContext.class).matching(from(where("transaction_id").is(transactionId).and(where("expire_at").greaterThan(now)))).orderBy(Sort.Order.desc("version")).as(JdbcAuthenticationFlowContext.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertAction.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(id)).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(id)).single()
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcAuthenticationFlowContext.class).matching(where("expire_at").lessThan(now)).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to purge authentication contexts", error))).as
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(flowRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((e)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Flow, SingleSource<Flow>>)this::completeFlow).apply(e)))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertAction.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | PARAM
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(jdbcPreSteps).concatMap((step)->dbClient.insert().into(JdbcFlow.JdbcStep.class).using(step).fetch().rowsUpdated()).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(jdbcPreSteps).concatMap((step)->dbClient.insert().into(JdbcFlow.JdbcStep.class).using(step).fetch().rowsUpdated()).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(jdbcPreSteps).concatMap((step)->dbClient.insert().into(JdbcFlow.JdbcStep.class).using(step).fetch().rowsUpdated()).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(jdbcPreSteps).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(jdbcPostSteps).concatMap((step)->dbClient.insert().into(JdbcFlow.JdbcStep.class).using(step).fetch().rowsUpdated()).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(jdbcPostSteps).concatMap((step)->dbClient.insert().into(JdbcFlow.JdbcStep.class).using(step).fetch().rowsUpdated()).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(jdbcPostSteps).concatMap((step)->dbClient.insert().into(JdbcFlow.JdbcStep.class).using(step).fetch().rowsUpdated()).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(jdbcPostSteps).concatMap
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | updateAction = updateAction.then(deleteChildEntities(item.getId()))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(updateAction.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | dbClient.delete().from(JdbcFlow.class).matching(from(where("id").is(id))).fetch().rowsUpdated().then(deleteChildEntities(id)).as
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(flowRepository.findById(referenceType.name(), referenceId, id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeFlow(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowRepository.findById(referenceType.name(), referenceId, id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowRepository.findAll(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((flow)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeFlow(flow)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowRepository.findAll(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeFlow(flow)).flux())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowRepository.findByApplication(referenceType.name(), referenceId, application)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((flow)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeFlow(flow)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowRepository.findByApplication(referenceType.name(), referenceId, application)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeFlow(flow)).flux())
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(dbClient.select().from(JdbcFlow.JdbcStep.class).matching(from(where("flow_id").is(flow.getId()))).orderBy(Sort.Order.asc("stage_order")).as(JdbcFlow.JdbcStep.class).all().collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((steps)->{
    if (steps != null && !steps.isEmpty()) {
        List<Step> preSteps = new ArrayList<>();
        List<Step> postSteps = new ArrayList<>();
        for (JdbcFlow.JdbcStep jStep : steps) {
            if (jStep.getStage().equals(JdbcFlow.StepType.pre.name())) {
                preSteps.add(convertToStep(jStep));
            } else if (jStep.getStage().equals(JdbcFlow.StepType.post.name())) {
                postSteps.add(convertToStep(jStep));
            } else {
                LOGGER.debug("Unknown step type \'{}\', ignore it!", jStep.getStage());
            }
        }
        if (!preSteps.isEmpty()) {
            flow.setPre(preSteps);
        }
        if (!postSteps.isEmpty()) {
            flow.setPost(postSteps);
        }
    }
    return flow;
})))
1 | Flux | collectList | METHOD_INVOCATION | dbClient.select().from(JdbcFlow.JdbcStep.class).matching(from(where("flow_id").is(flow.getId()))).orderBy(Sort.Order.asc("stage_order")).as(JdbcFlow.JdbcStep.class).all().collectList().map
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(environmentRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEnvironment)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(environmentRepository.findByOrganization(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEnvironment)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(environmentRepository.findByIdAndOrganization(id, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEnvironment)).flatMap((z)->RxJava2Adapter.singleToMono(retrieveDomainRestrictions(z))).flatMap((z)->RxJava2Adapter.singleToMono(retrieveHrids(z))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(environmentRepository.findByIdAndOrganization(id, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEnvironment)).flatMap((z)->RxJava2Adapter.singleToMono(retrieveDomainRestrictions(z))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(environmentRepository.findByIdAndOrganization(id, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEnvironment)).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(environmentRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEnvironment)).flatMap((z)->RxJava2Adapter.singleToMono(retrieveDomainRestrictions(z))).flatMap((z)->RxJava2Adapter.singleToMono(retrieveHrids(z))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(environmentRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEnvironment)).flatMap((z)->RxJava2Adapter.singleToMono(retrieveDomainRestrictions(z))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(environmentRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEnvironment)).flatMap
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(result).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("unable to retrieve Environment with id {}", id, error))))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(insert.then(storeDomainRestrictions).then(storeHrids).as(trx::transactional).then(maybeToMono(findById(environment.getId()))))
1 | Mono | then | METHOD_INVOCATION | insert.then(storeDomainRestrictions).then(storeHrids).as
1 | Mono | then | METHOD_INVOCATION | insert.then(storeDomainRestrictions).then
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(update.then(storeDomainRestrictions(environment, true)).then(storeHrids(environment, true)).as(trx::transactional).then(maybeToMono(findById(environment.getId()))))
1 | Mono | then | METHOD_INVOCATION | update.then(storeDomainRestrictions(environment, true)).then(storeHrids(environment, true)).as
1 | Mono | then | METHOD_INVOCATION | update.then(storeDomainRestrictions(environment, true)).then
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteDomainRestrictions).then(deleteHrids).as
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteDomainRestrictions).then
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(domainRestrictionRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.DomainRestriction::getDomainRestriction)).collectList().doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((domainRestrictions)->LOGGER.debug("findById({}) fetch {} domainRestrictions", environment.getId(), domainRestrictions.size()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer(environment::setDomainRestrictions)).map(RxJavaReactorMigrationUtil.toJdkFunction((domainRestriction)->environment)))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRestrictionRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.DomainRestriction::getDomainRestriction)).collectList().doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((domainRestrictions)->LOGGER.debug("findById({}) fetch {} domainRestrictions", environment.getId(), domainRestrictions.size()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer(environment::setDomainRestrictions)).map
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRestrictionRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.DomainRestriction::getDomainRestriction)).collectList().doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((domainRestrictions)->LOGGER.debug("findById({}) fetch {} domainRestrictions", environment.getId(), domainRestrictions.size()))).doOnSuccess
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRestrictionRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.DomainRestriction::getDomainRestriction)).collectList().doOnSuccess
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRestrictionRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.DomainRestriction::getDomainRestriction)).collectList
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(hridsRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.Hrid::getHrid)).collectList().doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((hrids)->LOGGER.debug("findById({}) fetch {} hrids", environment.getId(), hrids.size()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer(environment::setHrids)).map(RxJavaReactorMigrationUtil.toJdkFunction((hrids)->environment)))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(hridsRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.Hrid::getHrid)).collectList().doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((hrids)->LOGGER.debug("findById({}) fetch {} hrids", environment.getId(), hrids.size()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer(environment::setHrids)).map
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(hridsRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.Hrid::getHrid)).collectList().doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((hrids)->LOGGER.debug("findById({}) fetch {} hrids", environment.getId(), hrids.size()))).doOnSuccess
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(hridsRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.Hrid::getHrid)).collectList().doOnSuccess
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(hridsRepository.findAllByEnvironmentId(environment.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcEnvironment.Hrid::getHrid)).collectList
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | empty | METHOD_INVOCATION | Mono<Void> delete = Mono.empty()
1 | Flux | ignoreElements | METHOD_INVOCATION | return delete.thenMany(Flux.fromIterable(domainRestrictions).map((domainRestriction)->{
    JdbcEnvironment.DomainRestriction dbDomainRestriction = new JdbcEnvironment.DomainRestriction();
    dbDomainRestriction.setDomainRestriction(domainRestriction);
    dbDomainRestriction.setEnvironmentId(environment.getId());
    return dbDomainRestriction;
}).concatMap((dbDomainRestriction)->dbClient.insert().into(JdbcEnvironment.DomainRestriction.class).using(dbDomainRestriction).then())).ignoreElements();
1 | Mono | thenMany | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(domainRestrictions).map((domainRestriction)->{
    JdbcEnvironment.DomainRestriction dbDomainRestriction = new JdbcEnvironment.DomainRestriction();
    dbDomainRestriction.setDomainRestriction(domainRestriction);
    dbDomainRestriction.setEnvironmentId(environment.getId());
    return dbDomainRestriction;
}).concatMap((dbDomainRestriction)->dbClient.insert().into(JdbcEnvironment.DomainRestriction.class).using(dbDomainRestriction).then())).ignoreElements
1 | Flux | concatMap | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(domainRestrictions).map((domainRestriction)->{
    JdbcEnvironment.DomainRestriction dbDomainRestriction = new JdbcEnvironment.DomainRestriction();
    dbDomainRestriction.setDomainRestriction(domainRestriction);
    dbDomainRestriction.setEnvironmentId(environment.getId());
    return dbDomainRestriction;
}).concatMap((dbDomainRestriction)->dbClient.insert().into(JdbcEnvironment.DomainRestriction.class).using(dbDomainRestriction).then()))
1 | Flux | map | METHOD_INVOCATION | Flux.fromIterable(domainRestrictions).map((domainRestriction)->{
    JdbcEnvironment.DomainRestriction dbDomainRestriction = new JdbcEnvironment.DomainRestriction();
    dbDomainRestriction.setDomainRestriction(domainRestriction);
    dbDomainRestriction.setEnvironmentId(environment.getId());
    return dbDomainRestriction;
}).concatMap
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(domainRestrictions).map
1 | Mono | empty | METHOD_INVOCATION | return Mono.empty();
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | empty | METHOD_INVOCATION | Mono<Void> delete = Mono.empty()
1 | Flux | ignoreElements | METHOD_INVOCATION | return delete.thenMany(Flux.fromIterable(dbHrids)).concatMap((hrid)->dbClient.insert().into(JdbcEnvironment.Hrid.class).using(hrid).then()).ignoreElements();
1 | Flux | concatMap | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(dbHrids)).concatMap((hrid)->dbClient.insert().into(JdbcEnvironment.Hrid.class).using(hrid).then()).ignoreElements
1 | Mono | thenMany | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(dbHrids)).concatMap
1 | Flux | fromIterable | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(dbHrids))
1 | Mono | empty | METHOD_INVOCATION | return Mono.empty();
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(entity).flatMap((app)->RxJava2Adapter.flowableToFlux(identityRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Identity::getIdentity)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> idps)->{
    app.setIdentities(new HashSet<>(idps));
    return app;
}))).flatMap((app)->RxJava2Adapter.flowableToFlux(factorRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Factor::getFactor)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> factors)->{
    app.setFactors(new HashSet<>(factors));
    return app;
}))).flatMap((app)->RxJava2Adapter.flowableToFlux(scopeRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcApplication.ScopeSettings jdbcScopeSettings)->mapper.map(jdbcScopeSettings, ApplicationScopeSettings.class))).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.application.ApplicationScopeSettings> scopeSettings)->{
    if (app.getSettings() != null && app.getSettings().getOauth() != null) {
        app.getSettings().getOauth().setScopeSettings(scopeSettings);
    }
    return app;
}))))
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(entity).flatMap((app)->RxJava2Adapter.flowableToFlux(identityRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Identity::getIdentity)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> idps)->{
    app.setIdentities(new HashSet<>(idps));
    return app;
}))).flatMap((app)->RxJava2Adapter.flowableToFlux(factorRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Factor::getFactor)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> factors)->{
    app.setFactors(new HashSet<>(factors));
    return app;
}))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(entity).flatMap((app)->RxJava2Adapter.flowableToFlux(identityRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Identity::getIdentity)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> idps)->{
    app.setIdentities(new HashSet<>(idps));
    return app;
}))).flatMap
1 | Mono | just | METHOD_INVOCATION | Mono.just(entity).flatMap
1 | Mono | map | METHOD_INVOCATION | (app)->RxJava2Adapter.flowableToFlux(identityRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Identity::getIdentity)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> idps)->{
    app.setIdentities(new HashSet<>(idps));
    return app;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Identity::getIdentity)).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Identity::getIdentity)).collectList
1 | Mono | map | METHOD_INVOCATION | (app)->RxJava2Adapter.flowableToFlux(factorRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Factor::getFactor)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<java.lang.String> factors)->{
    app.setFactors(new HashSet<>(factors));
    return app;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(factorRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Factor::getFactor)).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(factorRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcApplication.Factor::getFactor)).collectList
1 | Mono | map | METHOD_INVOCATION | (app)->RxJava2Adapter.flowableToFlux(scopeRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcApplication.ScopeSettings jdbcScopeSettings)->mapper.map(jdbcScopeSettings, ApplicationScopeSettings.class))).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.application.ApplicationScopeSettings> scopeSettings)->{
    if (app.getSettings() != null && app.getSettings().getOauth() != null) {
        app.getSettings().getOauth().setScopeSettings(scopeSettings);
    }
    return app;
}))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(scopeRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcApplication.ScopeSettings jdbcScopeSettings)->mapper.map(jdbcScopeSettings, ApplicationScopeSettings.class))).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(scopeRepository.findAllByApplicationId(app.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.jdbc.management.api.model.JdbcApplication.ScopeSettings jdbcScopeSettings)->mapper.map(jdbcScopeSettings, ApplicationScopeSettings.class))).collectList
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcApplication.class).page(PageRequest.of(page, size, Sort.by("id"))).as(JdbcApplication.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()), MAX_CONCURRENCY)).collectList().flatMap((data)->RxJava2Adapter.singleToMono(applicationRepository.count()).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve all applications (page={}/size={})", page, size, error))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcApplication.class).page(PageRequest.of(page, size, Sort.by("id"))).as(JdbcApplication.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()), MAX_CONCURRENCY)).collectList().flatMap((data)->RxJava2Adapter.singleToMono(applicationRepository.count()).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))).doOnError
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcApplication.class).page(PageRequest.of(page, size, Sort.by("id"))).as(JdbcApplication.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()), MAX_CONCURRENCY)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcApplication.class).page(PageRequest.of(page, size, Sort.by("id"))).as(JdbcApplication.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Mono | map | METHOD_INVOCATION | (data)->RxJava2Adapter.singleToMono(applicationRepository.count()).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcApplication.class).matching(from(where("domain").is(domain))).page(PageRequest.of(page, size, Sort.by("id"))).as(JdbcApplication.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()), MAX_CONCURRENCY)).collectList().flatMap((data)->RxJava2Adapter.singleToMono(applicationRepository.countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve all applications with domain {} (page={}/size={})", domain, page, size, error))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcApplication.class).matching(from(where("domain").is(domain))).page(PageRequest.of(page, size, Sort.by("id"))).as(JdbcApplication.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()), MAX_CONCURRENCY)).collectList().flatMap((data)->RxJava2Adapter.singleToMono(applicationRepository.countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))).doOnError
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcApplication.class).matching(from(where("domain").is(domain))).page(PageRequest.of(page, size, Sort.by("id"))).as(JdbcApplication.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity))).flatMap((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()), MAX_CONCURRENCY)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.select().from(JdbcApplication.class).matching(from(where("domain").is(domain))).page(PageRequest.of(page, size, Sort.by("id"))).as(JdbcApplication.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Mono | map | METHOD_INVOCATION | (data)->RxJava2Adapter.singleToMono(applicationRepository.countByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(dbClient.execute(search).bind("domain", domain).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))).collectList().flatMap((data)->dbClient.execute(count).bind("domain", domain).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve all applications with domain {} (page={}/size={})", domain, page, size, error))))
1 | Mono | flatMap | METHOD_INVOCATION | dbClient.execute(search).bind("domain", domain).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))).collectList().flatMap((data)->dbClient.execute(count).bind("domain", domain).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))).doOnError
1 | Flux | collectList | METHOD_INVOCATION | dbClient.execute(search).bind("domain", domain).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))).collectList().flatMap
1 | Flux | flatMap | METHOD_INVOCATION | dbClient.execute(search).bind("domain", domain).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))).collectList
1 | Flux | map | METHOD_INVOCATION | dbClient.execute(search).bind("domain", domain).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Mono | map | METHOD_INVOCATION | (data)->dbClient.execute(count).bind("domain", domain).bind("value", wildcardMatch ? wildcardQuery.toUpperCase() : query.toUpperCase()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Application>(data, page, total)))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findByCertificate(certificate)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findByCertificate(certificate)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(dbClient.execute("SELECT a.* FROM applications a INNER JOIN application_identities i ON a.id = i.application_id where i." + databaseDialectHelper.toSql(SqlIdentifier.quoted("identity")) + " = :identity").bind("identity", identityProvider).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))))
1 | Flux | map | METHOD_INVOCATION | dbClient.execute("SELECT a.* FROM applications a INNER JOIN application_identities i ON a.id = i.application_id where i." + databaseDialectHelper.toSql(SqlIdentifier.quoted("identity")) + " = :identity").bind("identity", identityProvider).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findAllByFactor(factor)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findAllByFactor(factor)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findAllByDomainAndGrant(domain, extensionGrant)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findAllByDomainAndGrant(domain, extensionGrant)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findByIdIn(ids)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findByIdIn(ids)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(dbClient.execute(databaseDialectHelper.buildFindApplicationByDomainAndClient()).bind("domain", domain).bind("clientId", clientId).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))).next())
1 | Flux | flatMap | METHOD_INVOCATION | dbClient.execute(databaseDialectHelper.buildFindApplicationByDomainAndClient()).bind("domain", domain).bind("clientId", clientId).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((app)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux()))).next
1 | Flux | map | METHOD_INVOCATION | dbClient.execute(databaseDialectHelper.buildFindApplicationByDomainAndClient()).bind("domain", domain).bind("clientId", clientId).as(JdbcApplication.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(completeApplication(app)).flux())
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->RxJava2Adapter.singleToMono(completeApplication(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertAction.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | updateAction = deleteChildEntities(item.getId()).then(updateAction)
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(updateAction.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(delete.then(deleteChildEntities(id)).as(trx::transactional).then(RxJava2Adapter.completableToMono(applicationRepository.deleteById(id))))
1 | Mono | then | METHOD_INVOCATION | delete.then(deleteChildEntities(id)).as
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | return factors.then(identities).then(grants).then(scopeSettings);
1 | Mono | then | METHOD_INVOCATION | factors.then(identities).then(grants).then
1 | Mono | then | METHOD_INVOCATION | factors.then(identities).then
1 | Mono | RETURN_TYPE
1 | Mono | PARAM
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(identities).concatMap((idp)->{
    JdbcApplication.Identity identity = new JdbcApplication.Identity();
    identity.setIdentity(idp);
    identity.setApplicationId(app.getId());
    DatabaseClient.GenericInsertSpec<Map<String, Object>> insertSpec = dbClient.insert().into("application_identities");
    insertSpec = addQuotedField(insertSpec, "application_id", identity.getApplicationId(), String.class);
    insertSpec = addQuotedField(insertSpec, "identity", identity.getIdentity(), String.class);
    return insertSpec.fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(identities).concatMap((idp)->{
    JdbcApplication.Identity identity = new JdbcApplication.Identity();
    identity.setIdentity(idp);
    identity.setApplicationId(app.getId());
    DatabaseClient.GenericInsertSpec<Map<String, Object>> insertSpec = dbClient.insert().into("application_identities");
    insertSpec = addQuotedField(insertSpec, "application_id", identity.getApplicationId(), String.class);
    insertSpec = addQuotedField(insertSpec, "identity", identity.getIdentity(), String.class);
    return insertSpec.fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(identities).concatMap((idp)->{
    JdbcApplication.Identity identity = new JdbcApplication.Identity();
    identity.setIdentity(idp);
    identity.setApplicationId(app.getId());
    DatabaseClient.GenericInsertSpec<Map<String, Object>> insertSpec = dbClient.insert().into("application_identities");
    insertSpec = addQuotedField(insertSpec, "application_id", identity.getApplicationId(), String.class);
    insertSpec = addQuotedField(insertSpec, "identity", identity.getIdentity(), String.class);
    return insertSpec.fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(identities).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(factors).concatMap((value)->{
    JdbcApplication.Factor factor = new JdbcApplication.Factor();
    factor.setFactor(value);
    factor.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.Factor.class).using(factor).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(factors).concatMap((value)->{
    JdbcApplication.Factor factor = new JdbcApplication.Factor();
    factor.setFactor(value);
    factor.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.Factor.class).using(factor).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(factors).concatMap((value)->{
    JdbcApplication.Factor factor = new JdbcApplication.Factor();
    factor.setFactor(value);
    factor.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.Factor.class).using(factor).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(factors).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(grants).concatMap((value)->{
    JdbcApplication.Grant grant = new JdbcApplication.Grant();
    grant.setGrant(value);
    grant.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.Grant.class).using(grant).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(grants).concatMap((value)->{
    JdbcApplication.Grant grant = new JdbcApplication.Grant();
    grant.setGrant(value);
    grant.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.Grant.class).using(grant).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(grants).concatMap((value)->{
    JdbcApplication.Grant grant = new JdbcApplication.Grant();
    grant.setGrant(value);
    grant.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.Grant.class).using(grant).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(grants).concatMap
1 | Mono | then | METHOD_INVOCATION | actionFlow = actionFlow.then(Flux.fromIterable(scopeSettings).concatMap((value)->{
    JdbcApplication.ScopeSettings jdbcScopeSettings = mapper.map(value, JdbcApplication.ScopeSettings.class);
    jdbcScopeSettings.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.ScopeSettings.class).using(jdbcScopeSettings).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | actionFlow.then(Flux.fromIterable(scopeSettings).concatMap((value)->{
    JdbcApplication.ScopeSettings jdbcScopeSettings = mapper.map(value, JdbcApplication.ScopeSettings.class);
    jdbcScopeSettings.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.ScopeSettings.class).using(jdbcScopeSettings).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(scopeSettings).concatMap((value)->{
    JdbcApplication.ScopeSettings jdbcScopeSettings = mapper.map(value, JdbcApplication.ScopeSettings.class);
    jdbcScopeSettings.setApplicationId(app.getId());
    return dbClient.insert().into(JdbcApplication.ScopeSettings.class).using(jdbcScopeSettings).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(scopeSettings).concatMap
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(nodeMonitoringRepository.findByNodeIdAndType(nodeId, type)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(nodeMonitoringRepository.findByTypeAndTimeFrame(type, LocalDateTime.ofInstant(Instant.ofEpochMilli(from), UTC), LocalDateTime.ofInstant(Instant.ofEpochMilli(to), UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | LOCAL_VARIABLE
1 | Mono | map | METHOD_INVOCATION | monoToSingle(insertResult.map((result)->monitoring))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(nodeMonitoringRepository.save(toJdbcEntity(monitoring))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(alertTriggerAlertNotifierRepository.findByAlertTriggerId(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcAlertTrigger.AlertNotifier::getAlertNotifierId)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(alertTriggerAlertNotifierRepository.findByAlertTriggerId(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcAlertTrigger.AlertNotifier::getAlertNotifierId)).collectList
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.alertTriggerRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).zipWith(RxJava2Adapter.maybeToMono(alertNotifierIds), RxJavaReactorMigrationUtil.toJdkBiFunction((alertTrigger,ids)->{
    LOGGER.debug("findById({}) fetch {} alert triggers", alertTrigger.getId(), ids.size());
    alertTrigger.setAlertNotifiers(ids);
    return alertTrigger;
})))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.alertTriggerRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).zipWith
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(insert.then(storeAlertNotifiers).as(trx::transactional).then(maybeToMono(findById(alertTrigger.getId()))))
1 | Mono | then | METHOD_INVOCATION | insert.then(storeAlertNotifiers).as
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | monoToSingle(update.then(storeAlertNotifiers).as(trx::transactional).then(maybeToMono(findById(alertTrigger.getId()))))
1 | Mono | then | METHOD_INVOCATION | update.then(storeAlertNotifiers).as
1 | Mono | RETURN_TYPE
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(execute.as(String.class).fetch().all().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<String, MaybeSource<AlertTrigger>>toJdkFunction(this::findById).apply(e)))))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | empty | METHOD_INVOCATION | Mono<Void> delete = Mono.empty()
1 | Flux | ignoreElements | METHOD_INVOCATION | return delete.thenMany(Flux.fromIterable(alertNotifiers).map((alertNotifierId)->{
    JdbcAlertTrigger.AlertNotifier dbAlertNotifier = new JdbcAlertTrigger.AlertNotifier();
    dbAlertNotifier.setAlertNotifierId(alertNotifierId);
    dbAlertNotifier.setAlertTriggerId(alertTrigger.getId());
    return dbAlertNotifier;
}).concatMap((dbAlertNotifier)->dbClient.insert().into(JdbcAlertTrigger.AlertNotifier.class).using(dbAlertNotifier).then())).ignoreElements();
1 | Mono | thenMany | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(alertNotifiers).map((alertNotifierId)->{
    JdbcAlertTrigger.AlertNotifier dbAlertNotifier = new JdbcAlertTrigger.AlertNotifier();
    dbAlertNotifier.setAlertNotifierId(alertNotifierId);
    dbAlertNotifier.setAlertTriggerId(alertTrigger.getId());
    return dbAlertNotifier;
}).concatMap((dbAlertNotifier)->dbClient.insert().into(JdbcAlertTrigger.AlertNotifier.class).using(dbAlertNotifier).then())).ignoreElements
1 | Flux | concatMap | METHOD_INVOCATION | delete.thenMany(Flux.fromIterable(alertNotifiers).map((alertNotifierId)->{
    JdbcAlertTrigger.AlertNotifier dbAlertNotifier = new JdbcAlertTrigger.AlertNotifier();
    dbAlertNotifier.setAlertNotifierId(alertNotifierId);
    dbAlertNotifier.setAlertTriggerId(alertTrigger.getId());
    return dbAlertNotifier;
}).concatMap((dbAlertNotifier)->dbClient.insert().into(JdbcAlertTrigger.AlertNotifier.class).using(dbAlertNotifier).then()))
1 | Flux | map | METHOD_INVOCATION | Flux.fromIterable(alertNotifiers).map((alertNotifierId)->{
    JdbcAlertTrigger.AlertNotifier dbAlertNotifier = new JdbcAlertTrigger.AlertNotifier();
    dbAlertNotifier.setAlertNotifierId(alertNotifierId);
    dbAlertNotifier.setAlertTriggerId(alertTrigger.getId());
    return dbAlertNotifier;
}).concatMap
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(alertNotifiers).map
1 | Mono | empty | METHOD_INVOCATION | return Mono.empty();
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(this.installationRepository.findAll()).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(this.installationRepository.findAll()).next().map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.installationRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertSpec.then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(this.findById(installation.getId())).single())))
1 | Mono | defer | METHOD_INVOCATION | insertSpec.then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(this.findById(installation.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | ()->RxJava2Adapter.maybeToMono(this.findById(installation.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(updateSpec.using(Update.from(updateFields)).matching(from(where("id").is(installation.getId()))).then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(this.findById(installation.getId())).single())))
1 | Mono | defer | METHOD_INVOCATION | updateSpec.using(Update.from(updateFields)).matching(from(where("id").is(installation.getId()))).then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(this.findById(installation.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | ()->RxJava2Adapter.maybeToMono(this.findById(installation.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(token, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve AccessToken", error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(token, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(accessTokenRepository.findById(accessToken.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to create accessToken with id {}", accessToken.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | action.flatMap((i)->RxJava2Adapter.maybeToMono(accessTokenRepository.findById(accessToken.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(accessTokenRepository.findById(accessToken.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(accessTokenRepository.findById(accessToken.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findByToken(token)).flatMap((z)->dbClient.delete().from(JdbcAccessToken.class).matching(from(where("token").is(token))).fetch().rowsUpdated().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Integer i)->z))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete AccessToken", error))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByToken(token)).flatMap((z)->dbClient.delete().from(JdbcAccessToken.class).matching(from(where("token").is(token))).fetch().rowsUpdated().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Integer i)->z))).doOnError
1 | Mono | map | METHOD_INVOCATION | (z)->dbClient.delete().from(JdbcAccessToken.class).matching(from(where("token").is(token))).fetch().rowsUpdated().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Integer i)->z))
1 | Mono | doOnError | METHOD_INVOCATION | Flux.fromIterable(accessTokens).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(accessToken)).flux()))).ignoreElements().then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to bulk load access tokens", error))).as
1 | Mono | then | METHOD_INVOCATION | Flux.fromIterable(accessTokens).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(accessToken)).flux()))).ignoreElements().then().doOnError
1 | Flux | ignoreElements | METHOD_INVOCATION | Flux.fromIterable(accessTokens).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(accessToken)).flux()))).ignoreElements().then
1 | Flux | flatMap | METHOD_INVOCATION | Flux.fromIterable(accessTokens).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(accessToken)).flux()))).ignoreElements
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(accessTokens).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(accessToken)).flux())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(accessTokenRepository.findByClientIdAndSubject(clientId, subject, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(accessTokenRepository.findByClientId(clientId, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(accessTokenRepository.findByAuthorizationCode(authorizationCode, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcAccessToken.class).matching(from(where("subject").is(userId))).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete access tokens with subject {}", userId, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcAccessToken.class).matching(from(where("subject").is(userId).and(where("domain").is(domainId)).and(where("client").is(clientId)))).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete access token with domain {}, client {} and subject {}", domainId, clientId, userId, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcAccessToken.class).matching(from(where("subject").is(userId).and(where("domain").is(domainId)))).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete access tokens with domain {} and subject {}", domainId, userId, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcAccessToken.class).matching(where("expire_at").lessThan(now)).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to purge access tokens", error))).as
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(tagRepository.findById(id, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(tagRepository.findByOrganization(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(tagRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tagRepository.save(toJdbcEntity(item))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken(token, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve RefreshToken", error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken(token, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(refreshTokenRepository.findById(refreshToken.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to create refreshToken with id {}", refreshToken.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | action.flatMap((i)->RxJava2Adapter.maybeToMono(refreshTokenRepository.findById(refreshToken.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(refreshTokenRepository.findById(refreshToken.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(refreshTokenRepository.findById(refreshToken.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single
1 | Mono | doOnError | METHOD_INVOCATION | Flux.fromIterable(refreshTokens).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((refreshToken)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(refreshToken)).flux()))).ignoreElements().then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to bulk load refresh tokens", error))).as
1 | Mono | then | METHOD_INVOCATION | Flux.fromIterable(refreshTokens).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((refreshToken)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(refreshToken)).flux()))).ignoreElements().then().doOnError
1 | Flux | ignoreElements | METHOD_INVOCATION | Flux.fromIterable(refreshTokens).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((refreshToken)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(refreshToken)).flux()))).ignoreElements().then
1 | Flux | flatMap | METHOD_INVOCATION | Flux.fromIterable(refreshTokens).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((refreshToken)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(refreshToken)).flux()))).ignoreElements
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(refreshTokens).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(create(refreshToken)).flux())
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcRefreshToken.class).matching(from(where("token").is(token))).fetch().rowsUpdated().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete RefreshToken", error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcRefreshToken.class).matching(from(where("subject").is(userId))).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete refresh token with subject {}", userId, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcRefreshToken.class).matching(from(where("subject").is(userId).and(where("domain").is(domainId)).and(where("client").is(clientId)))).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete refresh token with domain {}, client {} and subject {}", domainId, clientId, userId, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcRefreshToken.class).matching(from(where("subject").is(userId).and(where("domain").is(domainId)))).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete refresh token with domain {} and subject {}", domainId, userId, error))).as
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcRefreshToken.class).matching(where("expire_at").lessThan(now)).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to purge refresh tokens", error))).as
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(this.certificateRepository.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(this.certificateRepository.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.certificateRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve Certificate with id {}", id, error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.certificateRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("unable to create certificate with id {}", item.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("unable to update certificate with id {}", item.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | action.flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | this.certificateRepository.deleteById(id).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to delete Certificate with id {}", id, error))).as
1 | Mono | IMPORT
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(insertAction.flatMap((i)->RxJava2Adapter.maybeToMono(authorizationCodeRepository.findById(authorizationCode.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to create authorizationCode with id {}", authorizationCode.getId(), error))))
1 | Mono | flatMap | METHOD_INVOCATION | insertAction.flatMap((i)->RxJava2Adapter.maybeToMono(authorizationCodeRepository.findById(authorizationCode.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()).doOnError
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(authorizationCodeRepository.findById(authorizationCode.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authorizationCodeRepository.findById(authorizationCode.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).single
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authorizationCodeRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->dbClient.delete().from(JdbcAuthorizationCode.class).matching(from(where("id").is(id))).fetch().rowsUpdated().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Integer i)->z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authorizationCodeRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | map | METHOD_INVOCATION | (z)->dbClient.delete().from(JdbcAuthorizationCode.class).matching(from(where("id").is(id))).fetch().rowsUpdated().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Integer i)->z))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(code, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve AuthorizationCode with code {}", code))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(code, LocalDateTime.now(UTC))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).doOnError
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.delete().from(JdbcAuthorizationCode.class).matching(where("expire_at").lessThan(now)).then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to purge authorization tokens", error))).as
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(roleRepository.findByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((role)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(dbClient.select().from(JdbcRole.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("name")).page(PageRequest.of(page, size)).as(JdbcRole.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((role)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux()))).collectList().flatMap((content)->RxJava2Adapter.singleToMono(roleRepository.countByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<Role>(content, page, count)))))
1 | Flux | collectList | METHOD_INVOCATION | dbClient.select().from(JdbcRole.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("name")).page(PageRequest.of(page, size)).as(JdbcRole.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((role)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux()))).collectList().flatMap
1 | Flux | flatMap | METHOD_INVOCATION | dbClient.select().from(JdbcRole.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("name")).page(PageRequest.of(page, size)).as(JdbcRole.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((role)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux()))).collectList
1 | Flux | map | METHOD_INVOCATION | dbClient.select().from(JdbcRole.class).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())))).orderBy(Sort.Order.asc("name")).page(PageRequest.of(page, size)).as(JdbcRole.class).all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | map | METHOD_INVOCATION | (content)->RxJava2Adapter.singleToMono(roleRepository.countByReference(referenceType.name(), referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long count)->new Page<Role>(content, page, count)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcRole.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((role)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux()))).collectList().flatMap((data)->dbClient.execute(count).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Role>(data, page, total)))))
1 | Flux | collectList | METHOD_INVOCATION | dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcRole.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((role)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux()))).collectList().flatMap
1 | Flux | flatMap | METHOD_INVOCATION | dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcRole.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((role)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux()))).collectList
1 | Flux | map | METHOD_INVOCATION | dbClient.execute(search).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(JdbcRole.class).fetch().all().map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | map | METHOD_INVOCATION | (data)->dbClient.execute(count).bind("value", wildcardSearch ? wildcardValue : query).bind("refId", referenceId).bind("refType", referenceType.name()).as(Long.class).fetch().first().map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long total)->new Page<Role>(data, page, total)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(roleRepository.findByIdIn(ids)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((role)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux()))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findByIdIn(ids)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).flux())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(roleRepository.findById(referenceType.name(), referenceId, role)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(roleRepository.findByNameAndAssignableType(referenceType.name(), referenceId, name, assignableType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((z)->completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(z)), z.getId()).as(RxJava2Adapter::maybeToMono)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findByNameAndAssignableType(referenceType.name(), referenceId, name, assignableType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(z))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(roleRepository.findByNamesAndAssignableType(referenceType.name(), referenceId, names, assignableType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Role, MaybeSource<Role>>toJdkFunction((role)->completeWithScopes(RxJava2Adapter.monoToMaybe(Mono.just(role)), role.getId())).apply(e)))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findByNamesAndAssignableType(referenceType.name(), referenceId, names, assignableType.name())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(roleRepository.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toEntity)))
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | action = action.then(Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcRole.OAuthScope rScope = new JdbcRole.OAuthScope();
    rScope.setScope(scope);
    rScope.setRoleId(item.getId());
    return dbClient.insert().into(JdbcRole.OAuthScope.class).using(rScope).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | action.then(Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcRole.OAuthScope rScope = new JdbcRole.OAuthScope();
    rScope.setScope(scope);
    rScope.setRoleId(item.getId());
    return dbClient.insert().into(JdbcRole.OAuthScope.class).using(rScope).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcRole.OAuthScope rScope = new JdbcRole.OAuthScope();
    rScope.setScope(scope);
    rScope.setRoleId(item.getId());
    return dbClient.insert().into(JdbcRole.OAuthScope.class).using(rScope).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(resourceScopes).concatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(action.as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | action = action.then(Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcRole.OAuthScope rScope = new JdbcRole.OAuthScope();
    rScope.setScope(scope);
    rScope.setRoleId(item.getId());
    return dbClient.insert().into(JdbcRole.OAuthScope.class).using(rScope).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | reduce | METHOD_INVOCATION | action.then(Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcRole.OAuthScope rScope = new JdbcRole.OAuthScope();
    rScope.setScope(scope);
    rScope.setRoleId(item.getId());
    return dbClient.insert().into(JdbcRole.OAuthScope.class).using(rScope).fetch().rowsUpdated();
}).reduce(Integer::sum))
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(resourceScopes).concatMap((scope)->{
    JdbcRole.OAuthScope rScope = new JdbcRole.OAuthScope();
    rScope.setScope(scope);
    rScope.setRoleId(item.getId());
    return dbClient.insert().into(JdbcRole.OAuthScope.class).using(rScope).fetch().rowsUpdated();
}).reduce
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(resourceScopes).concatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(deleteScopes.then(action).as(trx::transactional).flatMap((i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()))
1 | Mono | then | METHOD_INVOCATION | deleteScopes.then(action).as
1 | Mono | single | METHOD_INVOCATION | (i)->RxJava2Adapter.maybeToMono(this.findById(item.getId())).single()
1 | Mono | RETURN_TYPE
1 | Mono | LOCAL_VARIABLE
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | monoToCompletable(delete.then(deleteScopes.as(trx::transactional)))
1 | Mono | RETURN_TYPE
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(oauthScopeRepository.findAllByRole(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcRole.OAuthScope::getScope)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(oauthScopeRepository.findAllByRole(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(JdbcRole.OAuthScope::getScope)).collectList
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(maybeRole).zipWith(RxJava2Adapter.maybeToMono(scopes), RxJavaReactorMigrationUtil.toJdkBiFunction((role,scope)->{
    LOGGER.debug("findById({}) fetch {} oauth scopes", id, scope == null ? 0 : scope.size());
    role.setOauthScopes(scope);
    return role;
})))
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(repository.findById(attemptExpired.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(repository.findById(attemptExpired2.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(repository.findById(attemptNotExpired.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(repository.findById(attemptNotExpired.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(parRepository.findById(object1.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(parRepository.findById(object2.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(parRepository.findById(object1.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(parRepository.findById(object2.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(requestObjectRepository.findById(object1.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(requestObjectRepository.findById(object2.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(requestObjectRepository.findById(object1.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(requestObjectRepository.findById(object2.getId())).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token")).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token2")).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token")).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken("my-token2")).block())
1 | Flux | IMPORT
1 | Flux | blockFirst | METHOD_INVOCATION | Connection connection = Flux.from(connectionFactory.create()).blockFirst()
1 | Flux | from | METHOD_INVOCATION | Flux.from(connectionFactory.create()).blockFirst
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(connection.createStatement("delete from " + table).execute()))
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token")).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token2")).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token")).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken("my-token2")).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(code)).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(codeExpired)).block())
1 | Mono | block | METHOD_INVOCATION | assertNotNull(RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(code)).block())
1 | Mono | block | METHOD_INVOCATION | assertNull(RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(codeExpired)).block())
1 | Mono | block | METHOD_INVOCATION | PermissionTicket ptValid = RxJava2Adapter.singleToMono(repository.create(permissionTicketNoExpireAt)).block()
1 | Mono | block | METHOD_INVOCATION | PermissionTicket ptValid2 = RxJava2Adapter.singleToMono(repository.create(permissionTicket)).block()
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new RuntimeException("Exception thrown for test")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(request))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.emptyList(), page, size)))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(result))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonMap("data", 0L)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalArgumentException("Analytics [" + analyticsType + "] cannot be calculated")))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a scope approval by id %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(scopeApprovalRepository.findByDomainAndUser(domain, user)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a scope approval for domain: {} and user: {}", domain, user);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a scope approval for domain: %s and user: %s", domain, user), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a scope approval for domain: %s and user: %s", domain, user), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(scopeApprovalRepository.findByDomainAndUserAndClient(domain, user, client)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a scope approval for domain: {}, user: {} and client: {}", domain, user, client);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a scope approval for domain: %s, user: %s and client: %s", domain, user, client), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a scope approval for domain: %s, user: %s and client: %s", domain, user, client), ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(approvals).flatMapSingle(scopeApprovalRepository::upsert).toList()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((__)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).domain(domain).client(client).principal(principal).type(EventType.USER_CONSENT_CONSENTED).approvals(approvals)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).domain(domain).client(client).principal(principal).type(EventType.USER_CONSENT_CONSENTED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Observable.fromIterable(approvals).flatMapSingle(scopeApprovalRepository::upsert).toList()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((__)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).domain(domain).client(client).principal(principal).type(EventType.USER_CONSENT_CONSENTED).approvals(approvals)))).doOnError
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to save consent for domain: %s, client: %s and user: %s", domain, client.getId(), approvals.get(0).getUserId()), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((user)->RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(consentId)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consentId))).flatMap((scopeApproval)->RxJava2Adapter.completableToMono(scopeApprovalRepository.delete(consentId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).approvals(Collections.singleton(scopeApproval))))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).throwable(throwable)))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()), refreshTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()))))).then()).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((user)->RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(consentId)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consentId))).flatMap((scopeApproval)->RxJava2Adapter.completableToMono(scopeApprovalRepository.delete(consentId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).approvals(Collections.singleton(scopeApproval))))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).throwable(throwable)))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()), refreshTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()))))).then()).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | then | METHOD_INVOCATION | (user)->RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(consentId)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consentId))).flatMap((scopeApproval)->RxJava2Adapter.completableToMono(scopeApprovalRepository.delete(consentId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).approvals(Collections.singleton(scopeApproval))))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).throwable(throwable)))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()), refreshTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()))))).then()
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(consentId)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consentId))).flatMap((scopeApproval)->RxJava2Adapter.completableToMono(scopeApprovalRepository.delete(consentId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).approvals(Collections.singleton(scopeApproval))))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).throwable(throwable)))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()), refreshTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()))))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(consentId)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consentId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeApprovalRepository.findById(consentId)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consentId)))
1 | Mono | then | METHOD_INVOCATION | (scopeApproval)->RxJava2Adapter.completableToMono(scopeApprovalRepository.delete(consentId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).approvals(Collections.singleton(scopeApproval))))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).throwable(throwable)))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()), refreshTokenRepository.deleteByDomainIdClientIdAndUserId(scopeApproval.getDomain(), scopeApproval.getClientId(), scopeApproval.getUserId()))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.completableToMono(scopeApprovalRepository.delete(consentId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).approvals(Collections.singleton(scopeApproval))))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user).throwable(throwable)))).then
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to revoke approval for scope: %s", consentId), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(userService.findById(user)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap((user1)->RxJava2Adapter.singleToMono(scopeApprovalRepository.findByDomainAndUser(domain, user).collect(HashSet<ScopeApproval>::new, Set::add)).flatMap((v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUser(domain, user).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdAndUserId(domain, user), refreshTokenRepository.deleteByDomainIdAndUserId(domain, user))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(user)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap((user1)->RxJava2Adapter.singleToMono(scopeApprovalRepository.findByDomainAndUser(domain, user).collect(HashSet<ScopeApproval>::new, Set::add)).flatMap((v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUser(domain, user).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdAndUserId(domain, user), refreshTokenRepository.deleteByDomainIdAndUserId(domain, user))))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(user)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(user)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))
1 | Mono | then | METHOD_INVOCATION | (user1)->RxJava2Adapter.singleToMono(scopeApprovalRepository.findByDomainAndUser(domain, user).collect(HashSet<ScopeApproval>::new, Set::add)).flatMap((v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUser(domain, user).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdAndUserId(domain, user), refreshTokenRepository.deleteByDomainIdAndUserId(domain, user))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(scopeApprovalRepository.findByDomainAndUser(domain, user).collect(HashSet<ScopeApproval>::new, Set::add)).flatMap((v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUser(domain, user).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))).then
1 | Mono | doOnError | METHOD_INVOCATION | (v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUser(domain, user).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to revoke scope approvals for domain: %s and user: %s", domain, user), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(userService.findById(user)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap((user1)->RxJava2Adapter.singleToMono(scopeApprovalRepository.findByDomainAndUserAndClient(domain, user, clientId).collect(HashSet<ScopeApproval>::new, Set::add)).flatMap((v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUserAndClient(domain, user, clientId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdClientIdAndUserId(domain, clientId, user), refreshTokenRepository.deleteByDomainIdClientIdAndUserId(domain, clientId, user))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(user)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap((user1)->RxJava2Adapter.singleToMono(scopeApprovalRepository.findByDomainAndUserAndClient(domain, user, clientId).collect(HashSet<ScopeApproval>::new, Set::add)).flatMap((v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUserAndClient(domain, user, clientId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdClientIdAndUserId(domain, clientId, user), refreshTokenRepository.deleteByDomainIdClientIdAndUserId(domain, clientId, user))))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(user)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(user)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))
1 | Mono | then | METHOD_INVOCATION | (user1)->RxJava2Adapter.singleToMono(scopeApprovalRepository.findByDomainAndUserAndClient(domain, user, clientId).collect(HashSet<ScopeApproval>::new, Set::add)).flatMap((v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUserAndClient(domain, user, clientId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))).then(RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(accessTokenRepository.deleteByDomainIdClientIdAndUserId(domain, clientId, user), refreshTokenRepository.deleteByDomainIdClientIdAndUserId(domain, clientId, user))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(scopeApprovalRepository.findByDomainAndUserAndClient(domain, user, clientId).collect(HashSet<ScopeApproval>::new, Set::add)).flatMap((v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUserAndClient(domain, user, clientId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))).then
1 | Mono | doOnError | METHOD_INVOCATION | (v)->RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndUserAndClient(domain, user, clientId).doOnComplete(()->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).approvals(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserConsentAuditBuilder.class).type(EventType.USER_CONSENT_REVOKED).domain(domain).principal(principal).user(user1).throwable(throwable))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to revoke scope approvals for domain: %s, user: %s and client: %s", domain, user, clientId), ex)))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidPathException("Path must not be null or empty")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidPathException("Path [" + path + "] is invalid")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidPathException("Path must start with a \'/\'")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidPathException("Path [" + path + "] is invalid")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(roleService.findById(ReferenceType.PLATFORM, Platform.DEFAULT, roleId)).switchIfEmpty(RxJava2Adapter.maybeToMono(defaultRoleObs)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(roleObs).switchIfEmpty(Mono.error(new TechnicalManagementException(String.format("Cannot add user membership to organization %s. Unable to find ORGANIZATION_USER role", user.getReferenceId())))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Role, CompletableSource>)(role)->{
    membership.setRoleId(role.getId());
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(user.getReferenceId(), membership)).then());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleObs).switchIfEmpty(Mono.error(new TechnicalManagementException(String.format("Cannot add user membership to organization %s. Unable to find ORGANIZATION_USER role", user.getReferenceId())))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Role, CompletableSource>)(role)->{
    membership.setRoleId(role.getId());
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(user.getReferenceId(), membership)).then());
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleObs).switchIfEmpty(Mono.error(new TechnicalManagementException(String.format("Cannot add user membership to organization %s. Unable to find ORGANIZATION_USER role", user.getReferenceId())))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleObs).switchIfEmpty(Mono.error(new TechnicalManagementException(String.format("Cannot add user membership to organization %s. Unable to find ORGANIZATION_USER role", user.getReferenceId()))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(user.getReferenceId(), membership)).then())
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(user)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserRepository().findByUsernameAndSource(ReferenceType.ORGANIZATION, user.getReferenceId(), user.getUsername(), user.getSource()).flatMapSingle((oldUser)->{
    user.setId(oldUser.getId());
    user.setReferenceType(oldUser.getReferenceType());
    user.setReferenceId(oldUser.getReferenceId());
    user.setUsername(oldUser.getUsername());
    if (user.getFirstName() != null) {
        user.setDisplayName(user.getFirstName() + (user.getLastName() != null ? " " + user.getLastName() : ""));
    }
    user.setSource(oldUser.getSource());
    user.setInternal(oldUser.isInternal());
    user.setUpdatedAt(new Date());
    if (user.getLoginsCount() < oldUser.getLoginsCount()) {
        user.setLoggedAt(oldUser.getLoggedAt());
        user.setLoginsCount(oldUser.getLoginsCount());
    }
    return getUserRepository().update(user);
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    Event event = new Event(Type.USER, new Payload(user1.getId(), user1.getReferenceType(), user1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(user1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to update a user", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a user", ex)));
}))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserRepository().findByUsernameAndSource(ReferenceType.ORGANIZATION, user.getReferenceId(), user.getUsername(), user.getSource()).flatMapSingle((oldUser)->{
    user.setId(oldUser.getId());
    user.setReferenceType(oldUser.getReferenceType());
    user.setReferenceId(oldUser.getReferenceId());
    user.setUsername(oldUser.getUsername());
    if (user.getFirstName() != null) {
        user.setDisplayName(user.getFirstName() + (user.getLastName() != null ? " " + user.getLastName() : ""));
    }
    user.setSource(oldUser.getSource());
    user.setInternal(oldUser.isInternal());
    user.setUpdatedAt(new Date());
    if (user.getLoginsCount() < oldUser.getLoginsCount()) {
        user.setLoggedAt(oldUser.getLoggedAt());
        user.setLoginsCount(oldUser.getLoginsCount());
    }
    return getUserRepository().update(user);
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    Event event = new Event(Type.USER, new Payload(user1.getId(), user1.getReferenceType(), user1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(user1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(user1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(user1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a user", ex)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(getUserRepository().findByIdIn(ids)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find users by ids {}", userIds, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find users by ids %s", userIds), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find users by ids %s", userIds), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find users by %s %s", referenceType, referenceId), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find users for %s %s and query %s", referenceType, referenceId, query), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidParameterException(ex.getMessage())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find users for %s %s and filter %s", referenceType, referenceId, filterCriteria), ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(getUserRepository().findById(referenceType, referenceId, id).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to find a user using its ID {}", id, ex);
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its ID: %s", id), ex)));
})).switchIfEmpty(Mono.error(new UserNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its ID: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getUserRepository().findById(referenceType, referenceId, id).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to find a user using its ID {}", id, ex);
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its ID: %s", id), ex)));
})).switchIfEmpty(Mono.error(new UserNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its username: %s for the %s %s and source %s", username, referenceType, referenceId, source), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its externalId: %s for the %s %s and source %s", externalId, referenceType, referenceId, source), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(getUserRepository().findByUsernameAndSource(referenceType, referenceId, newUser.getUsername(), newUser.getSource())).hasElement().flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, Single<User>>)(isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(newUser.getUsername())));
    } else {
        String userId = RandomString.generate();
        User user = new User();
        user.setId(userId);
        user.setExternalId(newUser.getExternalId());
        user.setReferenceType(referenceType);
        user.setReferenceId(referenceId);
        user.setClient(newUser.getClient());
        user.setUsername(newUser.getUsername());
        user.setFirstName(newUser.getFirstName());
        user.setLastName(newUser.getLastName());
        if (user.getFirstName() != null) {
            user.setDisplayName(user.getFirstName() + (user.getLastName() != null ? " " + user.getLastName() : ""));
        }
        user.setEmail(newUser.getEmail());
        user.setSource(newUser.getSource());
        user.setInternal(true);
        user.setPreRegistration(newUser.isPreRegistration());
        user.setRegistrationCompleted(newUser.isRegistrationCompleted());
        user.setAdditionalInformation(newUser.getAdditionalInformation());
        user.setCreatedAt(new Date());
        user.setUpdatedAt(user.getCreatedAt());
        return create(user);
    }
}).apply(v))))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getUserRepository().findByUsernameAndSource(referenceType, referenceId, newUser.getUsername(), newUser.getSource())).hasElement().flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(newUser.getUsername())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a user", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(user)).then(RxJava2Adapter.singleToMono(getUserRepository().create(user))).flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<User, Single<User>>)(user1)->{
    Event event = new Event(Type.USER, new Payload(user1.getId(), user1.getReferenceType(), user1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(user1)));
}).apply(v))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userValidator.validate(user)).then(RxJava2Adapter.singleToMono(getUserRepository().create(user))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(user1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(user1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a user", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(getUserRepository().findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new UserNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getUserRepository().findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new UserNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a user", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(getUserRepository().findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<User, CompletableSource>)(user)->{
    Event event = new Event(Type.USER, new Payload(user.getId(), user.getReferenceType(), user.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(credentialService.findByUserId(user.getReferenceType(), user.getReferenceId(), user.getId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Credential, CompletableSource>toJdkFunction((credential)->credentialService.delete(credential.getId())).apply(z)))).then().then(RxJava2Adapter.completableToMono(getUserRepository().delete(userId))).then(RxJava2Adapter.singleToMono(eventService.create(event)).then()));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getUserRepository().findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<User, CompletableSource>)(user)->{
    Event event = new Event(Type.USER, new Payload(user.getId(), user.getReferenceType(), user.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(credentialService.findByUserId(user.getReferenceType(), user.getReferenceId(), user.getId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Credential, CompletableSource>toJdkFunction((credential)->credentialService.delete(credential.getId())).apply(z)))).then().then(RxJava2Adapter.completableToMono(getUserRepository().delete(userId))).then(RxJava2Adapter.singleToMono(eventService.create(event)).then()));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getUserRepository().findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getUserRepository().findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(credentialService.findByUserId(user.getReferenceType(), user.getReferenceId(), user.getId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Credential, CompletableSource>toJdkFunction((credential)->credentialService.delete(credential.getId())).apply(z)))).then().then(RxJava2Adapter.completableToMono(getUserRepository().delete(userId))).then(RxJava2Adapter.singleToMono(eventService.create(event)).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(credentialService.findByUserId(user.getReferenceType(), user.getReferenceId(), user.getId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Credential, CompletableSource>toJdkFunction((credential)->credentialService.delete(credential.getId())).apply(z)))).then().then(RxJava2Adapter.completableToMono(getUserRepository().delete(userId))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(credentialService.findByUserId(user.getReferenceType(), user.getReferenceId(), user.getId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Credential, CompletableSource>toJdkFunction((credential)->credentialService.delete(credential.getId())).apply(z)))).then().then
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(credentialService.findByUserId(user.getReferenceType(), user.getReferenceId(), user.getId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Credential, CompletableSource>toJdkFunction((credential)->credentialService.delete(credential.getId())).apply(z)))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(credentialService.findByUserId(user.getReferenceType(), user.getReferenceId(), user.getId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Credential, CompletableSource>toJdkFunction((credential)->credentialService.delete(credential.getId())).apply(z)))).then().then(RxJava2Adapter.completableToMono(getUserRepository().delete(userId))).then(RxJava2Adapter.singleToMono(eventService.create(event)).then())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete user: %s", userId), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(groupService.findByMember(user.getId())).collectList().flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Group>, Single<User>>)(groups)->{
    Set<String> roles = new HashSet<>();
    if (groups != null && !groups.isEmpty()) {
        user.setGroups(groups.stream().map(Group::getName).collect(Collectors.toList()));
        roles.addAll(groups.stream().filter((group)->group.getRoles() != null && !group.getRoles().isEmpty()).flatMap((group)->group.getRoles().stream()).collect(Collectors.toSet()));
    }
    if (user.getRoles() != null && !user.getRoles().isEmpty()) {
        roles.addAll(user.getRoles());
    }
    if (!roles.isEmpty()) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.findByIdIn(new ArrayList<>(roles))).map(RxJavaReactorMigrationUtil.toJdkFunction((roles1)->{
            user.setRolesPermissions(roles1);
            return user;
        })));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user));
}).apply(v))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(groupService.findByMember(user.getId())).collectList().flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.findByIdIn(new ArrayList<>(roles))).map(RxJavaReactorMigrationUtil.toJdkFunction((roles1)->{
    user.setRolesPermissions(roles1);
    return user;
})))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to enhance user %s", user.getId()), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidUserException(String.format("Username [%s] is not a valid value", user.getUsername()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new EmailFormatInvalidException(user.getEmail())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidUserException(String.format("First name [%s] is not a valid value", user.getFirstName()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidUserException(String.format("Last name [%s] is not a valid value", user.getLastName()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidUserException(String.format("Display name [%s] is not a valid value", user.getDisplayName()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidUserException(String.format("Nick name [%s] is not a valid value", user.getNickName()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidUserException(String.format("External id [%s] is not a valid value", user.getExternalId()))))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(organizationRepository.findById(id)).switchIfEmpty(Mono.error(new OrganizationNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(organizationRepository.findById(id)).switchIfEmpty(Mono.error(new OrganizationNotFoundException(id)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(organizationRepository.count()).filter(RxJavaReactorMigrationUtil.toJdkPredicate((aLong)->aLong == 0)).flatMap((z)->RxJava2Adapter.singleToMono(createInternal(organization, null))))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationRepository.count()).filter(RxJavaReactorMigrationUtil.toJdkPredicate((aLong)->aLong == 0)).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(organizationRepository.findById(organizationId)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Organization, MaybeSource<Organization>>toJdkFunction((organization)->{
    Organization toUpdate = new Organization(organization);
    toUpdate.setName(newOrganization.getName());
    toUpdate.setDescription(newOrganization.getDescription());
    toUpdate.setDomainRestrictions(newOrganization.getDomainRestrictions());
    toUpdate.setHrids(newOrganization.getHrids());
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(updateInternal(toUpdate, byUser, organization)));
}).apply(v)))).switchIfEmpty(RxJava2Adapter.singleToMono(Single.defer(()->{
    Organization toCreate = new Organization();
    toCreate.setId(organizationId);
    toCreate.setHrids(newOrganization.getHrids());
    toCreate.setName(newOrganization.getName());
    toCreate.setDescription(newOrganization.getDescription());
    toCreate.setDomainRestrictions(newOrganization.getDomainRestrictions());
    return createInternal(toCreate, byUser);
}))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(organizationRepository.findById(organizationId)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Organization, MaybeSource<Organization>>toJdkFunction((organization)->{
    Organization toUpdate = new Organization(organization);
    toUpdate.setName(newOrganization.getName());
    toUpdate.setDescription(newOrganization.getDescription());
    toUpdate.setDomainRestrictions(newOrganization.getDomainRestrictions());
    toUpdate.setHrids(newOrganization.getHrids());
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(updateInternal(toUpdate, byUser, organization)));
}).apply(v)))).switchIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findById(organizationId)).flatMap((organization)->RxJava2Adapter.singleToMono(updateInternal(patchOrganization.patch(organization), updatedBy, organization))))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(organizationRepository.create(toCreate)).flatMap((createdOrganization)->RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(entrypointService.createDefaults(createdOrganization)).ignoreElements().then()), roleService.createDefaultRoles(createdOrganization.getId()))).then(Mono.just(createdOrganization))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((organization)->auditService.report(AuditBuilder.builder(OrganizationAuditBuilder.class).type(EventType.ORGANIZATION_CREATED).organization(organization).principal(owner)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(OrganizationAuditBuilder.class).type(EventType.ORGANIZATION_CREATED).organization(toCreate).principal(owner).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationRepository.create(toCreate)).flatMap((createdOrganization)->RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(entrypointService.createDefaults(createdOrganization)).ignoreElements().then()), roleService.createDefaultRoles(createdOrganization.getId()))).then(Mono.just(createdOrganization))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((organization)->auditService.report(AuditBuilder.builder(OrganizationAuditBuilder.class).type(EventType.ORGANIZATION_CREATED).organization(organization).principal(owner)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationRepository.create(toCreate)).flatMap((createdOrganization)->RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(entrypointService.createDefaults(createdOrganization)).ignoreElements().then()), roleService.createDefaultRoles(createdOrganization.getId()))).then(Mono.just(createdOrganization))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | (createdOrganization)->RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(entrypointService.createDefaults(createdOrganization)).ignoreElements().then()), roleService.createDefaultRoles(createdOrganization.getId()))).then(Mono.just(createdOrganization))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(entrypointService.createDefaults(createdOrganization)).ignoreElements().then())
1 | Flux | ignoreElements | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(entrypointService.createDefaults(createdOrganization)).ignoreElements().then
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(Completable.mergeArrayDelayError(RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(entrypointService.createDefaults(createdOrganization)).ignoreElements().then()), roleService.createDefaultRoles(createdOrganization.getId()))).then(Mono.just(createdOrganization))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(organizationRepository.update(organization)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(OrganizationAuditBuilder.class).type(EventType.ORGANIZATION_UPDATED).organization(updated).principal(updatedBy).oldValue(previous)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(OrganizationAuditBuilder.class).type(EventType.ORGANIZATION_UPDATED).organization(previous).principal(updatedBy).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationRepository.update(organization)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(OrganizationAuditBuilder.class).type(EventType.ORGANIZATION_UPDATED).organization(updated).principal(updatedBy).oldValue(previous)))).doOnError
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find membership by ID %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByReference(referenceId, referenceType)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find memberships by reference id {} and reference type {}", referenceId, referenceType, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find memberships by reference id %s and reference type %s", referenceId, referenceType), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find memberships by reference id %s and reference type %s", referenceId, referenceType), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByMember(memberId, memberType)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find memberships by member id {} and member type {}", memberId, memberType, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find memberships by member id %s and member type %s", memberId, memberType), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find memberships by member id %s and member type %s", memberId, memberType), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkMember(organizationId, membership)).then(RxJava2Adapter.completableToMono(checkRole(organizationId, membership))).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(membershipRepository.findByReferenceAndMember(membership.getReferenceType(), membership.getReferenceId(), membership.getMemberType(), membership.getMemberId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty())).flatMapSingle((optMembership)->{
    if (!optMembership.isPresent()) {
        Membership newMembership = new Membership();
        newMembership.setId(RandomString.generate());
        newMembership.setDomain(membership.getDomain());
        newMembership.setMemberId(membership.getMemberId());
        newMembership.setMemberType(membership.getMemberType());
        newMembership.setReferenceId(membership.getReferenceId());
        newMembership.setReferenceType(membership.getReferenceType());
        newMembership.setRoleId(membership.getRoleId());
        newMembership.setCreatedAt(new Date());
        newMembership.setUpdatedAt(newMembership.getCreatedAt());
        return createInternal(newMembership, principal);
    } else {
        Membership oldMembership = optMembership.get();
        Membership updateMembership = new Membership(oldMembership);
        updateMembership.setRoleId(membership.getRoleId());
        updateMembership.setUpdatedAt(new Date());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipRepository.update(updateMembership)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Membership, SingleSource<Membership>>toJdkFunction((membership1)->{
            Event event = new Event(Type.MEMBERSHIP, new Payload(membership1.getId(), membership1.getReferenceType(), membership1.getReferenceId(), Action.UPDATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)));
        }).apply(v))))).onErrorResumeNext((ex)->{
            if (ex instanceof AbstractManagementException) {
                return RxJava2Adapter.monoToSingle(Mono.error(ex));
            }
            LOGGER.error("An error occurs while trying to update membership {}", oldMembership, ex);
            return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to update membership %s", oldMembership), ex)));
        })).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((membership1)->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_UPDATED).oldValue(oldMembership).membership(membership1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_UPDATED).throwable(throwable)))));
    }
}))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkMember(organizationId, membership)).then(RxJava2Adapter.completableToMono(checkRole(organizationId, membership))).then
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(membershipRepository.findByReferenceAndMember(membership.getReferenceType(), membership.getReferenceId(), membership.getMemberType(), membership.getMemberId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(membershipRepository.findByReferenceAndMember(membership.getReferenceType(), membership.getReferenceId(), membership.getMemberType(), membership.getMemberId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipRepository.update(updateMembership)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Membership, SingleSource<Membership>>toJdkFunction((membership1)->{
    Event event = new Event(Type.MEMBERSHIP, new Payload(membership1.getId(), membership1.getReferenceType(), membership1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to update membership {}", oldMembership, ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to update membership %s", oldMembership), ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((membership1)->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_UPDATED).oldValue(oldMembership).membership(membership1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipRepository.update(updateMembership)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Membership, SingleSource<Membership>>toJdkFunction((membership1)->{
    Event event = new Event(Type.MEMBERSHIP, new Payload(membership1.getId(), membership1.getReferenceType(), membership1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to update membership {}", oldMembership, ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to update membership %s", oldMembership), ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((membership1)->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_UPDATED).oldValue(oldMembership).membership(membership1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipRepository.update(updateMembership)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Membership, SingleSource<Membership>>toJdkFunction((membership1)->{
    Event event = new Event(Type.MEMBERSHIP, new Payload(membership1.getId(), membership1.getReferenceType(), membership1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(membership1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to update membership %s", oldMembership), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.PLATFORM_ADMIN, ReferenceType.PLATFORM)).switchIfEmpty(Mono.error(new RoleNotFoundException(SystemRole.PLATFORM_ADMIN.name()))).flatMap((role)->RxJava2Adapter.flowableToFlux(findByCriteria(ReferenceType.PLATFORM, Platform.DEFAULT, criteria)).next().switchIfEmpty(RxJava2Adapter.singleToMono(Single.defer(()->{
    final Date now = new Date();
    Membership membership = new Membership();
    membership.setRoleId(role.getId());
    membership.setMemberType(MemberType.USER);
    membership.setMemberId(userId);
    membership.setReferenceType(ReferenceType.PLATFORM);
    membership.setReferenceId(Platform.DEFAULT);
    membership.setCreatedAt(now);
    membership.setUpdatedAt(now);
    return createInternal(membership, null);
})))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.PLATFORM_ADMIN, ReferenceType.PLATFORM)).switchIfEmpty(Mono.error(new RoleNotFoundException(SystemRole.PLATFORM_ADMIN.name()))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.PLATFORM_ADMIN, ReferenceType.PLATFORM)).switchIfEmpty(Mono.error(new RoleNotFoundException(SystemRole.PLATFORM_ADMIN.name())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | (role)->RxJava2Adapter.flowableToFlux(findByCriteria(ReferenceType.PLATFORM, Platform.DEFAULT, criteria)).next().switchIfEmpty(RxJava2Adapter.singleToMono(Single.defer(()->{
    final Date now = new Date();
    Membership membership = new Membership();
    membership.setRoleId(role.getId());
    membership.setMemberType(MemberType.USER);
    membership.setMemberId(userId);
    membership.setReferenceType(ReferenceType.PLATFORM);
    membership.setReferenceId(Platform.DEFAULT);
    membership.setCreatedAt(now);
    membership.setUpdatedAt(now);
    return createInternal(membership, null);
})))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(findByCriteria(ReferenceType.PLATFORM, Platform.DEFAULT, criteria)).next().switchIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(membershipRepository.findById(membershipId)).switchIfEmpty(Mono.error(new MembershipNotFoundException(membershipId))).flatMap((membership)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(membershipRepository.delete(membershipId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.MEMBERSHIP, new Payload(membership.getId(), membership.getReferenceType(), membership.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_DELETED).membership(membership)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_DELETED).throwable(throwable))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(membershipRepository.findById(membershipId)).switchIfEmpty(Mono.error(new MembershipNotFoundException(membershipId))).flatMap((membership)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(membershipRepository.delete(membershipId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.MEMBERSHIP, new Payload(membership.getId(), membership.getReferenceType(), membership.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_DELETED).membership(membership)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_DELETED).throwable(throwable))))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(membershipRepository.findById(membershipId)).switchIfEmpty(Mono.error(new MembershipNotFoundException(membershipId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(membershipRepository.findById(membershipId)).switchIfEmpty(Mono.error(new MembershipNotFoundException(membershipId)))
1 | Mono | doOnError | METHOD_INVOCATION | (membership)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(membershipRepository.delete(membershipId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.MEMBERSHIP, new Payload(membership.getId(), membership.getReferenceType(), membership.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_DELETED).membership(membership)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_DELETED).throwable(throwable))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(membershipRepository.delete(membershipId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.MEMBERSHIP, new Payload(membership.getId(), membership.getReferenceType(), membership.getReferenceId(), Action.DELETE)))))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete membership: %s", membershipId), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(this.findByCriteria(ReferenceType.DOMAIN, domainId, criteria)).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.DOMAIN_USER, ReferenceType.DOMAIN).flatMapSingle((role)->{
    final Membership domainMembership = new Membership();
    domainMembership.setMemberId(newMembership.getMemberId());
    domainMembership.setMemberType(newMembership.getMemberType());
    domainMembership.setRoleId(role.getId());
    domainMembership.setReferenceId(domainId);
    domainMembership.setReferenceType(ReferenceType.DOMAIN);
    return this.createInternal(domainMembership, principal);
})).flux()))))).ignoreElements().then().then(RxJava2Adapter.completableToMono(addEnvironmentUserRoleIfNecessary(organizationId, environmentId, newMembership, principal))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(this.findByCriteria(ReferenceType.DOMAIN, domainId, criteria)).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.DOMAIN_USER, ReferenceType.DOMAIN).flatMapSingle((role)->{
    final Membership domainMembership = new Membership();
    domainMembership.setMemberId(newMembership.getMemberId());
    domainMembership.setMemberType(newMembership.getMemberType());
    domainMembership.setRoleId(role.getId());
    domainMembership.setReferenceId(domainId);
    domainMembership.setReferenceType(ReferenceType.DOMAIN);
    return this.createInternal(domainMembership, principal);
})).flux()))))).ignoreElements().then().then
1 | Flux | ignoreElements | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(this.findByCriteria(ReferenceType.DOMAIN, domainId, criteria)).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.DOMAIN_USER, ReferenceType.DOMAIN).flatMapSingle((role)->{
    final Membership domainMembership = new Membership();
    domainMembership.setMemberId(newMembership.getMemberId());
    domainMembership.setMemberType(newMembership.getMemberType());
    domainMembership.setRoleId(role.getId());
    domainMembership.setReferenceId(domainId);
    domainMembership.setReferenceType(ReferenceType.DOMAIN);
    return this.createInternal(domainMembership, principal);
})).flux()))))).ignoreElements().then
1 | Flux | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(this.findByCriteria(ReferenceType.DOMAIN, domainId, criteria)).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.DOMAIN_USER, ReferenceType.DOMAIN).flatMapSingle((role)->{
    final Membership domainMembership = new Membership();
    domainMembership.setMemberId(newMembership.getMemberId());
    domainMembership.setMemberType(newMembership.getMemberType());
    domainMembership.setRoleId(role.getId());
    domainMembership.setReferenceId(domainId);
    domainMembership.setReferenceType(ReferenceType.DOMAIN);
    return this.createInternal(domainMembership, principal);
})).flux()))))).ignoreElements
1 | Flux | defer | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.DOMAIN_USER, ReferenceType.DOMAIN).flatMapSingle((role)->{
    final Membership domainMembership = new Membership();
    domainMembership.setMemberId(newMembership.getMemberId());
    domainMembership.setMemberType(newMembership.getMemberType());
    domainMembership.setRoleId(role.getId());
    domainMembership.setReferenceId(domainId);
    domainMembership.setReferenceType(ReferenceType.DOMAIN);
    return this.createInternal(domainMembership, principal);
})).flux()))))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.DOMAIN_USER, ReferenceType.DOMAIN).flatMapSingle((role)->{
    final Membership domainMembership = new Membership();
    domainMembership.setMemberId(newMembership.getMemberId());
    domainMembership.setMemberType(newMembership.getMemberType());
    domainMembership.setRoleId(role.getId());
    domainMembership.setReferenceId(domainId);
    domainMembership.setReferenceType(ReferenceType.DOMAIN);
    return this.createInternal(domainMembership, principal);
})).flux())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(this.findByCriteria(ReferenceType.ENVIRONMENT, environmentId, criteria)).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.ENVIRONMENT_USER, ReferenceType.ENVIRONMENT).flatMapSingle((role)->{
    final Membership environmentMembership = new Membership();
    environmentMembership.setMemberId(newMembership.getMemberId());
    environmentMembership.setMemberType(newMembership.getMemberType());
    environmentMembership.setRoleId(role.getId());
    environmentMembership.setReferenceId(environmentId);
    environmentMembership.setReferenceType(ReferenceType.ENVIRONMENT);
    return this.createInternal(environmentMembership, principal);
})).flux()))))).ignoreElements().then())
1 | Flux | ignoreElements | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(this.findByCriteria(ReferenceType.ENVIRONMENT, environmentId, criteria)).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.ENVIRONMENT_USER, ReferenceType.ENVIRONMENT).flatMapSingle((role)->{
    final Membership environmentMembership = new Membership();
    environmentMembership.setMemberId(newMembership.getMemberId());
    environmentMembership.setMemberType(newMembership.getMemberType());
    environmentMembership.setRoleId(role.getId());
    environmentMembership.setReferenceId(environmentId);
    environmentMembership.setReferenceType(ReferenceType.ENVIRONMENT);
    return this.createInternal(environmentMembership, principal);
})).flux()))))).ignoreElements().then
1 | Flux | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(this.findByCriteria(ReferenceType.ENVIRONMENT, environmentId, criteria)).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.ENVIRONMENT_USER, ReferenceType.ENVIRONMENT).flatMapSingle((role)->{
    final Membership environmentMembership = new Membership();
    environmentMembership.setMemberId(newMembership.getMemberId());
    environmentMembership.setMemberType(newMembership.getMemberType());
    environmentMembership.setRoleId(role.getId());
    environmentMembership.setReferenceId(environmentId);
    environmentMembership.setReferenceType(ReferenceType.ENVIRONMENT);
    return this.createInternal(environmentMembership, principal);
})).flux()))))).ignoreElements
1 | Flux | defer | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.defer(RxJavaReactorMigrationUtil.callableAsSupplier(()->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.ENVIRONMENT_USER, ReferenceType.ENVIRONMENT).flatMapSingle((role)->{
    final Membership environmentMembership = new Membership();
    environmentMembership.setMemberId(newMembership.getMemberId());
    environmentMembership.setMemberType(newMembership.getMemberType());
    environmentMembership.setRoleId(role.getId());
    environmentMembership.setReferenceId(environmentId);
    environmentMembership.setReferenceType(ReferenceType.ENVIRONMENT);
    return this.createInternal(environmentMembership, principal);
})).flux()))))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(roleService.findDefaultRole(organizationId, DefaultRole.ENVIRONMENT_USER, ReferenceType.ENVIRONMENT).flatMapSingle((role)->{
    final Membership environmentMembership = new Membership();
    environmentMembership.setMemberId(newMembership.getMemberId());
    environmentMembership.setMemberType(newMembership.getMemberType());
    environmentMembership.setRoleId(role.getId());
    environmentMembership.setReferenceId(environmentId);
    environmentMembership.setReferenceType(ReferenceType.ENVIRONMENT);
    return this.createInternal(environmentMembership, principal);
})).flux())
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipRepository.create(membership)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Membership, SingleSource<Membership>>toJdkFunction((membership1)->{
    Event event = new Event(Type.MEMBERSHIP, new Payload(membership1.getId(), membership1.getReferenceType(), membership1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create membership {}", membership, ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to create membership %s", membership), ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((membership1)->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_CREATED).membership(membership1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipRepository.create(membership)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Membership, SingleSource<Membership>>toJdkFunction((membership1)->{
    Event event = new Event(Type.MEMBERSHIP, new Payload(membership1.getId(), membership1.getReferenceType(), membership1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create membership {}", membership, ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to create membership %s", membership), ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((membership1)->auditService.report(AuditBuilder.builder(MembershipAuditBuilder.class).principal(principal).type(EventType.MEMBERSHIP_CREATED).membership(membership1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipRepository.create(membership)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Membership, SingleSource<Membership>>toJdkFunction((membership1)->{
    Event event = new Event(Type.MEMBERSHIP, new Payload(membership1.getId(), membership1.getReferenceType(), membership1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(membership1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(membership1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to create membership %s", membership), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(orgUserService.findById(ReferenceType.ORGANIZATION, organizationId, membership.getMemberId())).then())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(groupService.findById(ReferenceType.ORGANIZATION, organizationId, membership.getMemberId())).then())
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(roleService.findById(membership.getRoleId())).switchIfEmpty(Mono.error(new RoleNotFoundException(membership.getRoleId()))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Role, MaybeSource<Role>>toJdkFunction((role)->{
    if (role.isSystem() && role.getName().endsWith("_PRIMARY_OWNER")) {
        if (membership.getMemberType() == MemberType.GROUP) {
            return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidRoleException("This role cannot be assigned to a group")));
        }
        MembershipCriteria criteria = new MembershipCriteria();
        criteria.setRoleId(membership.getRoleId());
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByCriteria(membership.getReferenceType(), membership.getReferenceId(), criteria)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingMembership)->!existingMembership.isMember(membership.getMemberType(), membership.getMemberId())))).count()).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Long, MaybeSource<Role>>toJdkFunction((count)->count >= 1 ? RxJava2Adapter.monoToMaybe(Mono.error(new SinglePrimaryOwnerException(membership.getReferenceType()))) : RxJava2Adapter.monoToMaybe(Mono.just(role))).apply(e)))));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(role));
}).apply(v)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role1)->role1.getAssignableType() == membership.getReferenceType() && (role1.isSystem() || (role1.getReferenceType() == ReferenceType.ORGANIZATION && organizationId.equals(role1.getReferenceId())) || (role1.getReferenceType() == membership.getReferenceType() && membership.getReferenceId().equals(role1.getReferenceId()))))).switchIfEmpty(Mono.error(new InvalidRoleException("Invalid role"))).then())
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findById(membership.getRoleId())).switchIfEmpty(Mono.error(new RoleNotFoundException(membership.getRoleId()))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Role, MaybeSource<Role>>toJdkFunction((role)->{
    if (role.isSystem() && role.getName().endsWith("_PRIMARY_OWNER")) {
        if (membership.getMemberType() == MemberType.GROUP) {
            return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidRoleException("This role cannot be assigned to a group")));
        }
        MembershipCriteria criteria = new MembershipCriteria();
        criteria.setRoleId(membership.getRoleId());
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByCriteria(membership.getReferenceType(), membership.getReferenceId(), criteria)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingMembership)->!existingMembership.isMember(membership.getMemberType(), membership.getMemberId())))).count()).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Long, MaybeSource<Role>>toJdkFunction((count)->count >= 1 ? RxJava2Adapter.monoToMaybe(Mono.error(new SinglePrimaryOwnerException(membership.getReferenceType()))) : RxJava2Adapter.monoToMaybe(Mono.just(role))).apply(e)))));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(role));
}).apply(v)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role1)->role1.getAssignableType() == membership.getReferenceType() && (role1.isSystem() || (role1.getReferenceType() == ReferenceType.ORGANIZATION && organizationId.equals(role1.getReferenceId())) || (role1.getReferenceType() == membership.getReferenceType() && membership.getReferenceId().equals(role1.getReferenceId()))))).switchIfEmpty(Mono.error(new InvalidRoleException("Invalid role"))).then
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findById(membership.getRoleId())).switchIfEmpty(Mono.error(new RoleNotFoundException(membership.getRoleId()))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Role, MaybeSource<Role>>toJdkFunction((role)->{
    if (role.isSystem() && role.getName().endsWith("_PRIMARY_OWNER")) {
        if (membership.getMemberType() == MemberType.GROUP) {
            return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidRoleException("This role cannot be assigned to a group")));
        }
        MembershipCriteria criteria = new MembershipCriteria();
        criteria.setRoleId(membership.getRoleId());
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByCriteria(membership.getReferenceType(), membership.getReferenceId(), criteria)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingMembership)->!existingMembership.isMember(membership.getMemberType(), membership.getMemberId())))).count()).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Long, MaybeSource<Role>>toJdkFunction((count)->count >= 1 ? RxJava2Adapter.monoToMaybe(Mono.error(new SinglePrimaryOwnerException(membership.getReferenceType()))) : RxJava2Adapter.monoToMaybe(Mono.just(role))).apply(e)))));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(role));
}).apply(v)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role1)->role1.getAssignableType() == membership.getReferenceType() && (role1.isSystem() || (role1.getReferenceType() == ReferenceType.ORGANIZATION && organizationId.equals(role1.getReferenceId())) || (role1.getReferenceType() == membership.getReferenceType() && membership.getReferenceId().equals(role1.getReferenceId()))))).switchIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findById(membership.getRoleId())).switchIfEmpty(Mono.error(new RoleNotFoundException(membership.getRoleId()))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Role, MaybeSource<Role>>toJdkFunction((role)->{
    if (role.isSystem() && role.getName().endsWith("_PRIMARY_OWNER")) {
        if (membership.getMemberType() == MemberType.GROUP) {
            return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidRoleException("This role cannot be assigned to a group")));
        }
        MembershipCriteria criteria = new MembershipCriteria();
        criteria.setRoleId(membership.getRoleId());
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByCriteria(membership.getReferenceType(), membership.getReferenceId(), criteria)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingMembership)->!existingMembership.isMember(membership.getMemberType(), membership.getMemberId())))).count()).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Long, MaybeSource<Role>>toJdkFunction((count)->count >= 1 ? RxJava2Adapter.monoToMaybe(Mono.error(new SinglePrimaryOwnerException(membership.getReferenceType()))) : RxJava2Adapter.monoToMaybe(Mono.just(role))).apply(e)))));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(role));
}).apply(v)))).filter
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findById(membership.getRoleId())).switchIfEmpty(Mono.error(new RoleNotFoundException(membership.getRoleId()))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findById(membership.getRoleId())).switchIfEmpty(Mono.error(new RoleNotFoundException(membership.getRoleId())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidRoleException("This role cannot be assigned to a group")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByCriteria(membership.getReferenceType(), membership.getReferenceId(), criteria)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingMembership)->!existingMembership.isMember(membership.getMemberType(), membership.getMemberId())))).count()).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Long, MaybeSource<Role>>toJdkFunction((count)->count >= 1 ? RxJava2Adapter.monoToMaybe(Mono.error(new SinglePrimaryOwnerException(membership.getReferenceType()))) : RxJava2Adapter.monoToMaybe(Mono.just(role))).apply(e)))))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByCriteria(membership.getReferenceType(), membership.getReferenceId(), criteria)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingMembership)->!existingMembership.isMember(membership.getMemberType(), membership.getMemberId()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new SinglePrimaryOwnerException(membership.getReferenceType())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findById(membership.getRoleId())).switchIfEmpty(Mono.error(new RoleNotFoundException(membership.getRoleId()))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Role, MaybeSource<Role>>toJdkFunction((role)->{
    if (role.isSystem() && role.getName().endsWith("_PRIMARY_OWNER")) {
        if (membership.getMemberType() == MemberType.GROUP) {
            return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidRoleException("This role cannot be assigned to a group")));
        }
        MembershipCriteria criteria = new MembershipCriteria();
        criteria.setRoleId(membership.getRoleId());
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipRepository.findByCriteria(membership.getReferenceType(), membership.getReferenceId(), criteria)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingMembership)->!existingMembership.isMember(membership.getMemberType(), membership.getMemberId())))).count()).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Long, MaybeSource<Role>>toJdkFunction((count)->count >= 1 ? RxJava2Adapter.monoToMaybe(Mono.error(new SinglePrimaryOwnerException(membership.getReferenceType()))) : RxJava2Adapter.monoToMaybe(Mono.just(role))).apply(e)))));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(role));
}).apply(v)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role1)->role1.getAssignableType() == membership.getReferenceType() && (role1.isSystem() || (role1.getReferenceType() == ReferenceType.ORGANIZATION && organizationId.equals(role1.getReferenceId())) || (role1.getReferenceType() == membership.getReferenceType() && membership.getReferenceId().equals(role1.getReferenceId()))))).switchIfEmpty(Mono.error(new InvalidRoleException("Invalid role")))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find an factor using its ID: %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(factorRepository.findByDomain(domain)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find factors by domain", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find factors by domain", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find factors by domain", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkFactorConfiguration(factor)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction(factorRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction((factor1)->{
    Event event = new Event(Type.FACTOR, new Payload(factor1.getId(), ReferenceType.DOMAIN, factor1.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(factor1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a factor", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a factor", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((factor1)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_CREATED).factor(factor1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkFactorConfiguration(factor)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction(factorRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction((factor1)->{
    Event event = new Event(Type.FACTOR, new Payload(factor1.getId(), ReferenceType.DOMAIN, factor1.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(factor1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a factor", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a factor", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((factor1)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_CREATED).factor(factor1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkFactorConfiguration(factor)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction(factorRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction((factor1)->{
    Event event = new Event(Type.FACTOR, new Payload(factor1.getId(), ReferenceType.DOMAIN, factor1.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(factor1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkFactorConfiguration(factor)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction(factorRepository::create).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(factor1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(factor1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a factor", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new FactorConfigurationException(CONFIG_KEY_COUNTRY_CODES, code)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(factor))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(factorRepository.findById(id)).switchIfEmpty(Mono.error(new FactorNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(factorRepository.findById(id)).switchIfEmpty(Mono.error(new FactorNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkFactorConfiguration(factorToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction(factorRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction((factor1)->{
    Event event = new Event(Type.FACTOR, new Payload(factor1.getId(), ReferenceType.DOMAIN, factor1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(factor1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((factor1)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_UPDATED).oldValue(oldFactor).factor(factor1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkFactorConfiguration(factorToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction(factorRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction((factor1)->{
    Event event = new Event(Type.FACTOR, new Payload(factor1.getId(), ReferenceType.DOMAIN, factor1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(factor1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((factor1)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_UPDATED).oldValue(oldFactor).factor(factor1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkFactorConfiguration(factorToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction(factorRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction((factor1)->{
    Event event = new Event(Type.FACTOR, new Payload(factor1.getId(), ReferenceType.DOMAIN, factor1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(factor1)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkFactorConfiguration(factorToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Factor, SingleSource<Factor>>toJdkFunction(factorRepository::update).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(factor1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(factor1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a factor", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(factorRepository.findById(factorId)).switchIfEmpty(Mono.error(new FactorNotFoundException(factorId)))).flatMapSingle((factor)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByFactor(factorId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<Factor>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new FactorWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(factor));
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Factor, CompletableSource>)(factor)->{
    Event event = new Event(Type.FACTOR, new Payload(factorId, ReferenceType.DOMAIN, domain, Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(factorRepository.delete(factorId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_DELETED).factor(factor)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(factorRepository.findById(factorId)).switchIfEmpty(Mono.error(new FactorNotFoundException(factorId)))).flatMapSingle((factor)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByFactor(factorId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<Factor>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new FactorWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(factor));
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Factor, CompletableSource>)(factor)->{
    Event event = new Event(Type.FACTOR, new Payload(factorId, ReferenceType.DOMAIN, domain, Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(factorRepository.delete(factorId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_DELETED).factor(factor)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(factorRepository.findById(factorId)).switchIfEmpty(Mono.error(new FactorNotFoundException(factorId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(factorRepository.findById(factorId)).switchIfEmpty(Mono.error(new FactorNotFoundException(factorId)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByFactor(factorId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<Factor>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new FactorWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(factor));
}).apply(v)))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(factor))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(factorRepository.delete(factorId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_DELETED).factor(factor)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FactorAuditBuilder.class).principal(principal).type(EventType.FACTOR_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(factorRepository.delete(factorId)).then(RxJava2Adapter.singleToMono(eventService.create(event))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete factor: %s", factorId), ex)))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findAll(0, Integer.MAX_VALUE)).map(RxJavaReactorMigrationUtil.toJdkFunction((pagedApplications)->(pagedApplications.getData() == null) ? Collections.emptySet() : new HashSet<>(pagedApplications.getData()))))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findByDomain(domain, 0, Integer.MAX_VALUE)).map(RxJavaReactorMigrationUtil.toJdkFunction((pagedApplications)->(pagedApplications.getData() == null) ? Collections.emptySet() : new HashSet<>(pagedApplications.getData()))))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(emailRepository.findAll(referenceType, referenceId)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find all emails for {} {}", referenceType, referenceId, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a all emails for %s %s", referenceType, referenceId), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a all emails for %s %s", referenceType, referenceId), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(emailRepository.findAll()).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find all emails", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find a all emails", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find a all emails", ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(emailRepository.findByClient(referenceType, referenceId, client)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a email using its {} {} and its client {}", referenceType, referenceId, client, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a email using its %s %s and its client %s", referenceType, referenceId, client), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a email using its %s %s and its client %s", referenceType, referenceId, client), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a email using its %s %s and template %s", referenceType, referenceId, template), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a email using its %s %s its client %s and template %s", referenceType, referenceId, client, template), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a email using its id %s", id), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(emailRepository.findById(emailId)).switchIfEmpty(Mono.error(new EmailNotFoundException(emailId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Email, CompletableSource>)(email)->{
    Event event = new Event(Type.EMAIL, new Payload(email.getId(), email.getReferenceType(), email.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(emailRepository.delete(emailId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_DELETED).email(email)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(emailRepository.findById(emailId)).switchIfEmpty(Mono.error(new EmailNotFoundException(emailId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Email, CompletableSource>)(email)->{
    Event event = new Event(Type.EMAIL, new Payload(email.getId(), email.getReferenceType(), email.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(emailRepository.delete(emailId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_DELETED).email(email)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(emailRepository.findById(emailId)).switchIfEmpty(Mono.error(new EmailNotFoundException(emailId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(emailRepository.findById(emailId)).switchIfEmpty(Mono.error(new EmailNotFoundException(emailId)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(emailRepository.delete(emailId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_DELETED).email(email)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(emailRepository.delete(emailId)).then(RxJava2Adapter.singleToMono(eventService.create(event))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete email: %s", emailId), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkEmailUniqueness(referenceType, referenceId, client, newEmail.getTemplate().template())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Email>>toJdkFunction((irrelevant)->{
    Email email = new Email();
    email.setId(emailId);
    email.setReferenceType(referenceType);
    email.setReferenceId(referenceId);
    email.setClient(client);
    email.setEnabled(newEmail.isEnabled());
    email.setTemplate(newEmail.getTemplate().template());
    email.setFrom(newEmail.getFrom());
    email.setFromName(newEmail.getFromName());
    email.setSubject(newEmail.getSubject());
    email.setContent(newEmail.getContent());
    email.setExpiresAfter(newEmail.getExpiresAfter());
    email.setCreatedAt(new Date());
    email.setUpdatedAt(email.getCreatedAt());
    return emailRepository.create(email);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Email, SingleSource<Email>>toJdkFunction((email)->{
    Event event = new Event(Type.EMAIL, new Payload(email.getId(), email.getReferenceType(), email.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(email)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a email", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a email", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((email)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_CREATED).email(email)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkEmailUniqueness(referenceType, referenceId, client, newEmail.getTemplate().template())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Email>>toJdkFunction((irrelevant)->{
    Email email = new Email();
    email.setId(emailId);
    email.setReferenceType(referenceType);
    email.setReferenceId(referenceId);
    email.setClient(client);
    email.setEnabled(newEmail.isEnabled());
    email.setTemplate(newEmail.getTemplate().template());
    email.setFrom(newEmail.getFrom());
    email.setFromName(newEmail.getFromName());
    email.setSubject(newEmail.getSubject());
    email.setContent(newEmail.getContent());
    email.setExpiresAfter(newEmail.getExpiresAfter());
    email.setCreatedAt(new Date());
    email.setUpdatedAt(email.getCreatedAt());
    return emailRepository.create(email);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Email, SingleSource<Email>>toJdkFunction((email)->{
    Event event = new Event(Type.EMAIL, new Payload(email.getId(), email.getReferenceType(), email.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(email)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a email", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a email", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((email)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_CREATED).email(email)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkEmailUniqueness(referenceType, referenceId, client, newEmail.getTemplate().template())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Email>>toJdkFunction((irrelevant)->{
    Email email = new Email();
    email.setId(emailId);
    email.setReferenceType(referenceType);
    email.setReferenceId(referenceId);
    email.setClient(client);
    email.setEnabled(newEmail.isEnabled());
    email.setTemplate(newEmail.getTemplate().template());
    email.setFrom(newEmail.getFrom());
    email.setFromName(newEmail.getFromName());
    email.setSubject(newEmail.getSubject());
    email.setContent(newEmail.getContent());
    email.setExpiresAfter(newEmail.getExpiresAfter());
    email.setCreatedAt(new Date());
    email.setUpdatedAt(email.getCreatedAt());
    return emailRepository.create(email);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Email, SingleSource<Email>>toJdkFunction((email)->{
    Event event = new Event(Type.EMAIL, new Payload(email.getId(), email.getReferenceType(), email.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(email)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkEmailUniqueness(referenceType, referenceId, client, newEmail.getTemplate().template())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Email>>toJdkFunction((irrelevant)->{
    Email email = new Email();
    email.setId(emailId);
    email.setReferenceType(referenceType);
    email.setReferenceId(referenceId);
    email.setClient(client);
    email.setEnabled(newEmail.isEnabled());
    email.setTemplate(newEmail.getTemplate().template());
    email.setFrom(newEmail.getFrom());
    email.setFromName(newEmail.getFromName());
    email.setSubject(newEmail.getSubject());
    email.setContent(newEmail.getContent());
    email.setExpiresAfter(newEmail.getExpiresAfter());
    email.setCreatedAt(new Date());
    email.setUpdatedAt(email.getCreatedAt());
    return emailRepository.create(email);
}).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(email)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(email)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a email", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(emailRepository.findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new EmailNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(emailRepository.findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new EmailNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(emailRepository.update(emailToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Email, SingleSource<Email>>toJdkFunction((email)->{
    Event event = new Event(Type.EMAIL, new Payload(email.getId(), email.getReferenceType(), email.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(email)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((email)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_UPDATED).oldValue(oldEmail).email(email)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(emailRepository.update(emailToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Email, SingleSource<Email>>toJdkFunction((email)->{
    Event event = new Event(Type.EMAIL, new Payload(email.getId(), email.getReferenceType(), email.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(email)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((email)->auditService.report(AuditBuilder.builder(EmailTemplateAuditBuilder.class).principal(principal).type(EventType.EMAIL_TEMPLATE_UPDATED).oldValue(oldEmail).email(email)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(emailRepository.update(emailToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Email, SingleSource<Email>>toJdkFunction((email)->{
    Event event = new Event(Type.EMAIL, new Payload(email.getId(), email.getReferenceType(), email.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(email)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(email)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(email)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a email", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(maybeSource).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new EmailAlreadyExistsException(emailTemplate);
    }
    return true;
})))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(maybeSource).hasElement().map
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create an event", ex)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(eventRepository.findByTimeFrame(from, to)).collectList())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to find events by time frame", ex)))
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a tag using its ID: %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(tagRepository.findAll(organizationId)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find all tags", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find all tags", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find all tags", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(tagRepository.findById(id, organizationId)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Tag>>toJdkFunction((empty)->{
    if (!empty) {
        throw new TagAlreadyExistsException(newTag.getName());
    } else {
        Tag tag = new Tag();
        tag.setId(id);
        tag.setOrganizationId(organizationId);
        tag.setName(newTag.getName());
        tag.setDescription(newTag.getDescription());
        tag.setCreatedAt(new Date());
        tag.setUpdatedAt(tag.getCreatedAt());
        return tagRepository.create(tag);
    }
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a tag", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a tag", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((tag)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).tag(tag).principal(principal).type(EventType.TAG_CREATED)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).referenceId(organizationId).principal(principal).type(EventType.TAG_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(tagRepository.findById(id, organizationId)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Tag>>toJdkFunction((empty)->{
    if (!empty) {
        throw new TagAlreadyExistsException(newTag.getName());
    } else {
        Tag tag = new Tag();
        tag.setId(id);
        tag.setOrganizationId(organizationId);
        tag.setName(newTag.getName());
        tag.setDescription(newTag.getDescription());
        tag.setCreatedAt(new Date());
        tag.setUpdatedAt(tag.getCreatedAt());
        return tagRepository.create(tag);
    }
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a tag", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a tag", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((tag)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).tag(tag).principal(principal).type(EventType.TAG_CREATED)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(tagRepository.findById(id, organizationId)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Tag>>toJdkFunction((empty)->{
    if (!empty) {
        throw new TagAlreadyExistsException(newTag.getName());
    } else {
        Tag tag = new Tag();
        tag.setId(id);
        tag.setOrganizationId(organizationId);
        tag.setName(newTag.getName());
        tag.setDescription(newTag.getDescription());
        tag.setCreatedAt(new Date());
        tag.setUpdatedAt(tag.getCreatedAt());
        return tagRepository.create(tag);
    }
}).apply(v)))))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tagRepository.findById(id, organizationId)).hasElement().flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a tag", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(tagRepository.findById(tagId, organizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tagRepository.findById(tagId, organizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tagRepository.update(tag)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((tag1)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_UPDATED).tag(tag1).oldValue(oldTag)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(tagRepository.update(tag)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((tag1)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_UPDATED).tag(tag1).oldValue(oldTag)))).doOnError
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a tag", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(tagRepository.findById(tagId, orgaizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId))).flatMap((tag)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(tagRepository.delete(tagId)).then(RxJava2Adapter.completableToMono(domainService.findAll().flatMapObservable(Observable::fromIterable).flatMapCompletable((io.gravitee.am.model.Domain domain)->{
    if (domain.getTags() != null) {
        domain.getTags().remove(tagId);
        return domainService.update(domain.getId(), domain).toCompletable();
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
})))).doOnComplete(()->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_DELETED).tag(tag)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_DELETED).throwable(throwable))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tagRepository.findById(tagId, orgaizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId))).flatMap((tag)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(tagRepository.delete(tagId)).then(RxJava2Adapter.completableToMono(domainService.findAll().flatMapObservable(Observable::fromIterable).flatMapCompletable((io.gravitee.am.model.Domain domain)->{
    if (domain.getTags() != null) {
        domain.getTags().remove(tagId);
        return domainService.update(domain.getId(), domain).toCompletable();
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
})))).doOnComplete(()->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_DELETED).tag(tag)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_DELETED).throwable(throwable))))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tagRepository.findById(tagId, orgaizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tagRepository.findById(tagId, orgaizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId)))
1 | Mono | doOnError | METHOD_INVOCATION | (tag)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(tagRepository.delete(tagId)).then(RxJava2Adapter.completableToMono(domainService.findAll().flatMapObservable(Observable::fromIterable).flatMapCompletable((io.gravitee.am.model.Domain domain)->{
    if (domain.getTags() != null) {
        domain.getTags().remove(tagId);
        return domainService.update(domain.getId(), domain).toCompletable();
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
})))).doOnComplete(()->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_DELETED).tag(tag)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(TagAuditBuilder.class).principal(principal).type(EventType.TAG_DELETED).throwable(throwable))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(tagRepository.delete(tagId)).then(RxJava2Adapter.completableToMono(domainService.findAll().flatMapObservable(Observable::fromIterable).flatMapCompletable((io.gravitee.am.model.Domain domain)->{
    if (domain.getTags() != null) {
        domain.getTags().remove(tagId);
        return domainService.update(domain.getId(), domain).toCompletable();
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}))))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException("An error occurs while trying to delete tag " + tagId, ex)))
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(reporterRepository.findAll()).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find all reporter", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find all reporters", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find all reporters", ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(domain)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find reporters by domain: {}", domain, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find reporters by domain: %s", domain), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find reporters by domain: %s", domain), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find reporters by id: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ReporterNotFoundException("Reporter type " + this.environment.getProperty("management.type") + " not found")))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkReporterConfiguration(reporter)).flatMap((ignore)->RxJava2Adapter.singleToMono(reporterRepository.create(reporter))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Reporter, SingleSource<Reporter>>toJdkFunction((reporter1)->{
    Event event = new Event(Type.REPORTER, new Payload(reporter1.getId(), ReferenceType.DOMAIN, reporter1.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to create a reporter", ex);
    String message = "An error occurs while trying to create a reporter. ";
    if (ex instanceof ReporterConfigurationException) {
        message += ex.getMessage();
    }
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(message, ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reporter1)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_CREATED).reporter(reporter1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkReporterConfiguration(reporter)).flatMap((ignore)->RxJava2Adapter.singleToMono(reporterRepository.create(reporter))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Reporter, SingleSource<Reporter>>toJdkFunction((reporter1)->{
    Event event = new Event(Type.REPORTER, new Payload(reporter1.getId(), ReferenceType.DOMAIN, reporter1.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to create a reporter", ex);
    String message = "An error occurs while trying to create a reporter. ";
    if (ex instanceof ReporterConfigurationException) {
        message += ex.getMessage();
    }
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(message, ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reporter1)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_CREATED).reporter(reporter1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkReporterConfiguration(reporter)).flatMap((ignore)->RxJava2Adapter.singleToMono(reporterRepository.create(reporter))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Reporter, SingleSource<Reporter>>toJdkFunction((reporter1)->{
    Event event = new Event(Type.REPORTER, new Payload(reporter1.getId(), ReferenceType.DOMAIN, reporter1.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkReporterConfiguration(reporter)).flatMap((ignore)->RxJava2Adapter.singleToMono(reporterRepository.create(reporter))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(reporter1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(message, ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(reporterRepository.findById(id)).switchIfEmpty(Mono.error(new ReporterNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterRepository.findById(id)).switchIfEmpty(Mono.error(new ReporterNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkReporterConfiguration(reporterToUpdate)).flatMap((ignore)->RxJava2Adapter.singleToMono(reporterRepository.update(reporterToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Reporter, SingleSource<Reporter>>toJdkFunction((io.gravitee.am.model.Reporter reporter1)->{
    if (!ADMIN_DOMAIN.equals(domain)) {
        Event event = new Event(Type.REPORTER, new Payload(reporter1.getId(), ReferenceType.DOMAIN, reporter1.getDomain(), Action.UPDATE));
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(reporter1));
    }
}).apply(v))))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reporter1)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_UPDATED).oldValue(oldReporter).reporter(reporter1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkReporterConfiguration(reporterToUpdate)).flatMap((ignore)->RxJava2Adapter.singleToMono(reporterRepository.update(reporterToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Reporter, SingleSource<Reporter>>toJdkFunction((io.gravitee.am.model.Reporter reporter1)->{
    if (!ADMIN_DOMAIN.equals(domain)) {
        Event event = new Event(Type.REPORTER, new Payload(reporter1.getId(), ReferenceType.DOMAIN, reporter1.getDomain(), Action.UPDATE));
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(reporter1));
    }
}).apply(v))))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reporter1)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_UPDATED).oldValue(oldReporter).reporter(reporter1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkReporterConfiguration(reporterToUpdate)).flatMap((ignore)->RxJava2Adapter.singleToMono(reporterRepository.update(reporterToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Reporter, SingleSource<Reporter>>toJdkFunction((io.gravitee.am.model.Reporter reporter1)->{
    if (!ADMIN_DOMAIN.equals(domain)) {
        Event event = new Event(Type.REPORTER, new Payload(reporter1.getId(), ReferenceType.DOMAIN, reporter1.getDomain(), Action.UPDATE));
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(reporter1));
    }
}).apply(v))))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | (ignore)->RxJava2Adapter.singleToMono(reporterRepository.update(reporterToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Reporter, SingleSource<Reporter>>toJdkFunction((io.gravitee.am.model.Reporter reporter1)->{
    if (!ADMIN_DOMAIN.equals(domain)) {
        Event event = new Event(Type.REPORTER, new Payload(reporter1.getId(), ReferenceType.DOMAIN, reporter1.getDomain(), Action.UPDATE));
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(reporter1));
    }
}).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(reporter1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(reporter1)
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(reporter1))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(message, ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(reporterRepository.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterNotFoundException(reporterId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Reporter, CompletableSource>)(reporter)->{
    Event event = new Event(Type.REPORTER, new Payload(reporterId, ReferenceType.DOMAIN, reporter.getDomain(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(reporterRepository.delete(reporterId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_DELETED).reporter(reporter)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterRepository.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterNotFoundException(reporterId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Reporter, CompletableSource>)(reporter)->{
    Event event = new Event(Type.REPORTER, new Payload(reporterId, ReferenceType.DOMAIN, reporter.getDomain(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(reporterRepository.delete(reporterId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_DELETED).reporter(reporter)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterRepository.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterNotFoundException(reporterId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterRepository.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterNotFoundException(reporterId)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(reporterRepository.delete(reporterId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_DELETED).reporter(reporter)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ReporterAuditBuilder.class).principal(principal).type(EventType.REPORTER_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(reporterRepository.delete(reporterId)).then(RxJava2Adapter.singleToMono(eventService.create(event))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete reporter: %s", reporterId), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(reporter))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(reporter.getDomain())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->r.getType().equalsIgnoreCase(REPORTER_AM_FILE))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->reporterId == null || !r.getId().equals(reporterId))).map(RxJavaReactorMigrationUtil.toJdkFunction((r)->(JsonObject)Json.decodeValue(r.getConfiguration()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((cfg)->cfg.containsKey(REPORTER_CONFIG_FILENAME) && cfg.getString(REPORTER_CONFIG_FILENAME).equals(configuration.getString(REPORTER_CONFIG_FILENAME))))).count()).flatMap((v)->RxJava2Adapter.singleToMono((Single<Reporter>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Long, Single<Reporter>>)(reporters)->{
    if (reporters > 0) {
        return RxJava2Adapter.monoToSingle(Mono.error(new ReporterConfigurationException("Filename already defined")));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(reporter));
    }
}).apply(v))))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(reporter.getDomain())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->r.getType().equalsIgnoreCase(REPORTER_AM_FILE))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->reporterId == null || !r.getId().equals(reporterId))).map(RxJavaReactorMigrationUtil.toJdkFunction((r)->(JsonObject)Json.decodeValue(r.getConfiguration()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((cfg)->cfg.containsKey(REPORTER_CONFIG_FILENAME) && cfg.getString(REPORTER_CONFIG_FILENAME).equals(configuration.getString(REPORTER_CONFIG_FILENAME)))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(reporter.getDomain())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->r.getType().equalsIgnoreCase(REPORTER_AM_FILE))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->reporterId == null || !r.getId().equals(reporterId))).map(RxJavaReactorMigrationUtil.toJdkFunction((r)->(JsonObject)Json.decodeValue(r.getConfiguration()))).filter
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(reporter.getDomain())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->r.getType().equalsIgnoreCase(REPORTER_AM_FILE))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->reporterId == null || !r.getId().equals(reporterId))).map
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(reporter.getDomain())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((r)->r.getType().equalsIgnoreCase(REPORTER_AM_FILE))).filter
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ReporterConfigurationException("Filename already defined")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(reporter))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(client.post(URI.create(serviceUrl).toString()).rxSendForm(MultiMap.caseInsensitiveMultiMap().set("secret", secretKey).set("response", token))).map(RxJavaReactorMigrationUtil.toJdkFunction((buffer)->{
    Map res = objectMapper.readValue(buffer.bodyAsString(), Map.class);
    Boolean success = (Boolean)res.getOrDefault("success", false);
    Double score = (Double)res.getOrDefault("score", 0.0);
    logger.debug("ReCaptchaService success: {} score: {}", success, score);
    return (success && score >= minScore);
})))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a credential using its ID: %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(credentialRepository.findByUserId(referenceType, referenceId, userId)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a credential using {} {} and user id: {}", referenceType, referenceId, userId, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a credential using %s %s and user id: %s", referenceType, referenceId, userId), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a credential using %s %s and user id: %s", referenceType, referenceId, userId), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(credentialRepository.findByUsername(referenceType, referenceId, username)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a credential using {} {} and username: {}", referenceType, referenceId, username, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a credential using %s %s and username: %s", referenceType, referenceId, username), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a credential using %s %s and username: %s", referenceType, referenceId, username), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(credentialRepository.findByCredentialId(referenceType, referenceId, credentialId)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a credential using {} {} and credential ID: {}", referenceType, referenceId, credentialId, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a credential using %s %s and credential ID: %s", referenceType, referenceId, credentialId), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a credential using %s %s and credential ID: %s", referenceType, referenceId, credentialId), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a credential", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(credentialRepository.findById(credential.getId())).switchIfEmpty(Mono.error(new CredentialNotFoundException(credential.getId()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(credentialRepository.findById(credential.getId())).switchIfEmpty(Mono.error(new CredentialNotFoundException(credential.getId())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a credential", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(credentialRepository.findByCredentialId(referenceType, referenceId, credentialId).flatMapSingle((credentialToUpdate)->{
    credentialToUpdate.setUserId(credential.getUserId());
    credentialToUpdate.setIpAddress(credential.getIpAddress());
    credentialToUpdate.setUserAgent(credential.getUserAgent());
    credentialToUpdate.setUpdatedAt(new Date());
    credentialToUpdate.setAccessedAt(credentialToUpdate.getUpdatedAt());
    return credentialRepository.update(credentialToUpdate);
})).ignoreElements().then())
1 | Flux | ignoreElements | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(credentialRepository.findByCredentialId(referenceType, referenceId, credentialId).flatMapSingle((credentialToUpdate)->{
    credentialToUpdate.setUserId(credential.getUserId());
    credentialToUpdate.setIpAddress(credential.getIpAddress());
    credentialToUpdate.setUserAgent(credential.getUserAgent());
    credentialToUpdate.setUpdatedAt(new Date());
    credentialToUpdate.setAccessedAt(credentialToUpdate.getUpdatedAt());
    return credentialRepository.update(credentialToUpdate);
})).ignoreElements().then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(credentialRepository.findById(id)).switchIfEmpty(Mono.error(new CredentialNotFoundException(id))).flatMap((email)->RxJava2Adapter.completableToMono(credentialRepository.delete(id))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(credentialRepository.findById(id)).switchIfEmpty(Mono.error(new CredentialNotFoundException(id))).flatMap((email)->RxJava2Adapter.completableToMono(credentialRepository.delete(id))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(credentialRepository.findById(id)).switchIfEmpty(Mono.error(new CredentialNotFoundException(id))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(credentialRepository.findById(id)).switchIfEmpty(Mono.error(new CredentialNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete credential: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to delete credentials using: %s %s and user id: %s", referenceType, referenceId, userId), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to delete credentials using: %s %s and aaguid: %s", referenceType, referenceId, aaguid), ex)))
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(alertTriggerRepository.findById(id)).switchIfEmpty(Mono.error(new AlertTriggerNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(alertTriggerRepository.findById(id)).switchIfEmpty(Mono.error(new AlertTriggerNotFoundException(id)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(alertTriggerRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((alertTrigger)->alertTrigger.getReferenceType() == referenceType && alertTrigger.getReferenceId().equals(referenceId))).switchIfEmpty(Mono.error(new AlertTriggerNotFoundException(id))))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(alertTriggerRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((alertTrigger)->alertTrigger.getReferenceType() == referenceType && alertTrigger.getReferenceId().equals(referenceId))).switchIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(alertTriggerRepository.findById(id)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((alertTrigger)->alertTrigger.getReferenceType() == referenceType && alertTrigger.getReferenceId().equals(referenceId))).switchIfEmpty(Mono.error(new AlertTriggerNotFoundException(id)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(alertTriggerRepository.findByCriteria(referenceType, referenceId, criteria)).next().flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, MaybeSource<AlertTrigger>>toJdkFunction((alertTrigger)->{
    AlertTrigger toUpdate = patchAlertTrigger.patch(alertTrigger);
    if (toUpdate.equals(alertTrigger)) {
        return RxJava2Adapter.monoToMaybe(Mono.just(alertTrigger));
    }
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(updateInternal(toUpdate, byUser, alertTrigger)));
}).apply(v)))).switchIfEmpty(RxJava2Adapter.singleToMono(Single.defer(()->{
    AlertTrigger alertTrigger = new AlertTrigger();
    alertTrigger.setId(RandomString.generate());
    alertTrigger.setReferenceType(referenceType);
    alertTrigger.setReferenceId(referenceId);
    alertTrigger.setType(patchAlertTrigger.getType());
    alertTrigger = patchAlertTrigger.patch(alertTrigger);
    return createInternal(alertTrigger, byUser);
}))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(alertTriggerRepository.findByCriteria(referenceType, referenceId, criteria)).next().flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, MaybeSource<AlertTrigger>>toJdkFunction((alertTrigger)->{
    AlertTrigger toUpdate = patchAlertTrigger.patch(alertTrigger);
    if (toUpdate.equals(alertTrigger)) {
        return RxJava2Adapter.monoToMaybe(Mono.just(alertTrigger));
    }
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(updateInternal(toUpdate, byUser, alertTrigger)));
}).apply(v)))).switchIfEmpty
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(alertTriggerRepository.findByCriteria(referenceType, referenceId, criteria)).next().flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(alertTrigger))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(this.getById(referenceType, referenceId, alertTriggerId)).flatMap((alertTrigger)->RxJava2Adapter.completableToMono(deleteInternal(alertTrigger, byUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.getById(referenceType, referenceId, alertTriggerId)).flatMap((alertTrigger)->RxJava2Adapter.completableToMono(deleteInternal(alertTrigger, byUser))).then
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(alertTriggerRepository.create(toCreate)).flatMap((created)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(created.getId(), created.getReferenceType(), created.getReferenceId(), Action.CREATE)))).then().then(Mono.just(created))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((alertTrigger)->auditService.report(AuditBuilder.builder(AlertTriggerAuditBuilder.class).type(EventType.ALERT_TRIGGER_CREATED).alertTrigger(alertTrigger).principal(byUser)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(AlertTriggerAuditBuilder.class).type(EventType.ALERT_TRIGGER_CREATED).alertTrigger(toCreate).principal(byUser).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertTriggerRepository.create(toCreate)).flatMap((created)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(created.getId(), created.getReferenceType(), created.getReferenceId(), Action.CREATE)))).then().then(Mono.just(created))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((alertTrigger)->auditService.report(AuditBuilder.builder(AlertTriggerAuditBuilder.class).type(EventType.ALERT_TRIGGER_CREATED).alertTrigger(alertTrigger).principal(byUser)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertTriggerRepository.create(toCreate)).flatMap((created)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(created.getId(), created.getReferenceType(), created.getReferenceId(), Action.CREATE)))).then().then(Mono.just(created))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | (created)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(created.getId(), created.getReferenceType(), created.getReferenceId(), Action.CREATE)))).then().then(Mono.just(created))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(created.getId(), created.getReferenceType(), created.getReferenceId(), Action.CREATE)))).then().then
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(created.getId(), created.getReferenceType(), created.getReferenceId(), Action.CREATE)))).then().then(Mono.just(created))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(alertTriggerRepository.update(alertTrigger)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(AlertTriggerAuditBuilder.class).type(EventType.ALERT_TRIGGER_UPDATED).alertTrigger(updated).principal(updatedBy).oldValue(previous)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(AlertTriggerAuditBuilder.class).type(EventType.ALERT_TRIGGER_UPDATED).alertTrigger(previous).principal(updatedBy).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertTriggerRepository.update(alertTrigger)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(AlertTriggerAuditBuilder.class).type(EventType.ALERT_TRIGGER_UPDATED).alertTrigger(updated).principal(updatedBy).oldValue(previous)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertTriggerRepository.update(alertTrigger)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | (updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(alertTriggerRepository.delete(alertTrigger.getId())).then(RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(alertTrigger.getId(), alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), Action.DELETE)))).then())).doOnComplete(()->auditService.report(AuditBuilder.builder(AlertTriggerAuditBuilder.class).type(EventType.ALERT_TRIGGER_DELETED).alertTrigger(alertTrigger).principal(deletedBy))).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(AlertTriggerAuditBuilder.class).type(EventType.ALERT_TRIGGER_DELETED).alertTrigger(alertTrigger).principal(deletedBy).throwable(throwable)))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(alertTriggerRepository.delete(alertTrigger.getId())).then(RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(alertTrigger.getId(), alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), Action.DELETE)))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(alertTriggerRepository.delete(alertTrigger.getId())).then(RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_TRIGGER, new Payload(alertTrigger.getId(), alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), Action.DELETE)))).then())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(entrypointRepository.findById(id, organizationId)).switchIfEmpty(Mono.error(new EntrypointNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(entrypointRepository.findById(id, organizationId)).switchIfEmpty(Mono.error(new EntrypointNotFoundException(id)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findById(entrypointId, organizationId)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Entrypoint>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Entrypoint, Single<Entrypoint>>)(oldEntrypoint)->{
    Entrypoint toUpdate = new Entrypoint(oldEntrypoint);
    toUpdate.setName(updateEntrypoint.getName());
    toUpdate.setDescription(updateEntrypoint.getDescription());
    toUpdate.setUrl(updateEntrypoint.getUrl());
    toUpdate.setTags(updateEntrypoint.getTags());
    toUpdate.setUpdatedAt(new Date());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(validate(toUpdate, oldEntrypoint)).then(RxJava2Adapter.singleToMono(entrypointRepository.update(toUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_UPDATED).entrypoint(updated).oldValue(oldEntrypoint)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_UPDATED).throwable(throwable))))));
}).apply(v))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(validate(toUpdate, oldEntrypoint)).then(RxJava2Adapter.singleToMono(entrypointRepository.update(toUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_UPDATED).entrypoint(updated).oldValue(oldEntrypoint)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_UPDATED).throwable(throwable))))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.completableToMono(validate(toUpdate, oldEntrypoint)).then(RxJava2Adapter.singleToMono(entrypointRepository.update(toUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_UPDATED).entrypoint(updated).oldValue(oldEntrypoint)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(entrypointRepository.update(toUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_UPDATED).entrypoint(updated).oldValue(oldEntrypoint)))).doOnError
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(findById(id, organizationId)).flatMap((entrypoint)->RxJava2Adapter.completableToMono(entrypointRepository.delete(id).doOnComplete(()->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_DELETED).entrypoint(entrypoint)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_DELETED).throwable(throwable))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findById(id, organizationId)).flatMap((entrypoint)->RxJava2Adapter.completableToMono(entrypointRepository.delete(id).doOnComplete(()->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_DELETED).entrypoint(entrypoint)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_DELETED).throwable(throwable))))).then
1 | Mono | doOnError | METHOD_INVOCATION | (entrypoint)->RxJava2Adapter.completableToMono(entrypointRepository.delete(id).doOnComplete(()->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_DELETED).entrypoint(entrypoint)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).principal(principal).type(EventType.ENTRYPOINT_DELETED).throwable(throwable))))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(validate(toCreate)).then(RxJava2Adapter.singleToMono(entrypointRepository.create(toCreate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((entrypoint)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).entrypoint(entrypoint).principal(principal).type(EventType.ENTRYPOINT_CREATED)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).referenceId(toCreate.getOrganizationId()).principal(principal).type(EventType.ENTRYPOINT_CREATED).throwable(throwable))))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.completableToMono(validate(toCreate)).then(RxJava2Adapter.singleToMono(entrypointRepository.create(toCreate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((entrypoint)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).entrypoint(entrypoint).principal(principal).type(EventType.ENTRYPOINT_CREATED)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).referenceId(toCreate.getOrganizationId()).principal(principal).type(EventType.ENTRYPOINT_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(entrypointRepository.create(toCreate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((entrypoint)->auditService.report(AuditBuilder.builder(EntrypointAuditBuilder.class).entrypoint(entrypoint).principal(principal).type(EventType.ENTRYPOINT_CREATED)))).doOnError
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidEntrypointException("Only the url of the default entrypoint can be updated.")))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(organizationService.findById(entrypoint.getOrganizationId())).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Organization, CompletableSource>)(organization)->{
    String hostWithoutPort = url.getHost().split(":")[0];
    if (!VirtualHostValidator.isValidDomainOrSubDomain(hostWithoutPort, organization.getDomainRestrictions())) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new InvalidEntrypointException("Host [" + hostWithoutPort + "] must be a subdomain of " + organization.getDomainRestrictions())));
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.findById(entrypoint.getOrganizationId())).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Organization, CompletableSource>)(organization)->{
    String hostWithoutPort = url.getHost().split(":")[0];
    if (!VirtualHostValidator.isValidDomainOrSubDomain(hostWithoutPort, organization.getDomainRestrictions())) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new InvalidEntrypointException("Host [" + hostWithoutPort + "] must be a subdomain of " + organization.getDomainRestrictions())));
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidEntrypointException("Host [" + hostWithoutPort + "] must be a subdomain of " + organization.getDomainRestrictions())))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidEntrypointException("Entrypoint must have a valid url.")))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findByDomain(domain, 0, Integer.MAX_VALUE)).map(RxJavaReactorMigrationUtil.toJdkFunction((pagedResources)->(pagedResources.getData() == null) ? Collections.emptySet() : new HashSet<>(pagedResources.getData()))))
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(environmentRepository.findById(id, organizationId)).switchIfEmpty(Mono.error(new EnvironmentNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(environmentRepository.findById(id, organizationId)).switchIfEmpty(Mono.error(new EnvironmentNotFoundException(id)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(environmentRepository.findById(id)).switchIfEmpty(Mono.error(new EnvironmentNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(environmentRepository.findById(id)).switchIfEmpty(Mono.error(new EnvironmentNotFoundException(id)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(environmentRepository.count()).filter(RxJavaReactorMigrationUtil.toJdkPredicate((aLong)->aLong == 0)).flatMap((z)->RxJava2Adapter.singleToMono(createInternal(environment, null))))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentRepository.count()).filter(RxJavaReactorMigrationUtil.toJdkPredicate((aLong)->aLong == 0)).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(environmentRepository.findById(environmentId, organizationId)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Environment, MaybeSource<Environment>>toJdkFunction((environment)->{
    environment.setName(newEnvironment.getName());
    environment.setDescription(newEnvironment.getDescription());
    environment.setDomainRestrictions(newEnvironment.getDomainRestrictions());
    environment.setHrids(newEnvironment.getHrids());
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(updateInternal(environment, byUser)));
}).apply(v)))).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Organization organization)->{
    Environment toCreate = new Environment();
    toCreate.setId(environmentId);
    toCreate.setHrids(newEnvironment.getHrids());
    toCreate.setName(newEnvironment.getName());
    toCreate.setDescription(newEnvironment.getDescription());
    toCreate.setOrganizationId(organization.getId());
    toCreate.setDomainRestrictions(newEnvironment.getDomainRestrictions());
    return toCreate;
})).flatMap((toCreate)->RxJava2Adapter.singleToMono(createInternal(toCreate, byUser))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(environmentRepository.findById(environmentId, organizationId)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Environment, MaybeSource<Environment>>toJdkFunction((environment)->{
    environment.setName(newEnvironment.getName());
    environment.setDescription(newEnvironment.getDescription());
    environment.setDomainRestrictions(newEnvironment.getDomainRestrictions());
    environment.setHrids(newEnvironment.getHrids());
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(updateInternal(environment, byUser)));
}).apply(v)))).switchIfEmpty
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(environmentRepository.findById(environmentId, organizationId)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Environment, MaybeSource<Environment>>toJdkFunction((environment)->{
    environment.setName(newEnvironment.getName());
    environment.setDescription(newEnvironment.getDescription());
    environment.setDomainRestrictions(newEnvironment.getDomainRestrictions());
    environment.setHrids(newEnvironment.getHrids());
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(updateInternal(environment, byUser)));
}).apply(v)))).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Organization organization)->{
    Environment toCreate = new Environment();
    toCreate.setId(environmentId);
    toCreate.setHrids(newEnvironment.getHrids());
    toCreate.setName(newEnvironment.getName());
    toCreate.setDescription(newEnvironment.getDescription());
    toCreate.setOrganizationId(organization.getId());
    toCreate.setDomainRestrictions(newEnvironment.getDomainRestrictions());
    return toCreate;
})).flatMap((toCreate)->RxJava2Adapter.singleToMono(createInternal(toCreate, byUser)))))
1 | Mono | flatMap | METHOD_INVOCATION | ()->RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Organization organization)->{
    Environment toCreate = new Environment();
    toCreate.setId(environmentId);
    toCreate.setHrids(newEnvironment.getHrids());
    toCreate.setName(newEnvironment.getName());
    toCreate.setDescription(newEnvironment.getDescription());
    toCreate.setOrganizationId(organization.getId());
    toCreate.setDomainRestrictions(newEnvironment.getDomainRestrictions());
    return toCreate;
})).flatMap((toCreate)->RxJava2Adapter.singleToMono(createInternal(toCreate, byUser)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Organization organization)->{
    Environment toCreate = new Environment();
    toCreate.setId(environmentId);
    toCreate.setHrids(newEnvironment.getHrids());
    toCreate.setName(newEnvironment.getName());
    toCreate.setDescription(newEnvironment.getDescription());
    toCreate.setOrganizationId(organization.getId());
    toCreate.setDomainRestrictions(newEnvironment.getDomainRestrictions());
    return toCreate;
})).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentRepository.create(toCreate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->auditService.report(AuditBuilder.builder(EnvironmentAuditBuilder.class).type(EventType.ENVIRONMENT_CREATED).environment(environment).principal(createdBy)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EnvironmentAuditBuilder.class).type(EventType.ENVIRONMENT_CREATED).environment(toCreate).principal(createdBy).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentRepository.create(toCreate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->auditService.report(AuditBuilder.builder(EnvironmentAuditBuilder.class).type(EventType.ENVIRONMENT_CREATED).environment(environment).principal(createdBy)))).doOnError
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentRepository.update(toUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(EnvironmentAuditBuilder.class).type(EventType.ENVIRONMENT_UPDATED).environment(updated).principal(updatedBy).oldValue(toUpdate)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(EnvironmentAuditBuilder.class).type(EventType.ENVIRONMENT_UPDATED).environment(toUpdate).principal(updatedBy).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentRepository.update(toUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(EnvironmentAuditBuilder.class).type(EventType.ENVIRONMENT_UPDATED).environment(updated).principal(updatedBy).oldValue(toUpdate)))).doOnError
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByDomain(domain).flatMapObservable(Observable::fromIterable).flatMapSingle(this::countByClientId).toList()).flatMap((v)->RxJava2Adapter.singleToMono((Single<TotalToken>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Long>, Single<TotalToken>>)(totalAccessTokens)->{
    TotalToken totalToken = new TotalToken();
    totalToken.setTotalAccessTokens(totalAccessTokens.stream().mapToLong(Long::longValue).sum());
    return RxJava2Adapter.monoToSingle(Mono.just(totalToken));
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(totalToken))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find total tokens by domain: %s", domain), ex)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(countByClientId(application)).map(RxJavaReactorMigrationUtil.toJdkFunction((totalAccessTokens)->{
    TotalToken totalToken = new TotalToken();
    totalToken.setTotalAccessTokens(totalAccessTokens);
    return totalToken;
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find total tokens by application: %s", application), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findAll().flatMapObservable(Observable::fromIterable).flatMapSingle(this::countByClientId).toList()).flatMap((v)->RxJava2Adapter.singleToMono((Single<TotalToken>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Long>, Single<TotalToken>>)(totalAccessTokens)->{
    TotalToken totalToken = new TotalToken();
    totalToken.setTotalAccessTokens(totalAccessTokens.stream().mapToLong(Long::longValue).sum());
    return RxJava2Adapter.monoToSingle(Mono.just(totalToken));
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(totalToken))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to find total tokens", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(accessTokenRepository.deleteByUserId(userId)).then(RxJava2Adapter.completableToMono(refreshTokenRepository.deleteByUserId(userId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find total tokens by user: %s", userId), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(0L))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(0L))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidDomainException("Domain name cannot contain \'/\' character")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidDomainException("Domain can only work in vhost mode")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidDomainException("VHost mode requires at least one VHost")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidDomainException("Only one vhost can be used to override entrypoint")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidDomainException("You must select one vhost to override entrypoint")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidDomainException("\'/\' path is not allowed in context-path mode")))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Host is required")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Host [" + hostWithoutPort + "] is invalid")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Host [" + hostWithoutPort + "] must be a subdomain of " + domainRestrictions)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Host port for [" + host + "] is invalid")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Host port [" + port + "] is invalid")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Host port for [" + host + "] is invalid")))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Path [" + vhost.getPath() + "] overlap path defined in another security domain")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Path [" + vhost.getPath() + "] is overlapped by another security domain")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Path [" + domain.getPath() + "] overlap path defined in another security domain")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidVirtualHostException("Path [" + domain.getPath() + "] is overlapped by another security domain")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a bot detection using its ID: %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(botDetectionRepository.findByReference(ReferenceType.DOMAIN, domain)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find bot detections by domain", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find bot detections by domain", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find bot detections by domain", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(botDetectionRepository.create(botDetection)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<BotDetection>>toJdkFunction((detection)->{
    Event event = new Event(Type.BOT_DETECTION, new Payload(detection.getId(), detection.getReferenceType(), detection.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(detection)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a detection", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a detection", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((detection)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_CREATED).botDetection(detection)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(botDetectionRepository.create(botDetection)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<BotDetection>>toJdkFunction((detection)->{
    Event event = new Event(Type.BOT_DETECTION, new Payload(detection.getId(), detection.getReferenceType(), detection.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(detection)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a detection", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a detection", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((detection)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_CREATED).botDetection(detection)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(botDetectionRepository.create(botDetection)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<BotDetection>>toJdkFunction((detection)->{
    Event event = new Event(Type.BOT_DETECTION, new Payload(detection.getId(), detection.getReferenceType(), detection.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(detection)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(detection)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(detection)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a detection", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(botDetectionRepository.findById(id)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(botDetectionRepository.findById(id)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(botDetectionRepository.update(botDetectionToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<BotDetection>>toJdkFunction((detection)->{
    Event event = new Event(Type.BOT_DETECTION, new Payload(detection.getId(), detection.getReferenceType(), detection.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(detection)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((detection)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_UPDATED).oldValue(oldBotDetection).botDetection(detection)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(botDetectionRepository.update(botDetectionToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<BotDetection>>toJdkFunction((detection)->{
    Event event = new Event(Type.BOT_DETECTION, new Payload(detection.getId(), detection.getReferenceType(), detection.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(detection)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((detection)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_UPDATED).oldValue(oldBotDetection).botDetection(detection)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(botDetectionRepository.update(botDetectionToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<BotDetection>>toJdkFunction((detection)->{
    Event event = new Event(Type.BOT_DETECTION, new Payload(detection.getId(), detection.getReferenceType(), detection.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(detection)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(detection)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(detection)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update bot detection", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(botDetectionRepository.findById(botDetectionId)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId)))).flatMapSingle(checkBotDetectionReleasedByDomain(domainId, botDetectionId))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<? extends BotDetection>>toJdkFunction(checkBotDetectionReleasedByApp(domainId, botDetectionId)).apply(v)))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<BotDetection, CompletableSource>)(botDetection)->{
    Event event = new Event(Type.BOT_DETECTION, new Payload(botDetectionId, ReferenceType.DOMAIN, domainId, Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(botDetectionRepository.delete(botDetectionId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_DELETED).botDetection(botDetection)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(botDetectionRepository.findById(botDetectionId)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId)))).flatMapSingle(checkBotDetectionReleasedByDomain(domainId, botDetectionId))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<? extends BotDetection>>toJdkFunction(checkBotDetectionReleasedByApp(domainId, botDetectionId)).apply(v)))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<BotDetection, CompletableSource>)(botDetection)->{
    Event event = new Event(Type.BOT_DETECTION, new Payload(botDetectionId, ReferenceType.DOMAIN, domainId, Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(botDetectionRepository.delete(botDetectionId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_DELETED).botDetection(botDetection)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(botDetectionRepository.findById(botDetectionId)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId)))).flatMapSingle(checkBotDetectionReleasedByDomain(domainId, botDetectionId))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<BotDetection, SingleSource<? extends BotDetection>>toJdkFunction(checkBotDetectionReleasedByApp(domainId, botDetectionId)).apply(v)))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(botDetectionRepository.findById(botDetectionId)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(botDetectionRepository.findById(botDetectionId)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(botDetectionRepository.delete(botDetectionId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_DELETED).botDetection(botDetection)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(BotDetectionAuditBuilder.class).principal(principal).type(EventType.BOT_DETECTION_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(botDetectionRepository.delete(botDetectionId)).then(RxJava2Adapter.singleToMono(eventService.create(event))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete bot detection: %s", botDetectionId), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((v)->RxJava2Adapter.singleToMono((Single<BotDetection>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Set<Application>, Single<BotDetection>>)(applications)->{
    if (applications.stream().filter((app)->app.getSettings() != null && app.getSettings().getAccount() != null && botDetectionId.equals(app.getSettings().getAccount().getBotDetectionPlugin())).count() > 0) {
        throw new BotDetectionUsedException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(botDetection));
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(botDetection))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(botDetection))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a scope using its ID: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find scopes by domain and query: %s %s", domain, query), ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
    if (!empty) {
        throw new ScopeAlreadyExistsException(scopeKey, domain);
    }
    Scope scope = new Scope();
    scope.setId(RandomString.generate());
    scope.setDomain(domain);
    scope.setKey(scopeKey);
    scope.setName(newScope.getName());
    scope.setDescription(newScope.getDescription());
    scope.setIconUri(newScope.getIconUri());
    scope.setExpiresIn(newScope.getExpiresIn());
    scope.setDiscovery(newScope.isDiscovery());
    scope.setParameterized(newScope.isParameterized());
    scope.setCreatedAt(new Date());
    scope.setUpdatedAt(new Date());
    return scope;
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(scopeRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction((scope)->{
    Event event = new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a scope", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a scope", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((scope)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_CREATED).scope(scope)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
    if (!empty) {
        throw new ScopeAlreadyExistsException(scopeKey, domain);
    }
    Scope scope = new Scope();
    scope.setId(RandomString.generate());
    scope.setDomain(domain);
    scope.setKey(scopeKey);
    scope.setName(newScope.getName());
    scope.setDescription(newScope.getDescription());
    scope.setIconUri(newScope.getIconUri());
    scope.setExpiresIn(newScope.getExpiresIn());
    scope.setDiscovery(newScope.isDiscovery());
    scope.setParameterized(newScope.isParameterized());
    scope.setCreatedAt(new Date());
    scope.setUpdatedAt(new Date());
    return scope;
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(scopeRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction((scope)->{
    Event event = new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a scope", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a scope", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((scope)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_CREATED).scope(scope)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
    if (!empty) {
        throw new ScopeAlreadyExistsException(scopeKey, domain);
    }
    Scope scope = new Scope();
    scope.setId(RandomString.generate());
    scope.setDomain(domain);
    scope.setKey(scopeKey);
    scope.setName(newScope.getName());
    scope.setDescription(newScope.getDescription());
    scope.setIconUri(newScope.getIconUri());
    scope.setExpiresIn(newScope.getExpiresIn());
    scope.setDiscovery(newScope.isDiscovery());
    scope.setParameterized(newScope.isParameterized());
    scope.setCreatedAt(new Date());
    scope.setUpdatedAt(new Date());
    return scope;
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(scopeRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction((scope)->{
    Event event = new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
    if (!empty) {
        throw new ScopeAlreadyExistsException(scopeKey, domain);
    }
    Scope scope = new Scope();
    scope.setId(RandomString.generate());
    scope.setDomain(domain);
    scope.setKey(scopeKey);
    scope.setName(newScope.getName());
    scope.setDescription(newScope.getDescription());
    scope.setIconUri(newScope.getIconUri());
    scope.setExpiresIn(newScope.getExpiresIn());
    scope.setDiscovery(newScope.isDiscovery());
    scope.setParameterized(newScope.isParameterized());
    scope.setCreatedAt(new Date());
    scope.setUpdatedAt(new Date());
    return scope;
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(scopeRepository::create).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
    if (!empty) {
        throw new ScopeAlreadyExistsException(scopeKey, domain);
    }
    Scope scope = new Scope();
    scope.setId(RandomString.generate());
    scope.setDomain(domain);
    scope.setKey(scopeKey);
    scope.setName(newScope.getName());
    scope.setDescription(newScope.getDescription());
    scope.setIconUri(newScope.getIconUri());
    scope.setExpiresIn(newScope.getExpiresIn());
    scope.setDiscovery(newScope.isDiscovery());
    scope.setParameterized(newScope.isParameterized());
    scope.setCreatedAt(new Date());
    scope.setUpdatedAt(new Date());
    return scope;
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
    if (!empty) {
        throw new ScopeAlreadyExistsException(scopeKey, domain);
    }
    Scope scope = new Scope();
    scope.setId(RandomString.generate());
    scope.setDomain(domain);
    scope.setKey(scopeKey);
    scope.setName(newScope.getName());
    scope.setDescription(newScope.getDescription());
    scope.setIconUri(newScope.getIconUri());
    scope.setExpiresIn(newScope.getExpiresIn());
    scope.setDiscovery(newScope.isDiscovery());
    scope.setParameterized(newScope.isParameterized());
    scope.setCreatedAt(new Date());
    scope.setUpdatedAt(new Date());
    return scope;
})).flatMap
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(scope)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a scope", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Scope>>toJdkFunction((empty)->{
    if (!empty) {
        throw new ScopeAlreadyExistsException(scopeKey, domain);
    }
    Scope scope = new Scope();
    scope.setId(RandomString.generate());
    scope.setDomain(domain);
    scope.setKey(scopeKey);
    scope.setSystem(true);
    scope.setClaims(newScope.getClaims());
    scope.setName(newScope.getName());
    scope.setDescription(newScope.getDescription());
    scope.setExpiresIn(newScope.getExpiresIn());
    scope.setDiscovery(newScope.isDiscovery());
    scope.setParameterized(false);
    scope.setCreatedAt(new Date());
    scope.setUpdatedAt(new Date());
    return scopeRepository.create(scope);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Scope>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Scope, Single<Scope>>)(scope)->{
    Event event = new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope)));
}).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Scope>>toJdkFunction((empty)->{
    if (!empty) {
        throw new ScopeAlreadyExistsException(scopeKey, domain);
    }
    Scope scope = new Scope();
    scope.setId(RandomString.generate());
    scope.setDomain(domain);
    scope.setKey(scopeKey);
    scope.setSystem(true);
    scope.setClaims(newScope.getClaims());
    scope.setName(newScope.getName());
    scope.setDescription(newScope.getDescription());
    scope.setExpiresIn(newScope.getExpiresIn());
    scope.setDiscovery(newScope.isDiscovery());
    scope.setParameterized(false);
    scope.setCreatedAt(new Date());
    scope.setUpdatedAt(new Date());
    return scopeRepository.create(scope);
}).apply(v)))).flatMap
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findByDomainAndKey(domain, scopeKey)).hasElement().flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(scope)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a system scope", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).switchIfEmpty(Mono.error(new ScopeNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).switchIfEmpty(Mono.error(new ScopeNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to patch a scope", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).switchIfEmpty(Mono.error(new ScopeNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).switchIfEmpty(Mono.error(new ScopeNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a scope", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.validateIconUri(toUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(scopeRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction((scope1)->{
    Event event = new Event(Type.SCOPE, new Payload(scope1.getId(), ReferenceType.DOMAIN, scope1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((scope1)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_UPDATED).oldValue(oldValue).scope(scope1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateIconUri(toUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(scopeRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction((scope1)->{
    Event event = new Event(Type.SCOPE, new Payload(scope1.getId(), ReferenceType.DOMAIN, scope1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((scope1)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_UPDATED).oldValue(oldValue).scope(scope1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateIconUri(toUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(scopeRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction((scope1)->{
    Event event = new Event(Type.SCOPE, new Payload(scope1.getId(), ReferenceType.DOMAIN, scope1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope1)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateIconUri(toUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Scope, SingleSource<Scope>>toJdkFunction(scopeRepository::update).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(scope1)
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).switchIfEmpty(Mono.error(new ScopeNotFoundException(id)))).flatMapSingle((scope)->{
    scope.setName(updateScope.getName());
    scope.setDescription(updateScope.getDescription());
    scope.setUpdatedAt(new Date());
    scope.setSystem(true);
    scope.setClaims(updateScope.getClaims());
    scope.setExpiresIn(updateScope.getExpiresIn());
    scope.setDiscovery(updateScope.isDiscovery());
    return scopeRepository.update(scope);
})).flatMap((v)->RxJava2Adapter.singleToMono((Single<Scope>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Scope, Single<Scope>>)(scope)->{
    Event event = new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope)));
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).switchIfEmpty(Mono.error(new ScopeNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findById(id)).switchIfEmpty(Mono.error(new ScopeNotFoundException(id)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(scope)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(scope)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a system scope", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeRepository.findById(scopeId)).switchIfEmpty(Mono.error(new ScopeNotFoundException(scopeId)))).flatMapSingle((scope)->{
    if (scope.isSystem() && !force) {
        throw new SystemScopeDeleteException(scopeId);
    }
    return RxJava2Adapter.monoToSingle(Mono.just(scope));
})).flatMap((scope)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.fromSingle(roleService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Role> roles)->Observable.fromIterable(roles.stream().filter((io.gravitee.am.model.Role role)->role.getOauthScopes() != null && role.getOauthScopes().contains(scope.getKey())).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Role role)->{
    role.getOauthScopes().remove(scope.getKey());
    UpdateRole updatedRole = new UpdateRole();
    updatedRole.setName(role.getName());
    updatedRole.setDescription(role.getDescription());
    updatedRole.setPermissions(role.getOauthScopes());
    return roleService.update(scope.getDomain(), role.getId(), updatedRole);
}).toList())).then(RxJava2Adapter.singleToMono(applicationService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Application> applications)->Observable.fromIterable(applications.stream().filter((io.gravitee.am.model.Application application)->{
    if (application.getSettings() == null) {
        return false;
    }
    if (application.getSettings().getOauth() == null) {
        return false;
    }
    ApplicationOAuthSettings oAuthSettings = application.getSettings().getOauth();
    return oAuthSettings.getScopeSettings() != null && !oAuthSettings.getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->s.getScope().equals(scope.getKey())).findFirst().isEmpty();
}).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Application application)->{
    final List<ApplicationScopeSettings> cleanScopes = application.getSettings().getOauth().getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->!s.getScope().equals(scope.getKey())).collect(Collectors.toList());
    application.getSettings().getOauth().setScopeSettings(cleanScopes);
    return applicationService.update(application);
}).toList()))).toCompletable()).then(RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndScopeKey(scope.getDomain(), scope.getKey()))).then(RxJava2Adapter.completableToMono(scopeRepository.delete(scopeId))).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_DELETED).scope(scope)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_DELETED).throwable(throwable))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeRepository.findById(scopeId)).switchIfEmpty(Mono.error(new ScopeNotFoundException(scopeId)))).flatMapSingle((scope)->{
    if (scope.isSystem() && !force) {
        throw new SystemScopeDeleteException(scopeId);
    }
    return RxJava2Adapter.monoToSingle(Mono.just(scope));
})).flatMap((scope)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.fromSingle(roleService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Role> roles)->Observable.fromIterable(roles.stream().filter((io.gravitee.am.model.Role role)->role.getOauthScopes() != null && role.getOauthScopes().contains(scope.getKey())).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Role role)->{
    role.getOauthScopes().remove(scope.getKey());
    UpdateRole updatedRole = new UpdateRole();
    updatedRole.setName(role.getName());
    updatedRole.setDescription(role.getDescription());
    updatedRole.setPermissions(role.getOauthScopes());
    return roleService.update(scope.getDomain(), role.getId(), updatedRole);
}).toList())).then(RxJava2Adapter.singleToMono(applicationService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Application> applications)->Observable.fromIterable(applications.stream().filter((io.gravitee.am.model.Application application)->{
    if (application.getSettings() == null) {
        return false;
    }
    if (application.getSettings().getOauth() == null) {
        return false;
    }
    ApplicationOAuthSettings oAuthSettings = application.getSettings().getOauth();
    return oAuthSettings.getScopeSettings() != null && !oAuthSettings.getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->s.getScope().equals(scope.getKey())).findFirst().isEmpty();
}).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Application application)->{
    final List<ApplicationScopeSettings> cleanScopes = application.getSettings().getOauth().getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->!s.getScope().equals(scope.getKey())).collect(Collectors.toList());
    application.getSettings().getOauth().setScopeSettings(cleanScopes);
    return applicationService.update(application);
}).toList()))).toCompletable()).then(RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndScopeKey(scope.getDomain(), scope.getKey()))).then(RxJava2Adapter.completableToMono(scopeRepository.delete(scopeId))).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_DELETED).scope(scope)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_DELETED).throwable(throwable))))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeRepository.findById(scopeId)).switchIfEmpty(Mono.error(new ScopeNotFoundException(scopeId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeRepository.findById(scopeId)).switchIfEmpty(Mono.error(new ScopeNotFoundException(scopeId)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(scope))
1 | Mono | doOnError | METHOD_INVOCATION | (scope)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.fromSingle(roleService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Role> roles)->Observable.fromIterable(roles.stream().filter((io.gravitee.am.model.Role role)->role.getOauthScopes() != null && role.getOauthScopes().contains(scope.getKey())).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Role role)->{
    role.getOauthScopes().remove(scope.getKey());
    UpdateRole updatedRole = new UpdateRole();
    updatedRole.setName(role.getName());
    updatedRole.setDescription(role.getDescription());
    updatedRole.setPermissions(role.getOauthScopes());
    return roleService.update(scope.getDomain(), role.getId(), updatedRole);
}).toList())).then(RxJava2Adapter.singleToMono(applicationService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Application> applications)->Observable.fromIterable(applications.stream().filter((io.gravitee.am.model.Application application)->{
    if (application.getSettings() == null) {
        return false;
    }
    if (application.getSettings().getOauth() == null) {
        return false;
    }
    ApplicationOAuthSettings oAuthSettings = application.getSettings().getOauth();
    return oAuthSettings.getScopeSettings() != null && !oAuthSettings.getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->s.getScope().equals(scope.getKey())).findFirst().isEmpty();
}).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Application application)->{
    final List<ApplicationScopeSettings> cleanScopes = application.getSettings().getOauth().getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->!s.getScope().equals(scope.getKey())).collect(Collectors.toList());
    application.getSettings().getOauth().setScopeSettings(cleanScopes);
    return applicationService.update(application);
}).toList()))).toCompletable()).then(RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndScopeKey(scope.getDomain(), scope.getKey()))).then(RxJava2Adapter.completableToMono(scopeRepository.delete(scopeId))).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_DELETED).scope(scope)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(ScopeAuditBuilder.class).principal(principal).type(EventType.SCOPE_DELETED).throwable(throwable))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.fromSingle(roleService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Role> roles)->Observable.fromIterable(roles.stream().filter((io.gravitee.am.model.Role role)->role.getOauthScopes() != null && role.getOauthScopes().contains(scope.getKey())).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Role role)->{
    role.getOauthScopes().remove(scope.getKey());
    UpdateRole updatedRole = new UpdateRole();
    updatedRole.setName(role.getName());
    updatedRole.setDescription(role.getDescription());
    updatedRole.setPermissions(role.getOauthScopes());
    return roleService.update(scope.getDomain(), role.getId(), updatedRole);
}).toList())).then(RxJava2Adapter.singleToMono(applicationService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Application> applications)->Observable.fromIterable(applications.stream().filter((io.gravitee.am.model.Application application)->{
    if (application.getSettings() == null) {
        return false;
    }
    if (application.getSettings().getOauth() == null) {
        return false;
    }
    ApplicationOAuthSettings oAuthSettings = application.getSettings().getOauth();
    return oAuthSettings.getScopeSettings() != null && !oAuthSettings.getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->s.getScope().equals(scope.getKey())).findFirst().isEmpty();
}).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Application application)->{
    final List<ApplicationScopeSettings> cleanScopes = application.getSettings().getOauth().getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->!s.getScope().equals(scope.getKey())).collect(Collectors.toList());
    application.getSettings().getOauth().setScopeSettings(cleanScopes);
    return applicationService.update(application);
}).toList()))).toCompletable()).then(RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndScopeKey(scope.getDomain(), scope.getKey()))).then(RxJava2Adapter.completableToMono(scopeRepository.delete(scopeId))).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.SCOPE, new Payload(scope.getId(), ReferenceType.DOMAIN, scope.getDomain(), Action.DELETE)))))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.fromSingle(roleService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Role> roles)->Observable.fromIterable(roles.stream().filter((io.gravitee.am.model.Role role)->role.getOauthScopes() != null && role.getOauthScopes().contains(scope.getKey())).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Role role)->{
    role.getOauthScopes().remove(scope.getKey());
    UpdateRole updatedRole = new UpdateRole();
    updatedRole.setName(role.getName());
    updatedRole.setDescription(role.getDescription());
    updatedRole.setPermissions(role.getOauthScopes());
    return roleService.update(scope.getDomain(), role.getId(), updatedRole);
}).toList())).then(RxJava2Adapter.singleToMono(applicationService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Application> applications)->Observable.fromIterable(applications.stream().filter((io.gravitee.am.model.Application application)->{
    if (application.getSettings() == null) {
        return false;
    }
    if (application.getSettings().getOauth() == null) {
        return false;
    }
    ApplicationOAuthSettings oAuthSettings = application.getSettings().getOauth();
    return oAuthSettings.getScopeSettings() != null && !oAuthSettings.getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->s.getScope().equals(scope.getKey())).findFirst().isEmpty();
}).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Application application)->{
    final List<ApplicationScopeSettings> cleanScopes = application.getSettings().getOauth().getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->!s.getScope().equals(scope.getKey())).collect(Collectors.toList());
    application.getSettings().getOauth().setScopeSettings(cleanScopes);
    return applicationService.update(application);
}).toList()))).toCompletable()).then(RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndScopeKey(scope.getDomain(), scope.getKey()))).then(RxJava2Adapter.completableToMono(scopeRepository.delete(scopeId))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.fromSingle(roleService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Role> roles)->Observable.fromIterable(roles.stream().filter((io.gravitee.am.model.Role role)->role.getOauthScopes() != null && role.getOauthScopes().contains(scope.getKey())).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Role role)->{
    role.getOauthScopes().remove(scope.getKey());
    UpdateRole updatedRole = new UpdateRole();
    updatedRole.setName(role.getName());
    updatedRole.setDescription(role.getDescription());
    updatedRole.setPermissions(role.getOauthScopes());
    return roleService.update(scope.getDomain(), role.getId(), updatedRole);
}).toList())).then(RxJava2Adapter.singleToMono(applicationService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Application> applications)->Observable.fromIterable(applications.stream().filter((io.gravitee.am.model.Application application)->{
    if (application.getSettings() == null) {
        return false;
    }
    if (application.getSettings().getOauth() == null) {
        return false;
    }
    ApplicationOAuthSettings oAuthSettings = application.getSettings().getOauth();
    return oAuthSettings.getScopeSettings() != null && !oAuthSettings.getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->s.getScope().equals(scope.getKey())).findFirst().isEmpty();
}).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Application application)->{
    final List<ApplicationScopeSettings> cleanScopes = application.getSettings().getOauth().getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->!s.getScope().equals(scope.getKey())).collect(Collectors.toList());
    application.getSettings().getOauth().setScopeSettings(cleanScopes);
    return applicationService.update(application);
}).toList()))).toCompletable()).then(RxJava2Adapter.completableToMono(scopeApprovalRepository.deleteByDomainAndScopeKey(scope.getDomain(), scope.getKey()))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.fromSingle(roleService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Role> roles)->Observable.fromIterable(roles.stream().filter((io.gravitee.am.model.Role role)->role.getOauthScopes() != null && role.getOauthScopes().contains(scope.getKey())).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Role role)->{
    role.getOauthScopes().remove(scope.getKey());
    UpdateRole updatedRole = new UpdateRole();
    updatedRole.setName(role.getName());
    updatedRole.setDescription(role.getDescription());
    updatedRole.setPermissions(role.getOauthScopes());
    return roleService.update(scope.getDomain(), role.getId(), updatedRole);
}).toList())).then(RxJava2Adapter.singleToMono(applicationService.findByDomain(scope.getDomain()).flatMapObservable((java.util.Set<io.gravitee.am.model.Application> applications)->Observable.fromIterable(applications.stream().filter((io.gravitee.am.model.Application application)->{
    if (application.getSettings() == null) {
        return false;
    }
    if (application.getSettings().getOauth() == null) {
        return false;
    }
    ApplicationOAuthSettings oAuthSettings = application.getSettings().getOauth();
    return oAuthSettings.getScopeSettings() != null && !oAuthSettings.getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->s.getScope().equals(scope.getKey())).findFirst().isEmpty();
}).collect(Collectors.toList()))).flatMapSingle((io.gravitee.am.model.Application application)->{
    final List<ApplicationScopeSettings> cleanScopes = application.getSettings().getOauth().getScopeSettings().stream().filter((io.gravitee.am.model.application.ApplicationScopeSettings s)->!s.getScope().equals(scope.getKey())).collect(Collectors.toList());
    application.getSettings().getOauth().setScopeSettings(cleanScopes);
    return applicationService.update(application);
}).toList())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete scope: %s", scopeId), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find scopes by domain: %s", domain), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find scopes by domain: %s and scope key: %s", domain, scopeKey), ex)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(scopeRepository.findByDomainAndKeys(domain, scopeKeys)).collectList())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find scopes by domain: %s and scope keys: %s", domain, keys), ex)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findByDomain(domain, 0, Integer.MAX_VALUE)).map(RxJavaReactorMigrationUtil.toJdkFunction((domainSet)->domainSet.getData().stream().map(Scope::getKey).collect(Collectors.toSet()))).flatMap((domainScopes)->RxJava2Adapter.singleToMono(this.validateScope(domainScopes, scopes))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findByDomain(domain, 0, Integer.MAX_VALUE)).map(RxJavaReactorMigrationUtil.toJdkFunction((domainSet)->domainSet.getData().stream().map(Scope::getKey).collect(Collectors.toSet()))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("scope " + scope + " is not valid.")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new MalformedIconUriException(scope.getIconUri())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(scope))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(identityProviderRepository.findAll()).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find all identity providers", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find all identity providers", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find all identity providers", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderRepository.findById(referenceType, referenceId, id).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to find an identity provider using its ID: {}", id, ex);
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find an identity provider using its ID: %s", id), ex)));
})).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find an identity provider using its ID: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderRepository.findById(referenceType, referenceId, id).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to find an identity provider using its ID: {}", id, ex);
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find an identity provider using its ID: %s", id), ex)));
})).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find an identity provider using its ID: %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(identityProviderRepository.findAll(referenceType, referenceId)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find identity providers by domain", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find identity providers by " + referenceType.name(), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find identity providers by " + referenceType.name(), ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, SingleSource<IdentityProvider>>toJdkFunction((identityProvider1)->{
    Event event = new Event(Type.IDENTITY_PROVIDER, new Payload(identityProvider1.getId(), identityProvider1.getReferenceType(), identityProvider1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(identityProvider1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to create an identity provider", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create an identity provider", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((identityProvider1)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_CREATED).identityProvider(identityProvider1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, SingleSource<IdentityProvider>>toJdkFunction((identityProvider1)->{
    Event event = new Event(Type.IDENTITY_PROVIDER, new Payload(identityProvider1.getId(), identityProvider1.getReferenceType(), identityProvider1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(identityProvider1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to create an identity provider", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create an identity provider", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((identityProvider1)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_CREATED).identityProvider(identityProvider1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(identityProviderRepository.create(identityProvider)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, SingleSource<IdentityProvider>>toJdkFunction((identityProvider1)->{
    Event event = new Event(Type.IDENTITY_PROVIDER, new Payload(identityProvider1.getId(), identityProvider1.getReferenceType(), identityProvider1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(identityProvider1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(identityProvider1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(identityProvider1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create an identity provider", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderRepository.findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderRepository.findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(identityProviderRepository.update(identityToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, SingleSource<IdentityProvider>>toJdkFunction((identityProvider1)->{
    Event event = new Event(Type.IDENTITY_PROVIDER, new Payload(identityProvider1.getId(), identityProvider1.getReferenceType(), identityProvider1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(identityProvider1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((identityProvider1)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_UPDATED).oldValue(oldIdentity).identityProvider(identityProvider1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(identityProviderRepository.update(identityToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, SingleSource<IdentityProvider>>toJdkFunction((identityProvider1)->{
    Event event = new Event(Type.IDENTITY_PROVIDER, new Payload(identityProvider1.getId(), identityProvider1.getReferenceType(), identityProvider1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(identityProvider1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((identityProvider1)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_UPDATED).oldValue(oldIdentity).identityProvider(identityProvider1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(identityProviderRepository.update(identityToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, SingleSource<IdentityProvider>>toJdkFunction((identityProvider1)->{
    Event event = new Event(Type.IDENTITY_PROVIDER, new Payload(identityProvider1.getId(), identityProvider1.getReferenceType(), identityProvider1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(identityProvider1)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(identityProvider1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(identityProvider1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update an identity provider", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderRepository.findById(referenceType, referenceId, identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(identityProviderId)))).flatMapSingle((identityProvider)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByIdentityProvider(identityProviderId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<IdentityProvider>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new IdentityProviderWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(identityProvider));
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<IdentityProvider, CompletableSource>)(identityProvider)->{
    Event event = new Event(Type.IDENTITY_PROVIDER, new Payload(identityProviderId, referenceType, referenceId, Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(identityProviderRepository.delete(identityProviderId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_DELETED).identityProvider(identityProvider)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderRepository.findById(referenceType, referenceId, identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(identityProviderId)))).flatMapSingle((identityProvider)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByIdentityProvider(identityProviderId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<IdentityProvider>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new IdentityProviderWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(identityProvider));
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<IdentityProvider, CompletableSource>)(identityProvider)->{
    Event event = new Event(Type.IDENTITY_PROVIDER, new Payload(identityProviderId, referenceType, referenceId, Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(identityProviderRepository.delete(identityProviderId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_DELETED).identityProvider(identityProvider)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderRepository.findById(referenceType, referenceId, identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(identityProviderId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderRepository.findById(referenceType, referenceId, identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(identityProviderId)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByIdentityProvider(identityProviderId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<IdentityProvider>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new IdentityProviderWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(identityProvider));
}).apply(v)))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(identityProvider))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(identityProviderRepository.delete(identityProviderId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_DELETED).identityProvider(identityProvider)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(IdentityProviderAuditBuilder.class).principal(principal).type(EventType.IDENTITY_PROVIDER_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(identityProviderRepository.delete(identityProviderId)).then(RxJava2Adapter.singleToMono(eventService.create(event))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete identity provider: %s", identityProviderId), ex)))
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a resource using its ID: %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(serviceResourceRepository.findByReference(ReferenceType.DOMAIN, domain)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find resources by domain", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find resources by domain", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find resources by domain", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(serviceResourceRepository.create(resource)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ServiceResource, SingleSource<ServiceResource>>toJdkFunction((resource1)->{
    Event event = new Event(Type.RESOURCE, new Payload(resource1.getId(), resource1.getReferenceType(), resource1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(resource1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a resource", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a resource", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((factor1)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_CREATED).resource(factor1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(serviceResourceRepository.create(resource)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ServiceResource, SingleSource<ServiceResource>>toJdkFunction((resource1)->{
    Event event = new Event(Type.RESOURCE, new Payload(resource1.getId(), resource1.getReferenceType(), resource1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(resource1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a resource", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a resource", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((factor1)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_CREATED).resource(factor1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(serviceResourceRepository.create(resource)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ServiceResource, SingleSource<ServiceResource>>toJdkFunction((resource1)->{
    Event event = new Event(Type.RESOURCE, new Payload(resource1.getId(), resource1.getReferenceType(), resource1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(resource1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(resource1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(resource1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a resource", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(serviceResourceRepository.findById(id)).switchIfEmpty(Mono.error(new ServiceResourceNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(serviceResourceRepository.findById(id)).switchIfEmpty(Mono.error(new ServiceResourceNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(serviceResourceRepository.update(factorToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ServiceResource, SingleSource<ServiceResource>>toJdkFunction((resource1)->{
    Event event = new Event(Type.RESOURCE, new Payload(resource1.getId(), resource1.getReferenceType(), resource1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(resource1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((factor1)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_UPDATED).oldValue(oldServiceResource).resource(factor1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(serviceResourceRepository.update(factorToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ServiceResource, SingleSource<ServiceResource>>toJdkFunction((resource1)->{
    Event event = new Event(Type.RESOURCE, new Payload(resource1.getId(), resource1.getReferenceType(), resource1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(resource1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((factor1)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_UPDATED).oldValue(oldServiceResource).resource(factor1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(serviceResourceRepository.update(factorToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ServiceResource, SingleSource<ServiceResource>>toJdkFunction((resource1)->{
    Event event = new Event(Type.RESOURCE, new Payload(resource1.getId(), resource1.getReferenceType(), resource1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(resource1)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(resource1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(resource1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a resource", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(serviceResourceRepository.findById(resourceId)).switchIfEmpty(Mono.error(new ServiceResourceNotFoundException(resourceId)))).flatMapSingle((resource)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domain)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((factor)->factor.getConfiguration() != null && factor.getConfiguration().contains("\"" + resourceId + "\""))).collectList().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<Factor>, SingleSource<ServiceResource>>toJdkFunction((factors)->{
    if (factors.isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.just(resource));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(new ServiceResourceCurrentlyUsedException(resourceId, factors.get(0).getName(), "MultiFactor Authentication")));
    }
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<ServiceResource, CompletableSource>)(resource)->{
    Event event = new Event(Type.RESOURCE, new Payload(resource.getId(), resource.getReferenceType(), resource.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(serviceResourceRepository.delete(resourceId)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then()).doOnComplete(()->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_DELETED).resource(resource)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(serviceResourceRepository.findById(resourceId)).switchIfEmpty(Mono.error(new ServiceResourceNotFoundException(resourceId)))).flatMapSingle((resource)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domain)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((factor)->factor.getConfiguration() != null && factor.getConfiguration().contains("\"" + resourceId + "\""))).collectList().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<Factor>, SingleSource<ServiceResource>>toJdkFunction((factors)->{
    if (factors.isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.just(resource));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(new ServiceResourceCurrentlyUsedException(resourceId, factors.get(0).getName(), "MultiFactor Authentication")));
    }
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<ServiceResource, CompletableSource>)(resource)->{
    Event event = new Event(Type.RESOURCE, new Payload(resource.getId(), resource.getReferenceType(), resource.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(serviceResourceRepository.delete(resourceId)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then()).doOnComplete(()->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_DELETED).resource(resource)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(serviceResourceRepository.findById(resourceId)).switchIfEmpty(Mono.error(new ServiceResourceNotFoundException(resourceId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(serviceResourceRepository.findById(resourceId)).switchIfEmpty(Mono.error(new ServiceResourceNotFoundException(resourceId)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domain)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((factor)->factor.getConfiguration() != null && factor.getConfiguration().contains("\"" + resourceId + "\""))).collectList().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<Factor>, SingleSource<ServiceResource>>toJdkFunction((factors)->{
    if (factors.isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.just(resource));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(new ServiceResourceCurrentlyUsedException(resourceId, factors.get(0).getName(), "MultiFactor Authentication")));
    }
}).apply(v)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(factorService.findByDomain(domain)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((factor)->factor.getConfiguration() != null && factor.getConfiguration().contains("\"" + resourceId + "\""))).collectList().flatMap
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(factorService.findByDomain(domain)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((factor)->factor.getConfiguration() != null && factor.getConfiguration().contains("\"" + resourceId + "\""))).collectList
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(resource))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ServiceResourceCurrentlyUsedException(resourceId, factors.get(0).getName(), "MultiFactor Authentication")))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(serviceResourceRepository.delete(resourceId)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then()).doOnComplete(()->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_DELETED).resource(resource)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ServiceResourceAuditBuilder.class).principal(principal).type(EventType.RESOURCE_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(serviceResourceRepository.delete(resourceId)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(serviceResourceRepository.delete(resourceId)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete resource: %s", resourceId), ex)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to find applications", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find applications by domain %s", domain), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to search applications with query %s by domain %s", query, domain), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findByCertificate(certificate)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find applications by certificate", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find applications by certificate", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find applications by certificate", ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findByIdentityProvider(identityProvider)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find applications by identity provider", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find applications by identity provider", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find applications by identity provider", ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findByFactor(factor)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find applications by factor", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find applications by factor", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find applications by factor", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to find applications by extension grant", ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationRepository.findByIdIn(ids)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find applications by ids {}", ids, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find applications by ids", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find applications by ids", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find an application using its ID: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find an application using its domain: %s, and client_id", domain, clientId), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create an application", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("No domain set on application")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create an application", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("No domain set on application")))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(application.getId())).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application.getId()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationRepository.findById(application.getId())).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application.getId())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update an application", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to patch an application", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidParameterException("Unexpected forgot password field")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to patch an application", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id)))).flatMapSingle((application)->{
    if (application.getSettings() == null) {
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Application settings is undefined")));
    }
    if (application.getSettings().getOauth() == null) {
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Application OAuth 2.0 settings is undefined")));
    }
    application.getSettings().getOauth().setClientSecret(SecureRandomString.generate());
    application.setUpdatedAt(new Date());
    return applicationRepository.update(application);
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application1.getId(), ReferenceType.DOMAIN, application1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updatedApplication)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_CLIENT_SECRET_RENEWED).application(updatedApplication)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_CLIENT_SECRET_RENEWED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id)))).flatMapSingle((application)->{
    if (application.getSettings() == null) {
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Application settings is undefined")));
    }
    if (application.getSettings().getOauth() == null) {
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Application OAuth 2.0 settings is undefined")));
    }
    application.getSettings().getOauth().setClientSecret(SecureRandomString.generate());
    application.setUpdatedAt(new Date());
    return applicationRepository.update(application);
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application1.getId(), ReferenceType.DOMAIN, application1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updatedApplication)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_CLIENT_SECRET_RENEWED).application(updatedApplication)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id)))).flatMapSingle((application)->{
    if (application.getSettings() == null) {
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Application settings is undefined")));
    }
    if (application.getSettings().getOauth() == null) {
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Application OAuth 2.0 settings is undefined")));
    }
    application.getSettings().getOauth().setClientSecret(SecureRandomString.generate());
    application.setUpdatedAt(new Date());
    return applicationRepository.update(application);
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application1.getId(), ReferenceType.DOMAIN, application1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application1)));
}).apply(v)))).doOnSuccess
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Application settings is undefined")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Application OAuth 2.0 settings is undefined")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application1)))
1 | Mono | just | METHOD_INVOCATION | (domain1)->Mono.just(application1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to renew client secret for application %s and domain %s", id, domain), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Application, CompletableSource>)(application)->{
    Event event = new Event(Type.APPLICATION, new Payload(application.getId(), ReferenceType.DOMAIN, application.getDomain(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomainAndClient(application.getDomain(), application.getId())).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((form)->formService.delete(application.getDomain(), form.getId())).apply(t)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(application.getId(), ReferenceType.APPLICATION)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(z)))).then())).doOnComplete(()->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_DELETED).application(application)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Application, CompletableSource>)(application)->{
    Event event = new Event(Type.APPLICATION, new Payload(application.getId(), ReferenceType.DOMAIN, application.getDomain(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomainAndClient(application.getDomain(), application.getId())).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((form)->formService.delete(application.getDomain(), form.getId())).apply(t)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(application.getId(), ReferenceType.APPLICATION)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(z)))).then())).doOnComplete(()->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_DELETED).application(application)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationRepository.findById(id)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomainAndClient(application.getDomain(), application.getId())).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((form)->formService.delete(application.getDomain(), form.getId())).apply(t)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(application.getId(), ReferenceType.APPLICATION)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(z)))).then())).doOnComplete(()->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_DELETED).application(application)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomainAndClient(application.getDomain(), application.getId())).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((form)->formService.delete(application.getDomain(), form.getId())).apply(t)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(application.getId(), ReferenceType.APPLICATION)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(z)))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomainAndClient(application.getDomain(), application.getId())).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((form)->formService.delete(application.getDomain(), form.getId())).apply(t)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomainAndClient(application.getDomain(), application.getId())).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((form)->formService.delete(application.getDomain(), form.getId())).apply(t)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(formService.findByDomainAndClient(application.getDomain(), application.getId())).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((form)->formService.delete(application.getDomain(), form.getId())).apply(t)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(applicationRepository.delete(id)).then(RxJava2Adapter.completableToMono(eventService.create(event).toCompletable())).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findByClient(ReferenceType.DOMAIN, application.getDomain(), application.getId())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((email)->emailTemplateService.delete(email.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomainAndClient(application.getDomain(), application.getId())).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((form)->formService.delete(application.getDomain(), form.getId())).apply(t)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(application.getId(), ReferenceType.APPLICATION)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(z)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByReference(application.getId(), ReferenceType.APPLICATION)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(z)))).then
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete application: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to count applications"), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to count applications for domain %s", domainId), ex)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationRepository.findAll(0, Integer.MAX_VALUE).flatMapObservable((pagedApplications)->Observable.fromIterable(pagedApplications.getData())).flatMapSingle((application)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tokenService.findTotalTokensByApplication(application)).map(RxJavaReactorMigrationUtil.toJdkFunction((totalToken)->{
    TopApplication topApplication = new TopApplication();
    topApplication.setApplication(application);
    topApplication.setAccessTokens(totalToken.getTotalAccessTokens());
    return topApplication;
})))).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((topApplications)->topApplications.stream().filter((topClient)->topClient.getAccessTokens() > 0).collect(Collectors.toSet()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tokenService.findTotalTokensByApplication(application)).map(RxJavaReactorMigrationUtil.toJdkFunction((totalToken)->{
    TopApplication topApplication = new TopApplication();
    topApplication.setApplication(application);
    topApplication.setAccessTokens(totalToken.getTotalAccessTokens());
    return topApplication;
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to find top applications", ex)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationRepository.findByDomain(domain, 0, Integer.MAX_VALUE).flatMapObservable((pagedApplications)->Observable.fromIterable(pagedApplications.getData())).flatMapSingle((application)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tokenService.findTotalTokensByApplication(application)).map(RxJavaReactorMigrationUtil.toJdkFunction((totalToken)->{
    TopApplication topApplication = new TopApplication();
    topApplication.setApplication(application);
    topApplication.setAccessTokens(totalToken.getTotalAccessTokens());
    return topApplication;
})))).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((topApplications)->topApplications.stream().filter((topClient)->topClient.getAccessTokens() > 0).collect(Collectors.toSet()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tokenService.findTotalTokensByApplication(application)).map(RxJavaReactorMigrationUtil.toJdkFunction((totalToken)->{
    TopApplication topApplication = new TopApplication();
    topApplication.setApplication(application);
    topApplication.setAccessTokens(totalToken.getTotalAccessTokens());
    return topApplication;
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find top applications for domain %s", domain), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkApplicationUniqueness(domain, application)).then(RxJava2Adapter.singleToMono(validateApplicationMetadata(application))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::setDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Object>>toJdkFunction((application1)->{
    if (principal == null || principal.getAdditionalInformation() == null || StringUtils.isEmpty(principal.getAdditionalInformation().get(Claims.organization))) {
        return RxJava2Adapter.monoToSingle(Mono.just(application1));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.APPLICATION_PRIMARY_OWNER, ReferenceType.APPLICATION)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the application, owner role does not exist"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Object>>toJdkFunction((role)->{
        Membership membership = new Membership();
        membership.setDomain(application1.getDomain());
        membership.setMemberId(principal.getId());
        membership.setMemberType(MemberType.USER);
        membership.setReferenceId(application1.getId());
        membership.setReferenceType(ReferenceType.APPLICATION);
        membership.setRoleId(role.getId());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate((String)principal.getAdditionalInformation().get(Claims.organization), membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
    }).apply(a)))));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Object, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application.getId(), ReferenceType.DOMAIN, application.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((application1)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_CREATED).application(application1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkApplicationUniqueness(domain, application)).then(RxJava2Adapter.singleToMono(validateApplicationMetadata(application))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::setDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Object>>toJdkFunction((application1)->{
    if (principal == null || principal.getAdditionalInformation() == null || StringUtils.isEmpty(principal.getAdditionalInformation().get(Claims.organization))) {
        return RxJava2Adapter.monoToSingle(Mono.just(application1));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.APPLICATION_PRIMARY_OWNER, ReferenceType.APPLICATION)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the application, owner role does not exist"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Object>>toJdkFunction((role)->{
        Membership membership = new Membership();
        membership.setDomain(application1.getDomain());
        membership.setMemberId(principal.getId());
        membership.setMemberType(MemberType.USER);
        membership.setReferenceId(application1.getId());
        membership.setReferenceType(ReferenceType.APPLICATION);
        membership.setRoleId(role.getId());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate((String)principal.getAdditionalInformation().get(Claims.organization), membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
    }).apply(a)))));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Object, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application.getId(), ReferenceType.DOMAIN, application.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((application1)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_CREATED).application(application1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkApplicationUniqueness(domain, application)).then(RxJava2Adapter.singleToMono(validateApplicationMetadata(application))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::setDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Object>>toJdkFunction((application1)->{
    if (principal == null || principal.getAdditionalInformation() == null || StringUtils.isEmpty(principal.getAdditionalInformation().get(Claims.organization))) {
        return RxJava2Adapter.monoToSingle(Mono.just(application1));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.APPLICATION_PRIMARY_OWNER, ReferenceType.APPLICATION)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the application, owner role does not exist"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Object>>toJdkFunction((role)->{
        Membership membership = new Membership();
        membership.setDomain(application1.getDomain());
        membership.setMemberId(principal.getId());
        membership.setMemberType(MemberType.USER);
        membership.setReferenceId(application1.getId());
        membership.setReferenceType(ReferenceType.APPLICATION);
        membership.setRoleId(role.getId());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate((String)principal.getAdditionalInformation().get(Claims.organization), membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
    }).apply(a)))));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Object, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application.getId(), ReferenceType.DOMAIN, application.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkApplicationUniqueness(domain, application)).then(RxJava2Adapter.singleToMono(validateApplicationMetadata(application))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::setDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Object>>toJdkFunction((application1)->{
    if (principal == null || principal.getAdditionalInformation() == null || StringUtils.isEmpty(principal.getAdditionalInformation().get(Claims.organization))) {
        return RxJava2Adapter.monoToSingle(Mono.just(application1));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.APPLICATION_PRIMARY_OWNER, ReferenceType.APPLICATION)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the application, owner role does not exist"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Object>>toJdkFunction((role)->{
        Membership membership = new Membership();
        membership.setDomain(application1.getDomain());
        membership.setMemberId(principal.getId());
        membership.setMemberType(MemberType.USER);
        membership.setReferenceId(application1.getId());
        membership.setReferenceType(ReferenceType.APPLICATION);
        membership.setRoleId(role.getId());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate((String)principal.getAdditionalInformation().get(Claims.organization), membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
    }).apply(a)))));
}).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkApplicationUniqueness(domain, application)).then(RxJava2Adapter.singleToMono(validateApplicationMetadata(application))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::setDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::create).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkApplicationUniqueness(domain, application)).then(RxJava2Adapter.singleToMono(validateApplicationMetadata(application))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::setDefaultCertificate).apply(v)))).flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkApplicationUniqueness(domain, application)).then(RxJava2Adapter.singleToMono(validateApplicationMetadata(application))).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application1))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.APPLICATION_PRIMARY_OWNER, ReferenceType.APPLICATION)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the application, owner role does not exist"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Object>>toJdkFunction((role)->{
    Membership membership = new Membership();
    membership.setDomain(application1.getDomain());
    membership.setMemberId(principal.getId());
    membership.setMemberType(MemberType.USER);
    membership.setReferenceId(application1.getId());
    membership.setReferenceType(ReferenceType.APPLICATION);
    membership.setRoleId(role.getId());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate((String)principal.getAdditionalInformation().get(Claims.organization), membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
}).apply(a)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.APPLICATION_PRIMARY_OWNER, ReferenceType.APPLICATION)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the application, owner role does not exist"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.APPLICATION_PRIMARY_OWNER, ReferenceType.APPLICATION)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the application, owner role does not exist")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate((String)principal.getAdditionalInformation().get(Claims.organization), membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application)))
1 | Mono | just | METHOD_INVOCATION | (domain1)->Mono.just(application)
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(validateApplicationMetadata(applicationToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateApplicationIdentityProviders).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application1.getId(), ReferenceType.DOMAIN, application1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((application)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_UPDATED).oldValue(currentApplication).application(application)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(validateApplicationMetadata(applicationToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateApplicationIdentityProviders).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application1.getId(), ReferenceType.DOMAIN, application1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((application)->auditService.report(AuditBuilder.builder(ApplicationAuditBuilder.class).principal(principal).type(EventType.APPLICATION_UPDATED).oldValue(currentApplication).application(application)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(validateApplicationMetadata(applicationToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateApplicationIdentityProviders).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction((application1)->{
    Event event = new Event(Type.APPLICATION, new Payload(application1.getId(), ReferenceType.DOMAIN, application1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application1)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(validateApplicationMetadata(applicationToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateApplicationIdentityProviders).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(applicationRepository::update).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(validateApplicationMetadata(applicationToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateApplicationIdentityProviders).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((domain1)->Mono.just(application1)))
1 | Mono | just | METHOD_INVOCATION | (domain1)->Mono.just(application1)
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(application.getDomain())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((certificates)->{
    if (certificates == null || certificates.isEmpty()) {
        return application;
    }
    Certificate defaultCertificate = certificates.stream().filter((certificate)->"Default".equals(certificate.getName())).findFirst().orElse(certificates.get(0));
    application.setCertificate(defaultCertificate.getId());
    return application;
})))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(certificateService.findByDomain(application.getDomain())).collectList().map
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(findByDomainAndClientId(domain, clientId)).hasElement().flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, CompletableSource>)(isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new ApplicationAlreadyExistsException(clientId, domain)));
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientId(domain, clientId)).hasElement().flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, CompletableSource>)(isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new ApplicationAlreadyExistsException(clientId, domain)));
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientId(domain, clientId)).hasElement().flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new ApplicationAlreadyExistsException(clientId, domain)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(application.getIdentities()).flatMapSingle((identity)->RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(identity)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).single())).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((optionalIdentities)->{
    if (optionalIdentities == null || optionalIdentities.isEmpty()) {
        application.setIdentities(Collections.emptySet());
    } else {
        Set<String> identities = optionalIdentities.stream().filter(Optional::isPresent).map(Optional::get).map(IdentityProvider::getId).collect(Collectors.toSet());
        application.setIdentities(identities);
    }
    return application;
})))
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(identity)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(identity)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(identity)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(GrantTypeUtils.validateGrantTypes(application)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateRedirectUris).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateTokenEndpointAuthMethod).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Application>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Application, Single<Application>>)this::validateTlsClientAuth).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(GrantTypeUtils.validateGrantTypes(application)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateRedirectUris).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateTokenEndpointAuthMethod).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(GrantTypeUtils.validateGrantTypes(application)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateRedirectUris).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateScopes).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(GrantTypeUtils.validateGrantTypes(application)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Application, SingleSource<Application>>toJdkFunction(this::validateRedirectUris).apply(v)))).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(application.getDomain())).switchIfEmpty(Mono.error(new DomainNotFoundException(application.getDomain()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(application.getDomain())).switchIfEmpty(Mono.error(new DomainNotFoundException(application.getDomain())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("redirect_uri : " + redirectUri + " is malformed")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("localhost is forbidden")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("Unsecured http scheme is forbidden")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("Wildcard are forbidden")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("redirect_uri with fragment is forbidden")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("redirect_uri : " + redirectUri + " is malformed")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("non valid default scopes")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("non valid scope approvals")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(scopeService.validateScope(application.getDomain(), scopes)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Application>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, Single<Application>>)(isValid)->{
    if (!isValid) {
        return RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("non valid scopes")));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(application));
}).apply(v))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("non valid scopes")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Invalid token_endpoint_auth_method for service application (client_credentials grant type)")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Missing TLS parameter for tls_client_auth.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a certificate using its ID: %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(certificateRepository.findByDomain(domain)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find certificates by domain", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find certificates by domain", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find certificates by domain", ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(certificateRepository.findAll()).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find all certificates", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find all certificates by domain", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find all certificates by domain", ex)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificatePluginService.getSchema(newCertificate.getType())).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(newCertificate.getType()))).map(RxJavaReactorMigrationUtil.toJdkFunction((schema)->objectMapper.readValue(schema, CertificateSchema.class))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.getSchema(newCertificate.getType())).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(newCertificate.getType()))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.getSchema(newCertificate.getType())).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(newCertificate.getType())))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(certificateSingle).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate.getId(), ReferenceType.DOMAIN, certificate.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate)));
}).apply(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((ex)->{
    LOGGER.error("An error occurs while trying to create a certificate", ex);
    throw new TechnicalManagementException("An error occurs while trying to create a certificate", ex);
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((certificate)->{
    auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_CREATED).certificate(certificate));
})).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(certificateSingle).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate.getId(), ReferenceType.DOMAIN, certificate.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate)));
}).apply(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((ex)->{
    LOGGER.error("An error occurs while trying to create a certificate", ex);
    throw new TechnicalManagementException("An error occurs while trying to create a certificate", ex);
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((certificate)->{
    auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_CREATED).certificate(certificate));
})).doOnError
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.singleToMono(certificateSingle).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate.getId(), ReferenceType.DOMAIN, certificate.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate)));
}).apply(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((ex)->{
    LOGGER.error("An error occurs while trying to create a certificate", ex);
    throw new TechnicalManagementException("An error occurs while trying to create a certificate", ex);
})).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(certificateSingle).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate.getId(), ReferenceType.DOMAIN, certificate.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate)));
}).apply(v)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(certificateSingle).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::create).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(certificate)
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateRepository.findById(id)).switchIfEmpty(Mono.error(new CertificateNotFoundException(id)))).flatMapSingle(new Function<Certificate, SingleSource<CertificateWithSchema>>(){
    
    () {
        super();
    }
    
    @Override()
    public SingleSource<CertificateWithSchema> apply(Certificate certificate) throws Exception {
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificatePluginService.getSchema(certificate.getType())).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(certificate.getType())))).flatMapSingle(new Function<String, SingleSource<? extends CertificateWithSchema>>(){
            
            () {
                super();
            }
            
            @Override()
            public SingleSource<? extends CertificateWithSchema> apply(String schema) throws Exception {
                return RxJava2Adapter.monoToSingle(Mono.just(new CertificateWithSchema(certificate, objectMapper.readValue(schema, CertificateSchema.class))));
            }
        });
    }
})).flatMap((v)->RxJava2Adapter.singleToMono((Single<Certificate>)RxJavaReactorMigrationUtil.toJdkFunction((Function<CertificateWithSchema, Single<Certificate>>)(oldCertificate)->{
    Single<Certificate> certificateSingle = Single.create((emitter)->{
        Certificate certificateToUpdate = new Certificate(oldCertificate.getCertificate());
        certificateToUpdate.setName(updateCertificate.getName());
        try {
            CertificateSchema certificateSchema = oldCertificate.getSchema();
            JsonNode oldCertificateConfiguration = objectMapper.readTree(oldCertificate.getCertificate().getConfiguration());
            JsonNode certificateConfiguration = objectMapper.readTree(updateCertificate.getConfiguration());
            certificateSchema.getProperties().entrySet().stream().filter((map)->map.getValue().getWidget() != null && "file".equals(map.getValue().getWidget())).map(Entry::getKey).forEach((key)->{
                try {
                    String oldFileInformation = oldCertificateConfiguration.get(key).asText();
                    String fileInformation = certificateConfiguration.get(key).asText();
                    if (!oldFileInformation.equals(fileInformation)) {
                        JsonNode file = objectMapper.readTree(certificateConfiguration.get(key).asText());
                        byte[] data = Base64.getDecoder().decode(file.get("content").asText());
                        certificateToUpdate.setMetadata(Collections.singletonMap(CertificateMetadata.FILE, data));
                        ((ObjectNode)certificateConfiguration).put(key, file.get("name").asText());
                        updateCertificate.setConfiguration(objectMapper.writeValueAsString(certificateConfiguration));
                    }
                } catch (IOException ex) {
                    LOGGER.error("An error occurs while trying to update certificate binaries", ex);
                    emitter.onError(ex);
                }
            });
            certificateToUpdate.setConfiguration(updateCertificate.getConfiguration());
            certificateToUpdate.setUpdatedAt(new Date());
        } catch (Exception ex) {
            LOGGER.error("An error occurs while trying to update certificate configuration", ex);
            emitter.onError(ex);
        }
        emitter.onSuccess(certificateToUpdate);
    });
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(certificateSingle).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::update).apply(t)))).flatMap((o)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate1)->{
        Event event = new Event(Type.CERTIFICATE, new Payload(certificate1.getId(), ReferenceType.DOMAIN, certificate1.getDomain(), Action.UPDATE));
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate1)));
    }).apply(o))))).onErrorResumeNext((ex)->{
        LOGGER.error("An error occurs while trying to update a certificate", ex);
        throw new TechnicalManagementException("An error occurs while trying to update a certificate", ex);
    })).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((certificate)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_UPDATED).oldValue(oldCertificate).certificate(certificate)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_UPDATED).throwable(throwable)))));
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateRepository.findById(id)).switchIfEmpty(Mono.error(new CertificateNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificateRepository.findById(id)).switchIfEmpty(Mono.error(new CertificateNotFoundException(id)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificatePluginService.getSchema(certificate.getType())).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(certificate.getType()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.getSchema(certificate.getType())).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(certificate.getType())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new CertificateWithSchema(certificate, objectMapper.readValue(schema, CertificateSchema.class))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(certificateSingle).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::update).apply(t)))).flatMap((o)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate1)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate1.getId(), ReferenceType.DOMAIN, certificate1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate1)));
}).apply(o))))).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to update a certificate", ex);
    throw new TechnicalManagementException("An error occurs while trying to update a certificate", ex);
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((certificate)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_UPDATED).oldValue(oldCertificate).certificate(certificate)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(certificateSingle).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::update).apply(t)))).flatMap((o)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate1)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate1.getId(), ReferenceType.DOMAIN, certificate1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate1)));
}).apply(o))))).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to update a certificate", ex);
    throw new TechnicalManagementException("An error occurs while trying to update a certificate", ex);
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((certificate)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_UPDATED).oldValue(oldCertificate).certificate(certificate)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(certificateSingle).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::update).apply(t)))).flatMap((o)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate1)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate1.getId(), ReferenceType.DOMAIN, certificate1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate1)));
}).apply(o)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(certificateSingle).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction(certificateRepository::update).apply(t)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(certificate1)
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(certificateRepository.update(certificate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate1)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate1.getId(), ReferenceType.DOMAIN, certificate1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate1)));
}).apply(v)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((ex)->{
    LOGGER.error("An error occurs while trying to update a certificate", ex);
    throw new TechnicalManagementException("An error occurs while trying to update a certificate", ex);
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(certificateRepository.update(certificate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Certificate, SingleSource<Certificate>>toJdkFunction((certificate1)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate1.getId(), ReferenceType.DOMAIN, certificate1.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate1)));
}).apply(v)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(certificate1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(certificate1)
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateRepository.findById(certificateId)).switchIfEmpty(Mono.error(new CertificateNotFoundException(certificateId)))).flatMapSingle((certificate)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByCertificate(certificateId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<Certificate>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new CertificateWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(certificate));
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Certificate, CompletableSource>)(certificate)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate.getId(), ReferenceType.DOMAIN, certificate.getDomain(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(certificateRepository.delete(certificateId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_DELETED).certificate(certificate)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateRepository.findById(certificateId)).switchIfEmpty(Mono.error(new CertificateNotFoundException(certificateId)))).flatMapSingle((certificate)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByCertificate(certificateId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<Certificate>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new CertificateWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(certificate));
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Certificate, CompletableSource>)(certificate)->{
    Event event = new Event(Type.CERTIFICATE, new Payload(certificate.getId(), ReferenceType.DOMAIN, certificate.getDomain(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(certificateRepository.delete(certificateId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_DELETED).certificate(certificate)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateRepository.findById(certificateId)).switchIfEmpty(Mono.error(new CertificateNotFoundException(certificateId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificateRepository.findById(certificateId)).switchIfEmpty(Mono.error(new CertificateNotFoundException(certificateId)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByCertificate(certificateId).count()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Long, SingleSource<Certificate>>toJdkFunction((applications)->{
    if (applications > 0) {
        throw new CertificateWithApplicationsException();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(certificate));
}).apply(v)))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificate))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(certificateRepository.delete(certificateId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_DELETED).certificate(certificate)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(CertificateAuditBuilder.class).principal(principal).type(EventType.CERTIFICATE_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(certificateRepository.delete(certificateId)).then(RxJava2Adapter.singleToMono(eventService.create(event))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete certificate: %s", certificateId), ex)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificatePluginService.getSchema(certificate.getType())).map(RxJavaReactorMigrationUtil.toJdkFunction(new Function<String, CertificateSchema>(){
    
    () {
        super();
    }
    
    @Override()
    public CertificateSchema apply(String schema) throws Exception {
        return objectMapper.readValue(schema, CertificateSchema.class);
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction(new Function<CertificateSchema, String>(){
    
    () {
        super();
    }
    
    @Override()
    public String apply(CertificateSchema certificateSchema) throws Exception {
        final int keySize = environment.getProperty("domains.certificates.default.keysize", int.class, 2048);
        final int validity = environment.getProperty("domains.certificates.default.validity", int.class, 365);
        final String name = environment.getProperty("domains.certificates.default.name", String.class, "cn=Gravitee.io");
        final String sigAlgName = environment.getProperty("domains.certificates.default.algorithm", String.class, "SHA256withRSA");
        final String alias = environment.getProperty("domains.certificates.default.alias", String.class, "default");
        final String keyPass = environment.getProperty("domains.certificates.default.keypass", String.class, "gravitee");
        final String storePass = environment.getProperty("domains.certificates.default.storepass", String.class, "gravitee");
        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance("RSA");
        keyPairGenerator.initialize(keySize);
        KeyPair keyPair = keyPairGenerator.generateKeyPair();
        java.security.cert.Certificate[] chain = {generateCertificate(name, keyPair, validity, sigAlgName)};
        KeyStore ks = KeyStore.getInstance("pkcs12");
        ks.load(null, null);
        ks.setKeyEntry(alias, keyPair.getPrivate(), keyPass.toCharArray(), chain);
        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
        ks.store(outputStream, storePass.toCharArray());
        ObjectNode certificateNode = objectMapper.createObjectNode();
        ObjectNode contentNode = objectMapper.createObjectNode();
        contentNode.put("content", new String(Base64.getEncoder().encode(outputStream.toByteArray())));
        contentNode.put("name", domain + ".p12");
        certificateNode.put("content", objectMapper.writeValueAsString(contentNode));
        certificateNode.put("alias", alias);
        certificateNode.put("storepass", storePass);
        certificateNode.put("keypass", keyPass);
        return objectMapper.writeValueAsString(certificateNode);
    }
})))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.getSchema(certificate.getType())).map(RxJavaReactorMigrationUtil.toJdkFunction(new Function<String, CertificateSchema>(){
    
    () {
        super();
    }
    
    @Override()
    public CertificateSchema apply(String schema) throws Exception {
        return objectMapper.readValue(schema, CertificateSchema.class);
    }
})).map
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("No application to validate grant")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Missing or invalid grant type.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException(REFRESH_TOKEN + " grant type must be associated with one of " + String.join(", ", allowedRefreshTokenGrant))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find resources by domain %s", domain), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find resources by domain %s and client %s", domain, client), ex)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(this.findByDomainAndClientAndResources(domain, client, Arrays.asList(resourceId))).next())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.validateScopes(toCreate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(repository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Resource>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Resource, Single<Resource>>)(r)->{
    AccessPolicy accessPolicy = new AccessPolicy();
    accessPolicy.setName("Deny all");
    accessPolicy.setDescription("Default deny access policy. Created by Gravitee.io.");
    accessPolicy.setType(AccessPolicyType.GROOVY);
    accessPolicy.setCondition("{\"onRequestScript\":\"import io.gravitee.policy.groovy.PolicyResult.State\\nresult.state = State.FAILURE;\"}");
    accessPolicy.setEnabled(true);
    accessPolicy.setDomain(domain);
    accessPolicy.setResource(r.getId());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(accessPolicyRepository.create(accessPolicy)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->r)));
}).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateScopes(toCreate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(repository::create).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateScopes(toCreate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(accessPolicyRepository.create(accessPolicy)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->r)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId)))).flatMapSingle(Single::just)).map(RxJavaReactorMigrationUtil.toJdkFunction(newResource::update)).map(RxJavaReactorMigrationUtil.toJdkFunction((toUpdate)->toUpdate.setUpdatedAt(new Date()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Resource>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Resource, Single<Resource>>)repository::update).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId)))).flatMapSingle(Single::just)).map(RxJavaReactorMigrationUtil.toJdkFunction(newResource::update)).map(RxJavaReactorMigrationUtil.toJdkFunction((toUpdate)->toUpdate.setUpdatedAt(new Date()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(this::validateIconUri).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId)))).flatMapSingle(Single::just)).map(RxJavaReactorMigrationUtil.toJdkFunction(newResource::update)).map(RxJavaReactorMigrationUtil.toJdkFunction((toUpdate)->toUpdate.setUpdatedAt(new Date()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Resource, SingleSource<Resource>>toJdkFunction(this::validateScopes).apply(v)))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId)))).flatMapSingle(Single::just)).map(RxJavaReactorMigrationUtil.toJdkFunction(newResource::update)).map(RxJavaReactorMigrationUtil.toJdkFunction((toUpdate)->toUpdate.setUpdatedAt(new Date()))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId)))).flatMapSingle(Single::just)).map(RxJavaReactorMigrationUtil.toJdkFunction(newResource::update)).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId))).flatMap((found)->RxJava2Adapter.completableToMono(repository.delete(resourceId))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId))).flatMap((found)->RxJava2Adapter.completableToMono(repository.delete(resourceId))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, userId, resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resourceId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(accessPolicyRepository.findByDomainAndResource(resource.getDomain(), resource.getId())).flatMap((y)->RxJava2Adapter.completableToMono(RxJavaReactorMigrationUtil.toJdkFunction((Function<AccessPolicy, Completable>)(accessPolicy)->accessPolicyRepository.delete(accessPolicy.getId())).apply(y))).then().then(RxJava2Adapter.completableToMono(repository.delete(resource.getId()))))
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(accessPolicyRepository.findByDomainAndResource(resource.getDomain(), resource.getId())).flatMap((y)->RxJava2Adapter.completableToMono(RxJavaReactorMigrationUtil.toJdkFunction((Function<AccessPolicy, Completable>)(accessPolicy)->accessPolicyRepository.delete(accessPolicy.getId())).apply(y))).then().then
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(accessPolicyRepository.findByDomainAndResource(resource.getDomain(), resource.getId())).flatMap((y)->RxJava2Adapter.completableToMono(RxJavaReactorMigrationUtil.toJdkFunction((Function<AccessPolicy, Completable>)(accessPolicy)->accessPolicyRepository.delete(accessPolicy.getId())).apply(y))).then
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((r)->accessPolicyRepository.findByDomainAndResource(domain, r.getId()))).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(ex));
    }
    LOGGER.error("An error has occurred while trying to find access policies by domain {}, client {}, resource owner {} and resource id {}", domain, client, user, resource, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error has occurred while trying to find access policies by domain %s, client %s, resource owner %s and resource id %s", domain, client, user, resource), ex)));
})))
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((r)->accessPolicyRepository.findByDomainAndResource(domain, r.getId()))).onErrorResume
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMapMany
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource)))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(ex))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error has occurred while trying to find access policies by domain %s, client %s, resource owner %s and resource id %s", domain, client, user, resource), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(accessPolicyRepository.findByResources(resourceIds)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error has occurred while trying to find access policies by resource ids {}", resourceIds, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error has occurred while trying to find access policies by resource ids %s", resourceIds), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error has occurred while trying to find access policies by resource ids %s", resourceIds), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to count access policies by resource id %s", resourceId), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap((z)->accessPolicyRepository.findById(accessPolicy).as(RxJava2Adapter::maybeToMono)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to find access policies by domain %s, client %s, resource owner %s resource id %s and policy id %s", domain, client, user, resource, accessPolicy), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to find access policy by id %s", accessPolicy), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap((v)->RxJava2Adapter.singleToMono((Single<AccessPolicy>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Resource, Single<AccessPolicy>>)(r)->{
    accessPolicy.setDomain(domain);
    accessPolicy.setResource(r.getId());
    accessPolicy.setCreatedAt(new Date());
    accessPolicy.setUpdatedAt(accessPolicy.getCreatedAt());
    return accessPolicyRepository.create(accessPolicy);
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to create an access policy for domain %s, client %s, resource owner %s and resource id %s", domain, client, user, resource), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap((z)->accessPolicyRepository.findById(accessPolicyId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new AccessPolicyNotFoundException(resource))).flatMap((v)->RxJava2Adapter.singleToMono((Single<AccessPolicy>)RxJavaReactorMigrationUtil.toJdkFunction((Function<AccessPolicy, Single<AccessPolicy>>)(oldPolicy)->{
    AccessPolicy policyToUpdate = new AccessPolicy();
    policyToUpdate.setId(oldPolicy.getId());
    policyToUpdate.setEnabled(accessPolicy.isEnabled());
    policyToUpdate.setName(accessPolicy.getName());
    policyToUpdate.setDescription(accessPolicy.getDescription());
    policyToUpdate.setType(accessPolicy.getType());
    policyToUpdate.setOrder(accessPolicy.getOrder());
    policyToUpdate.setCondition(accessPolicy.getCondition());
    policyToUpdate.setDomain(oldPolicy.getDomain());
    policyToUpdate.setResource(oldPolicy.getResource());
    policyToUpdate.setCreatedAt(oldPolicy.getCreatedAt());
    policyToUpdate.setUpdatedAt(new Date());
    return accessPolicyRepository.update(policyToUpdate);
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap((z)->accessPolicyRepository.findById(accessPolicyId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new AccessPolicyNotFoundException(resource))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap((z)->accessPolicyRepository.findById(accessPolicyId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap((z)->accessPolicyRepository.findById(accessPolicyId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new AccessPolicyNotFoundException(resource)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to update access policy for domain %s, client %s, resource owner %s, resource id %s and policy id %s", domain, client, user, resource, accessPolicyId), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap((__)->RxJava2Adapter.completableToMono(accessPolicyRepository.delete(accessPolicy))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap((__)->RxJava2Adapter.completableToMono(accessPolicyRepository.delete(accessPolicy))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByDomainAndClientAndUserAndResource(domain, client, user, resource)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to delete access policy for domain %s, client %s, resource owner %s, resource id %s and policy id %s", domain, client, user, resource, accessPolicy), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new MissingScopeException()))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(scopeService.findByDomainAndKeys(toValidate.getDomain(), toValidate.getResourceScopes())).flatMap((v)->RxJava2Adapter.singleToMono((Single<Resource>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Scope>, Single<Resource>>)(scopes)->{
    if (toValidate.getResourceScopes().size() != scopes.size()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new ScopeNotFoundException(toValidate.getResourceScopes().stream().filter((s)->!scopes.contains(s)).collect(Collectors.joining(",")))));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(toValidate));
}).apply(v))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ScopeNotFoundException(toValidate.getResourceScopes().stream().filter((s)->!scopes.contains(s)).collect(Collectors.joining(",")))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(toValidate))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new MalformedIconUriException(toValidate.getIconUri())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(toValidate))
1 | Mono | IMPORT
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(loginAttemptRepository.findByCriteria(criteria)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(loginAttemptRepository.findByCriteria(criteria)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to add a login attempt", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete login attempt: %s", criteria), ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(loginAttemptRepository.findById(id)).switchIfEmpty(Mono.error(new LoginAttemptNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(loginAttemptRepository.findById(id)).switchIfEmpty(Mono.error(new LoginAttemptNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to fin login attempt by id: %s", id), ex)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authContextRepository.findLastByTransactionId(transactionId)).switchIfEmpty(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    AuthenticationFlowContext context = new AuthenticationFlowContext();
    context.setTransactionId(transactionId);
    context.setVersion(0);
    context.setCreatedAt(new Date());
    return context;
}))).map(RxJavaReactorMigrationUtil.toJdkFunction((context)->{
    if (context.getVersion() > 0 && context.getVersion() < expectedVersion) {
        LOGGER.debug("Authentication Flow Context read with version \'{}\' but \'{}\' was expected", context.getVersion(), expectedVersion);
        throw new AuthenticationFlowConsistencyException();
    }
    return context;
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authContextRepository.findLastByTransactionId(transactionId)).switchIfEmpty(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    AuthenticationFlowContext context = new AuthenticationFlowContext();
    context.setTransactionId(transactionId);
    context.setVersion(0);
    context.setCreatedAt(new Date());
    return context;
}))).map
1 | Mono | fromSupplier | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authContextRepository.findLastByTransactionId(transactionId)).switchIfEmpty(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    AuthenticationFlowContext context = new AuthenticationFlowContext();
    context.setTransactionId(transactionId);
    context.setVersion(0);
    context.setCreatedAt(new Date());
    return context;
})))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(attempts).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((throwable)->{
    if (throwable instanceof AuthenticationFlowConsistencyException) {
        if (++retryCount < maxRetries) {
            return Flowable.timer(retryDelayMillis * (retryCount + 1), TimeUnit.MILLISECONDS);
        }
    }
    return RxJava2Adapter.fluxToFlowable(Flux.error(throwable));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(throwable))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(userRepository.findAll(ReferenceType.DOMAIN, domain)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find users by domain {}", domain, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find users by domain %s", domain), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find users by domain %s", domain), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its ID: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its ID: %s for the domain %s", username, domain), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(user)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserRepository().update(user)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    Event event = new Event(Type.USER, new Payload(user1.getId(), user1.getReferenceType(), user1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(user1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to update a user", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a user", ex)));
}))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserRepository().update(user)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    Event event = new Event(Type.USER, new Payload(user1.getId(), user1.getReferenceType(), user1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(user1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(user1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(user1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a user", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while count users to delete user: %s", domain), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while count users to delete user: %s", application), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while count users analytics : %s", query), ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(update(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->{
    if (needToAuditUserFactorsOperation(user1, oldUser)) {
        removeSensitiveFactorsData(user1.getFactors());
        removeSensitiveFactorsData(oldUser.getFactors());
        auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser));
    }
})).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(update(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->{
    if (needToAuditUserFactorsOperation(user1, oldUser)) {
        removeSensitiveFactorsData(user1.getFactors());
        removeSensitiveFactorsData(oldUser.getFactors());
        auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser));
    }
})).doOnError
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<User, CompletableSource>)(oldUser)->{
    if (oldUser.getFactors() == null) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    List<EnrolledFactor> enrolledFactors = oldUser.getFactors().stream().filter((enrolledFactor)->!factorId.equals(enrolledFactor.getFactorId())).collect(Collectors.toList());
    User userToUpdate = new User(oldUser);
    userToUpdate.setFactors(enrolledFactors);
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(update(userToUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable)))).then());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<User, CompletableSource>)(oldUser)->{
    if (oldUser.getFactors() == null) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    List<EnrolledFactor> enrolledFactors = oldUser.getFactors().stream().filter((enrolledFactor)->!factorId.equals(enrolledFactor.getFactorId())).collect(Collectors.toList());
    User userToUpdate = new User(oldUser);
    userToUpdate.setFactors(enrolledFactors);
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(update(userToUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable)))).then());
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(update(userToUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable)))).then())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.singleToMono(update(userToUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable)))).then
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(update(userToUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser)))).doOnError
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a form using its id %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(formRepository.findAll(referenceType, referenceId)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a form using its {} {}", referenceType, referenceId, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a form using its %s %s", referenceType, referenceId), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a form using its %s %s", referenceType, referenceId), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(formRepository.findByClient(referenceType, referenceId, client)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a form using its {} {} and its client {}", referenceType, referenceId, client, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a form using its %s %s and client %s", referenceType, referenceId, client), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a form using its %s %s and client %s", referenceType, referenceId, client), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a form using its domain %s %s and template %s", referenceType, referenceId, template), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a form using its %s %s its client %s and template %s", referenceType, referenceId, client, template), ex)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(findByDomainAndClient(domain, clientSource).flatMapSingle((source)->{
    NewForm form = new NewForm();
    form.setEnabled(source.isEnabled());
    form.setTemplate(Template.parse(source.getTemplate()));
    form.setContent(source.getContent());
    form.setAssets(source.getAssets());
    return this.create(domain, clientTarget, form);
})).collectList())
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(formRepository.findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new FormNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(formRepository.findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new FormNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(formRepository.update(formToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Form, SingleSource<Form>>toJdkFunction((page)->{
    Event event = new Event(Type.FORM, new Payload(page.getId(), page.getReferenceType(), page.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(page)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((form)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_UPDATED).oldValue(oldForm).form(form)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(formRepository.update(formToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Form, SingleSource<Form>>toJdkFunction((page)->{
    Event event = new Event(Type.FORM, new Payload(page.getId(), page.getReferenceType(), page.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(page)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((form)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_UPDATED).oldValue(oldForm).form(form)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(formRepository.update(formToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Form, SingleSource<Form>>toJdkFunction((page)->{
    Event event = new Event(Type.FORM, new Payload(page.getId(), page.getReferenceType(), page.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(page)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(page)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(page)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a form", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkFormUniqueness(referenceType, referenceId, client, newForm.getTemplate().template())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Form>>toJdkFunction((irrelevant)->{
    Form form = new Form();
    form.setId(formId);
    form.setReferenceType(referenceType);
    form.setReferenceId(referenceId);
    form.setClient(client);
    form.setEnabled(newForm.isEnabled());
    form.setTemplate(newForm.getTemplate().template());
    form.setContent(newForm.getContent());
    form.setAssets(newForm.getAssets());
    form.setCreatedAt(new Date());
    form.setUpdatedAt(form.getCreatedAt());
    return formRepository.create(form);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Form, SingleSource<Form>>toJdkFunction((page)->{
    Event event = new Event(Type.FORM, new Payload(page.getId(), page.getReferenceType(), page.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(page)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a form", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a form", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((form)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_CREATED).form(form)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkFormUniqueness(referenceType, referenceId, client, newForm.getTemplate().template())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Form>>toJdkFunction((irrelevant)->{
    Form form = new Form();
    form.setId(formId);
    form.setReferenceType(referenceType);
    form.setReferenceId(referenceId);
    form.setClient(client);
    form.setEnabled(newForm.isEnabled());
    form.setTemplate(newForm.getTemplate().template());
    form.setContent(newForm.getContent());
    form.setAssets(newForm.getAssets());
    form.setCreatedAt(new Date());
    form.setUpdatedAt(form.getCreatedAt());
    return formRepository.create(form);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Form, SingleSource<Form>>toJdkFunction((page)->{
    Event event = new Event(Type.FORM, new Payload(page.getId(), page.getReferenceType(), page.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(page)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a form", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a form", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((form)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_CREATED).form(form)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkFormUniqueness(referenceType, referenceId, client, newForm.getTemplate().template())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Form>>toJdkFunction((irrelevant)->{
    Form form = new Form();
    form.setId(formId);
    form.setReferenceType(referenceType);
    form.setReferenceId(referenceId);
    form.setClient(client);
    form.setEnabled(newForm.isEnabled());
    form.setTemplate(newForm.getTemplate().template());
    form.setContent(newForm.getContent());
    form.setAssets(newForm.getAssets());
    form.setCreatedAt(new Date());
    form.setUpdatedAt(form.getCreatedAt());
    return formRepository.create(form);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Form, SingleSource<Form>>toJdkFunction((page)->{
    Event event = new Event(Type.FORM, new Payload(page.getId(), page.getReferenceType(), page.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(page)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkFormUniqueness(referenceType, referenceId, client, newForm.getTemplate().template())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Form>>toJdkFunction((irrelevant)->{
    Form form = new Form();
    form.setId(formId);
    form.setReferenceType(referenceType);
    form.setReferenceId(referenceId);
    form.setClient(client);
    form.setEnabled(newForm.isEnabled());
    form.setTemplate(newForm.getTemplate().template());
    form.setContent(newForm.getContent());
    form.setAssets(newForm.getAssets());
    form.setCreatedAt(new Date());
    form.setUpdatedAt(form.getCreatedAt());
    return formRepository.create(form);
}).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(page)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(page)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a form", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(formRepository.findById(referenceType, referenceId, formId)).switchIfEmpty(Mono.error(new FormNotFoundException(formId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Form, CompletableSource>)(page)->{
    Event event = new Event(Type.FORM, new Payload(page.getId(), page.getReferenceType(), page.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(formRepository.delete(formId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_DELETED).form(page)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(formRepository.findById(referenceType, referenceId, formId)).switchIfEmpty(Mono.error(new FormNotFoundException(formId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Form, CompletableSource>)(page)->{
    Event event = new Event(Type.FORM, new Payload(page.getId(), page.getReferenceType(), page.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(formRepository.delete(formId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_DELETED).form(page)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(formRepository.findById(referenceType, referenceId, formId)).switchIfEmpty(Mono.error(new FormNotFoundException(formId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(formRepository.findById(referenceType, referenceId, formId)).switchIfEmpty(Mono.error(new FormNotFoundException(formId)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(formRepository.delete(formId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_DELETED).form(page)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FormTemplateAuditBuilder.class).principal(principal).type(EventType.FORM_TEMPLATE_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(formRepository.delete(formId)).then(RxJava2Adapter.singleToMono(eventService.create(event))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete form: %s", formId), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(maybeSource).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new FormAlreadyExistsException(formTemplate);
    }
    return true;
})))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(maybeSource).hasElement().map
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a domain using its ID: %s", id), ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).switchIfEmpty(Mono.error(new DomainNotFoundException(hrid))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).switchIfEmpty(Mono.error(new DomainNotFoundException(hrid)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error has occurred when trying to find a domain using its hrid: %s", hrid), ex)))
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(environmentService.findById(environmentId, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(Environment::getId)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((envId)->domainRepository.search(environmentId, query))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(environmentId, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(Environment::getId)).flatMapMany
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(environmentService.findById(environmentId, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(Environment::getId)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction(domainRepository::findAllByReferenceId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(environmentId, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(Environment::getId)).flatMapMany
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(domainRepository.findAll()).collectList())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to find all domains", ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(domainRepository.findByIdIn(ids)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find domains by id in {}", ids, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find domains by id in", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find domains by id in", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Domain>>toJdkFunction((empty)->{
    if (!empty) {
        throw new DomainAlreadyExistsException(newDomain.getName());
    } else {
        Domain domain = new Domain();
        domain.setId(RandomString.generate());
        domain.setHrid(hrid);
        domain.setPath(generateContextPath(newDomain.getName()));
        domain.setName(newDomain.getName());
        domain.setDescription(newDomain.getDescription());
        domain.setEnabled(false);
        domain.setAlertEnabled(false);
        domain.setOidc(OIDCSettings.defaultSettings());
        domain.setReferenceType(ReferenceType.ENVIRONMENT);
        domain.setReferenceId(environmentId);
        domain.setCreatedAt(new Date());
        domain.setUpdatedAt(domain.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain)))));
    }
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createSystemScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain)->{
    if (principal == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(domain));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.DOMAIN_PRIMARY_OWNER, ReferenceType.DOMAIN)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the domain, owner role does not exist"))).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Domain>>toJdkFunction((role)->{
        Membership membership = new Membership();
        membership.setDomain(domain.getId());
        membership.setMemberId(principal.getId());
        membership.setMemberType(MemberType.USER);
        membership.setReferenceId(domain.getId());
        membership.setReferenceType(ReferenceType.DOMAIN);
        membership.setRoleId(role.getId());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
    }).apply(t)))));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain)->{
    Event event = new Event(Type.DOMAIN, new Payload(domain.getId(), ReferenceType.DOMAIN, domain.getId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a domain", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a domain", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((domain)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_CREATED).domain(domain).referenceType(ReferenceType.ENVIRONMENT).referenceId(environmentId)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_CREATED).referenceType(ReferenceType.ENVIRONMENT).referenceId(environmentId).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Domain>>toJdkFunction((empty)->{
    if (!empty) {
        throw new DomainAlreadyExistsException(newDomain.getName());
    } else {
        Domain domain = new Domain();
        domain.setId(RandomString.generate());
        domain.setHrid(hrid);
        domain.setPath(generateContextPath(newDomain.getName()));
        domain.setName(newDomain.getName());
        domain.setDescription(newDomain.getDescription());
        domain.setEnabled(false);
        domain.setAlertEnabled(false);
        domain.setOidc(OIDCSettings.defaultSettings());
        domain.setReferenceType(ReferenceType.ENVIRONMENT);
        domain.setReferenceId(environmentId);
        domain.setCreatedAt(new Date());
        domain.setUpdatedAt(domain.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain)))));
    }
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createSystemScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain)->{
    if (principal == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(domain));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.DOMAIN_PRIMARY_OWNER, ReferenceType.DOMAIN)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the domain, owner role does not exist"))).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Domain>>toJdkFunction((role)->{
        Membership membership = new Membership();
        membership.setDomain(domain.getId());
        membership.setMemberId(principal.getId());
        membership.setMemberType(MemberType.USER);
        membership.setReferenceId(domain.getId());
        membership.setReferenceType(ReferenceType.DOMAIN);
        membership.setRoleId(role.getId());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
    }).apply(t)))));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain)->{
    Event event = new Event(Type.DOMAIN, new Payload(domain.getId(), ReferenceType.DOMAIN, domain.getId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a domain", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a domain", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((domain)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_CREATED).domain(domain).referenceType(ReferenceType.ENVIRONMENT).referenceId(environmentId)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Domain>>toJdkFunction((empty)->{
    if (!empty) {
        throw new DomainAlreadyExistsException(newDomain.getName());
    } else {
        Domain domain = new Domain();
        domain.setId(RandomString.generate());
        domain.setHrid(hrid);
        domain.setPath(generateContextPath(newDomain.getName()));
        domain.setName(newDomain.getName());
        domain.setDescription(newDomain.getDescription());
        domain.setEnabled(false);
        domain.setAlertEnabled(false);
        domain.setOidc(OIDCSettings.defaultSettings());
        domain.setReferenceType(ReferenceType.ENVIRONMENT);
        domain.setReferenceId(environmentId);
        domain.setCreatedAt(new Date());
        domain.setUpdatedAt(domain.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain)))));
    }
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createSystemScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain)->{
    if (principal == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(domain));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.DOMAIN_PRIMARY_OWNER, ReferenceType.DOMAIN)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the domain, owner role does not exist"))).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Domain>>toJdkFunction((role)->{
        Membership membership = new Membership();
        membership.setDomain(domain.getId());
        membership.setMemberId(principal.getId());
        membership.setMemberType(MemberType.USER);
        membership.setReferenceId(domain.getId());
        membership.setReferenceType(ReferenceType.DOMAIN);
        membership.setRoleId(role.getId());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
    }).apply(t)))));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain)->{
    Event event = new Event(Type.DOMAIN, new Payload(domain.getId(), ReferenceType.DOMAIN, domain.getId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Domain>>toJdkFunction((empty)->{
    if (!empty) {
        throw new DomainAlreadyExistsException(newDomain.getName());
    } else {
        Domain domain = new Domain();
        domain.setId(RandomString.generate());
        domain.setHrid(hrid);
        domain.setPath(generateContextPath(newDomain.getName()));
        domain.setName(newDomain.getName());
        domain.setDescription(newDomain.getDescription());
        domain.setEnabled(false);
        domain.setAlertEnabled(false);
        domain.setOidc(OIDCSettings.defaultSettings());
        domain.setReferenceType(ReferenceType.ENVIRONMENT);
        domain.setReferenceId(environmentId);
        domain.setCreatedAt(new Date());
        domain.setUpdatedAt(domain.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain)))));
    }
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createSystemScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createDefaultCertificate).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain)->{
    if (principal == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(domain));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.DOMAIN_PRIMARY_OWNER, ReferenceType.DOMAIN)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the domain, owner role does not exist"))).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Domain>>toJdkFunction((role)->{
        Membership membership = new Membership();
        membership.setDomain(domain.getId());
        membership.setMemberId(principal.getId());
        membership.setMemberType(MemberType.USER);
        membership.setReferenceId(domain.getId());
        membership.setReferenceType(ReferenceType.DOMAIN);
        membership.setRoleId(role.getId());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
    }).apply(t)))));
}).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Domain>>toJdkFunction((empty)->{
    if (!empty) {
        throw new DomainAlreadyExistsException(newDomain.getName());
    } else {
        Domain domain = new Domain();
        domain.setId(RandomString.generate());
        domain.setHrid(hrid);
        domain.setPath(generateContextPath(newDomain.getName()));
        domain.setName(newDomain.getName());
        domain.setDescription(newDomain.getDescription());
        domain.setEnabled(false);
        domain.setAlertEnabled(false);
        domain.setOidc(OIDCSettings.defaultSettings());
        domain.setReferenceType(ReferenceType.ENVIRONMENT);
        domain.setReferenceId(environmentId);
        domain.setCreatedAt(new Date());
        domain.setUpdatedAt(domain.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain)))));
    }
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createSystemScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createDefaultCertificate).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Domain>>toJdkFunction((empty)->{
    if (!empty) {
        throw new DomainAlreadyExistsException(newDomain.getName());
    } else {
        Domain domain = new Domain();
        domain.setId(RandomString.generate());
        domain.setHrid(hrid);
        domain.setPath(generateContextPath(newDomain.getName()));
        domain.setName(newDomain.getName());
        domain.setDescription(newDomain.getDescription());
        domain.setEnabled(false);
        domain.setAlertEnabled(false);
        domain.setOidc(OIDCSettings.defaultSettings());
        domain.setReferenceType(ReferenceType.ENVIRONMENT);
        domain.setReferenceId(environmentId);
        domain.setCreatedAt(new Date());
        domain.setUpdatedAt(domain.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain)))));
    }
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction(this::createSystemScopes).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<Domain>>toJdkFunction((empty)->{
    if (!empty) {
        throw new DomainAlreadyExistsException(newDomain.getName());
    } else {
        Domain domain = new Domain();
        domain.setId(RandomString.generate());
        domain.setHrid(hrid);
        domain.setPath(generateContextPath(newDomain.getName()));
        domain.setName(newDomain.getName());
        domain.setDescription(newDomain.getDescription());
        domain.setEnabled(false);
        domain.setAlertEnabled(false);
        domain.setOidc(OIDCSettings.defaultSettings());
        domain.setReferenceType(ReferenceType.ENVIRONMENT);
        domain.setReferenceId(environmentId);
        domain.setCreatedAt(new Date());
        domain.setUpdatedAt(domain.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain)))));
    }
}).apply(v)))).flatMap
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(ReferenceType.ENVIRONMENT, environmentId, hrid)).hasElement().flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((environment)->setDeployMode(domain, environment))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(y)))).then().then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.create(domain))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domain))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.DOMAIN_PRIMARY_OWNER, ReferenceType.DOMAIN)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the domain, owner role does not exist"))).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Domain>>toJdkFunction((role)->{
    Membership membership = new Membership();
    membership.setDomain(domain.getId());
    membership.setMemberId(principal.getId());
    membership.setMemberType(MemberType.USER);
    membership.setReferenceId(domain.getId());
    membership.setReferenceType(ReferenceType.DOMAIN);
    membership.setRoleId(role.getId());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)));
}).apply(t)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.DOMAIN_PRIMARY_OWNER, ReferenceType.DOMAIN)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the domain, owner role does not exist"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.DOMAIN_PRIMARY_OWNER, ReferenceType.DOMAIN)).switchIfEmpty(Mono.error(new InvalidRoleException("Cannot assign owner to the domain, owner role does not exist")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership)).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->domain)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(domain)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a domain", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))).flatMapSingle((__)->{
    domain.setHrid(IdGenerator.generate(domain.getName()));
    domain.setUpdatedAt(new Date());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(validateDomain(domain)).then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.update(domain)))));
})).flatMap((v)->RxJava2Adapter.singleToMono((Single<Domain>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Domain, Single<Domain>>)(domain1)->{
    Event event = new Event(Type.DOMAIN, new Payload(domain1.getId(), ReferenceType.DOMAIN, domain1.getId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain1)));
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(validateDomain(domain)).then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.update(domain)))))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(validateDomain(domain)).then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.update(domain))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(domain1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a domain", ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidParameterException("Unexpected forgot password field")))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(validateDomain(toPatch)).then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.update(toPatch)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain1)->{
    Event event = new Event(Type.DOMAIN, new Payload(domain1.getId(), ReferenceType.DOMAIN, domain1.getId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((domain1)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_UPDATED).oldValue(oldDomain).domain(domain1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.completableToMono(validateDomain(toPatch)).then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.update(toPatch)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain1)->{
    Event event = new Event(Type.DOMAIN, new Payload(domain1.getId(), ReferenceType.DOMAIN, domain1.getId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((domain1)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_UPDATED).oldValue(oldDomain).domain(domain1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(validateDomain(toPatch)).then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.update(toPatch)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Domain, SingleSource<Domain>>toJdkFunction((domain1)->{
    Event event = new Event(Type.DOMAIN, new Payload(domain1.getId(), ReferenceType.DOMAIN, domain1.getId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain1)));
}).apply(v)))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(validateDomain(toPatch)).then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.update(toPatch)))).flatMap
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(validateDomain(toPatch)).then(Mono.defer(()->RxJava2Adapter.singleToMono(domainRepository.update(toPatch))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(domain1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(domain1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to patch a domain", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Domain, CompletableSource>)(domain)->{
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
        List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
        return Completable.concat(deleteApplicationsCompletable);
    }).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
        List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
        return Completable.concat(deleteRolesCompletable);
    }).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
        List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
        return Completable.concat(deleteScopesCompletable);
    }).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
        List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
        return Completable.concat(deletedResourceCompletable);
    }).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertNotifier, CompletableSource>toJdkFunction((alertNotifier)->alertNotifierService.delete(alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), alertNotifier.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.completableToMono(domainRepository.delete(domainId))).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.DOMAIN, new Payload(domainId, ReferenceType.DOMAIN, domainId, Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_DELETED).domain(domain)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Domain, CompletableSource>)(domain)->{
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
        List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
        return Completable.concat(deleteApplicationsCompletable);
    }).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
        List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
        return Completable.concat(deleteRolesCompletable);
    }).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
        List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
        return Completable.concat(deleteScopesCompletable);
    }).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
        List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
        return Completable.concat(deletedResourceCompletable);
    }).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertNotifier, CompletableSource>toJdkFunction((alertNotifier)->alertNotifierService.delete(alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), alertNotifier.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.completableToMono(domainRepository.delete(domainId))).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.DOMAIN, new Payload(domainId, ReferenceType.DOMAIN, domainId, Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_DELETED).domain(domain)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertNotifier, CompletableSource>toJdkFunction((alertNotifier)->alertNotifierService.delete(alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), alertNotifier.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.completableToMono(domainRepository.delete(domainId))).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.DOMAIN, new Payload(domainId, ReferenceType.DOMAIN, domainId, Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_DELETED).domain(domain)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(DomainAuditBuilder.class).principal(principal).type(EventType.DOMAIN_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertNotifier, CompletableSource>toJdkFunction((alertNotifier)->alertNotifierService.delete(alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), alertNotifier.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.completableToMono(domainRepository.delete(domainId))).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.DOMAIN, new Payload(domainId, ReferenceType.DOMAIN, domainId, Action.DELETE)))))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertNotifier, CompletableSource>toJdkFunction((alertNotifier)->alertNotifierService.delete(alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), alertNotifier.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.completableToMono(domainRepository.delete(domainId))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertNotifier, CompletableSource>toJdkFunction((alertNotifier)->alertNotifierService.delete(alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), alertNotifier.getId(), principal)).apply(a)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(applicationService.findByDomain(domainId)).flatMap((u)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Application>, CompletableSource>toJdkFunction((applications)->{
    List<Completable> deleteApplicationsCompletable = applications.stream().map((a)->applicationService.delete(a.getId())).collect(Collectors.toList());
    return Completable.concat(deleteApplicationsCompletable);
}).apply(u)))).then(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Certificate, CompletableSource>toJdkFunction((certificate)->certificateService.delete(certificate.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<IdentityProvider, CompletableSource>toJdkFunction((identityProvider)->identityProviderService.delete(domainId, identityProvider.getId())).apply(b)))).then()).then(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, CompletableSource>toJdkFunction((extensionGrant)->extensionGrantService.delete(domainId, extensionGrant.getId())).apply(a)))).then()).then(RxJava2Adapter.singleToMono(roleService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Role>, CompletableSource>toJdkFunction((roles)->{
    List<Completable> deleteRolesCompletable = roles.stream().map((r)->roleService.delete(ReferenceType.DOMAIN, domainId, r.getId())).collect(Collectors.toList());
    return Completable.concat(deleteRolesCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(userService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, CompletableSource>toJdkFunction((user)->userService.delete(user.getId())).apply(h)))).then()).then(RxJava2Adapter.flowableToFlux(groupService.findByDomain(domainId)).flatMap((h)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Group, CompletableSource>toJdkFunction((group)->groupService.delete(ReferenceType.DOMAIN, domainId, group.getId())).apply(h)))).then()).then(RxJava2Adapter.singleToMono(scopeService.findByDomain(domainId, 0, Integer.MAX_VALUE)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.oauth2.Scope>, CompletableSource>toJdkFunction((scopes)->{
    List<Completable> deleteScopesCompletable = scopes.getData().stream().map((s)->scopeService.delete(s.getId(), true)).collect(Collectors.toList());
    return Completable.concat(deleteScopesCompletable);
}).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll(ReferenceType.DOMAIN, domainId)).flatMap((g)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Email, CompletableSource>toJdkFunction((emailTemplate)->emailTemplateService.delete(emailTemplate.getId())).apply(g)))).then()).then(RxJava2Adapter.flowableToFlux(formService.findByDomain(domainId)).flatMap((e)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Form, CompletableSource>toJdkFunction((formTemplate)->formService.delete(domainId, formTemplate.getId())).apply(e)))).then()).then(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Reporter, CompletableSource>toJdkFunction((reporter)->reporterService.delete(reporter.getId())).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domainId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->f.getId() != null)).flatMap((d)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Flow, CompletableSource>toJdkFunction((flows)->flowService.delete(flows.getId())).apply(d)))).then()).then(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domainId, ReferenceType.DOMAIN)).flatMap((c)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((membership)->membershipService.delete(membership.getId())).apply(c)))).then()).then(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domainId)).flatMap((b)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Factor, CompletableSource>toJdkFunction((factor)->factorService.delete(domainId, factor.getId())).apply(b)))).then()).then(RxJava2Adapter.singleToMono(resourceService.findByDomain(domainId)).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Set<Resource>, CompletableSource>toJdkFunction((resources)->{
    List<Completable> deletedResourceCompletable = resources.stream().map(resourceService::delete).collect(Collectors.toList());
    return Completable.concat(deletedResourceCompletable);
}).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertTrigger, CompletableSource>toJdkFunction((alertTrigger)->alertTriggerService.delete(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertTrigger.getId(), principal)).apply(a)))).then()).then(RxJava2Adapter.flowableToFlux(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertNotifier, CompletableSource>toJdkFunction((alertNotifier)->alertNotifierService.delete(alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), alertNotifier.getId(), principal)).apply(a)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).flatMap((a)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<AlertNotifier, CompletableSource>toJdkFunction((alertNotifier)->alertNotifierService.delete(alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), alertNotifier.getId(), principal)).apply(a)))).then
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException("An error occurs while trying to delete security domain " + domainId, ex)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromArray(Scope.values()).flatMapSingle((systemScope)->{
    final String scopeKey = systemScope.getKey();
    NewSystemScope scope = new NewSystemScope();
    scope.setKey(scopeKey);
    scope.setClaims(systemScope.getClaims());
    scope.setName(systemScope.getLabel());
    scope.setDescription(systemScope.getDescription());
    scope.setDiscovery(systemScope.isDiscovery());
    return scopeService.create(domain.getId(), scope);
}).lastOrError()).map(RxJavaReactorMigrationUtil.toJdkFunction((scope)->domain)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(certificateService.create(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((certificate)->domain)))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidDomainException("Domain must be attached to an environment")))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(domainRepository.findByHrid(domain.getReferenceType(), domain.getReferenceId(), domain.getHrid())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<Domain>, CompletableSource>)(optDomain)->{
    if (optDomain.isPresent() && !optDomain.get().getId().equals(domain.getId())) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new DomainAlreadyExistsException(domain.getName())));
    } else {
        return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(z)))).then());
    }
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(domain.getReferenceType(), domain.getReferenceId(), domain.getHrid())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<Domain>, CompletableSource>)(optDomain)->{
    if (optDomain.isPresent() && !optDomain.get().getId().equals(domain.getId())) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new DomainAlreadyExistsException(domain.getName())));
    } else {
        return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(z)))).then());
    }
}).apply(y)))).then
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(domain.getReferenceType(), domain.getReferenceId(), domain.getHrid())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainRepository.findByHrid(domain.getReferenceType(), domain.getReferenceId(), domain.getHrid())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new DomainAlreadyExistsException(domain.getName())))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(z)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Environment, CompletableSource>toJdkFunction((environment)->validateDomain(domain, environment)).apply(z)))).then
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(DomainValidator.validate(domain, environment.getDomainRestrictions())).then(RxJava2Adapter.singleToMono(findAll()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Domain>, CompletableSource>toJdkFunction((domains)->VirtualHostValidator.validateDomainVhosts(domain, domains)).apply(y)))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(DomainValidator.validate(domain, environment.getDomainRestrictions())).then(RxJava2Adapter.singleToMono(findAll()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Domain>, CompletableSource>toJdkFunction((domains)->VirtualHostValidator.validateDomainVhosts(domain, domains)).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findAll()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Domain>, CompletableSource>toJdkFunction((domains)->VirtualHostValidator.validateDomainVhosts(domain, domains)).apply(y)))).then
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.merge(findAllSystem(assignableType), roleRepository.findAll(referenceType, referenceId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role)->assignableType == null || assignableType == role.getAssignableType())).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find roles by {}: {} assignable to {}", referenceType, referenceId, assignableType, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find roles by %s %s assignable to %s", referenceType, referenceId, assignableType), ex)));
})))
1 | Flux | filter | METHOD_INVOCATION | Flux.merge(findAllSystem(assignableType), roleRepository.findAll(referenceType, referenceId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role)->assignableType == null || assignableType == role.getAssignableType())).onErrorResume
1 | Flux | merge | METHOD_INVOCATION | Flux.merge(findAllSystem(assignableType), roleRepository.findAll(referenceType, referenceId)).filter
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find roles by %s %s assignable to %s", referenceType, referenceId, assignableType), ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleRepository.findById(referenceType, referenceId, id).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to find a role using its ID: {}", id, ex);
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a role using its ID: %s", id), ex)));
})).switchIfEmpty(Mono.error(new RoleNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a role using its ID: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findById(referenceType, referenceId, id).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to find a role using its ID: {}", id, ex);
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a role using its ID: %s", id), ex)));
})).switchIfEmpty(Mono.error(new RoleNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a role using its ID: %s", id), ex)))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(roleRepository.findByNameAndAssignableType(ReferenceType.PLATFORM, Platform.DEFAULT, systemRole.name(), assignableType)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Role::isSystem)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find system role : %s for type : %s", systemRole.name(), assignableType), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(roleRepository.findByNamesAndAssignableType(referenceType, referenceId, roleNames, assignableType)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    String joinedRoles = roleNames.stream().collect(Collectors.joining(", "));
    LOGGER.error("An error occurs while trying to find roles : {}", joinedRoles, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find roles : %s", joinedRoles), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find roles : %s", joinedRoles), ex)))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(roleRepository.findByNameAndAssignableType(ReferenceType.ORGANIZATION, organizationId, defaultRole.name(), assignableType)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Role::isDefaultRole)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find default role %s of organization %s for type %s", defaultRole.name(), organizationId, assignableType), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to find roles by ids", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkRoleUniqueness(newRole.getName(), roleId, referenceType, referenceId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Role>, SingleSource<Role>>toJdkFunction((__)->{
    Role role = new Role();
    role.setId(roleId);
    role.setReferenceType(referenceType);
    role.setReferenceId(referenceId);
    role.setName(newRole.getName());
    role.setDescription(newRole.getDescription());
    role.setAssignableType(newRole.getAssignableType());
    role.setPermissionAcls(new HashMap<>());
    role.setOauthScopes(new ArrayList<>());
    role.setCreatedAt(new Date());
    role.setUpdatedAt(role.getCreatedAt());
    return roleRepository.create(role);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
    Event event = new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a role", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a role", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_CREATED).role(role)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkRoleUniqueness(newRole.getName(), roleId, referenceType, referenceId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Role>, SingleSource<Role>>toJdkFunction((__)->{
    Role role = new Role();
    role.setId(roleId);
    role.setReferenceType(referenceType);
    role.setReferenceId(referenceId);
    role.setName(newRole.getName());
    role.setDescription(newRole.getDescription());
    role.setAssignableType(newRole.getAssignableType());
    role.setPermissionAcls(new HashMap<>());
    role.setOauthScopes(new ArrayList<>());
    role.setCreatedAt(new Date());
    role.setUpdatedAt(role.getCreatedAt());
    return roleRepository.create(role);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
    Event event = new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a role", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a role", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_CREATED).role(role)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkRoleUniqueness(newRole.getName(), roleId, referenceType, referenceId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Role>, SingleSource<Role>>toJdkFunction((__)->{
    Role role = new Role();
    role.setId(roleId);
    role.setReferenceType(referenceType);
    role.setReferenceId(referenceId);
    role.setName(newRole.getName());
    role.setDescription(newRole.getDescription());
    role.setAssignableType(newRole.getAssignableType());
    role.setPermissionAcls(new HashMap<>());
    role.setOauthScopes(new ArrayList<>());
    role.setCreatedAt(new Date());
    role.setUpdatedAt(role.getCreatedAt());
    return roleRepository.create(role);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
    Event event = new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(checkRoleUniqueness(newRole.getName(), roleId, referenceType, referenceId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Role>, SingleSource<Role>>toJdkFunction((__)->{
    Role role = new Role();
    role.setId(roleId);
    role.setReferenceType(referenceType);
    role.setReferenceId(referenceId);
    role.setName(newRole.getName());
    role.setDescription(newRole.getDescription());
    role.setAssignableType(newRole.getAssignableType());
    role.setPermissionAcls(new HashMap<>());
    role.setOauthScopes(new ArrayList<>());
    role.setCreatedAt(new Date());
    role.setUpdatedAt(role.getCreatedAt());
    return roleRepository.create(role);
}).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(role)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a role", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findById(referenceType, referenceId, id)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
    if (role.isSystem()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new SystemRoleUpdateException(role.getName())));
    }
    if (role.isDefaultRole() && !role.getName().equals(updateRole.getName())) {
        return RxJava2Adapter.monoToSingle(Mono.error(new DefaultRoleUpdateException(role.getName())));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(role));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Role>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Role, Single<Role>>)(oldRole)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkRoleUniqueness(updateRole.getName(), oldRole.getId(), referenceType, referenceId)).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Role>, SingleSource<Role>>toJdkFunction((irrelevant)->{
        Role roleToUpdate = new Role(oldRole);
        roleToUpdate.setName(updateRole.getName());
        roleToUpdate.setDescription(updateRole.getDescription());
        roleToUpdate.setPermissionAcls(Permission.unflatten(updateRole.getPermissions()));
        roleToUpdate.setOauthScopes(updateRole.getOauthScopes());
        roleToUpdate.setUpdatedAt(new Date());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.update(roleToUpdate)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
            Event event = new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.UPDATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)));
        }).apply(x)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_UPDATED).oldValue(oldRole).role(role)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_UPDATED).throwable(throwable)))));
    }).apply(t)))));
}).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findById(referenceType, referenceId, id)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
    if (role.isSystem()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new SystemRoleUpdateException(role.getName())));
    }
    if (role.isDefaultRole() && !role.getName().equals(updateRole.getName())) {
        return RxJava2Adapter.monoToSingle(Mono.error(new DefaultRoleUpdateException(role.getName())));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(role));
}).apply(v)))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new SystemRoleUpdateException(role.getName())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new DefaultRoleUpdateException(role.getName())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(role))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(checkRoleUniqueness(updateRole.getName(), oldRole.getId(), referenceType, referenceId)).flatMap((t)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Role>, SingleSource<Role>>toJdkFunction((irrelevant)->{
    Role roleToUpdate = new Role(oldRole);
    roleToUpdate.setName(updateRole.getName());
    roleToUpdate.setDescription(updateRole.getDescription());
    roleToUpdate.setPermissionAcls(Permission.unflatten(updateRole.getPermissions()));
    roleToUpdate.setOauthScopes(updateRole.getOauthScopes());
    roleToUpdate.setUpdatedAt(new Date());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.update(roleToUpdate)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
        Event event = new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.UPDATE));
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)));
    }).apply(x)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_UPDATED).oldValue(oldRole).role(role)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_UPDATED).throwable(throwable)))));
}).apply(t)))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.update(roleToUpdate)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
    Event event = new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)));
}).apply(x)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_UPDATED).oldValue(oldRole).role(role)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleRepository.update(roleToUpdate)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
    Event event = new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)));
}).apply(x)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_UPDATED).oldValue(oldRole).role(role)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleRepository.update(roleToUpdate)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role)->{
    Event event = new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)));
}).apply(x)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(role)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a role", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(roleRepository.findById(referenceType, referenceId, roleId)).switchIfEmpty(Mono.error(new RoleNotFoundException(roleId))).map(RxJavaReactorMigrationUtil.toJdkFunction((role)->{
    if (role.isSystem()) {
        throw new SystemRoleDeleteException(roleId);
    }
    return role;
})).flatMap((role)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(roleRepository.delete(roleId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_DELETED).role(role)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_DELETED).throwable(throwable))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findById(referenceType, referenceId, roleId)).switchIfEmpty(Mono.error(new RoleNotFoundException(roleId))).map(RxJavaReactorMigrationUtil.toJdkFunction((role)->{
    if (role.isSystem()) {
        throw new SystemRoleDeleteException(roleId);
    }
    return role;
})).flatMap((role)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(roleRepository.delete(roleId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_DELETED).role(role)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_DELETED).throwable(throwable))))).then
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findById(referenceType, referenceId, roleId)).switchIfEmpty(Mono.error(new RoleNotFoundException(roleId))).map(RxJavaReactorMigrationUtil.toJdkFunction((role)->{
    if (role.isSystem()) {
        throw new SystemRoleDeleteException(roleId);
    }
    return role;
})).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findById(referenceType, referenceId, roleId)).switchIfEmpty(Mono.error(new RoleNotFoundException(roleId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findById(referenceType, referenceId, roleId)).switchIfEmpty(Mono.error(new RoleNotFoundException(roleId)))
1 | Mono | doOnError | METHOD_INVOCATION | (role)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(roleRepository.delete(roleId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_DELETED).role(role)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).principal(principal).type(EventType.ROLE_DELETED).throwable(throwable))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(roleRepository.delete(roleId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.ROLE, new Payload(role.getId(), role.getReferenceType(), role.getReferenceId(), Action.DELETE)))))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete role: %s", roleId), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(roleRepository.findByNameAndAssignableType(role.getReferenceType(), role.getReferenceId(), role.getName(), role.getAssignableType())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<Role>, CompletableSource>)(optRole)->{
    if (!optRole.isPresent()) {
        LOGGER.debug("Create a system role {}", role.getAssignableType() + ":" + role.getName());
        role.setCreatedAt(new Date());
        role.setUpdatedAt(role.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.create(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
            Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.CREATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
        }).apply(v))))).onErrorResumeNext((ex)->{
            if (ex instanceof AbstractManagementException) {
                return RxJava2Adapter.monoToSingle(Mono.error(ex));
            }
            LOGGER.error("An error occurs while trying to create a system role {}", role.getAssignableType() + ":" + role.getName(), ex);
            return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a role", ex)));
        })).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role1)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_CREATED).role(role1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_CREATED).throwable(throwable))))).toCompletable();
    } else {
        Role currentRole = optRole.get();
        if (permissionsAreEquals(currentRole, role)) {
            return RxJava2Adapter.monoToCompletable(Mono.empty());
        }
        LOGGER.debug("Update a system role {}", role.getAssignableType() + ":" + role.getName());
        role.setId(currentRole.getId());
        role.setPermissionAcls(role.getPermissionAcls());
        role.setUpdatedAt(new Date());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.update(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
            Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.UPDATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
        }).apply(v))))).onErrorResumeNext((ex)->{
            if (ex instanceof AbstractManagementException) {
                return RxJava2Adapter.monoToSingle(Mono.error(ex));
            }
            LOGGER.error("An error occurs while trying to update a system role {}", role.getAssignableType() + ":" + role.getName(), ex);
            return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a role", ex)));
        })).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role1)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_UPDATED).oldValue(currentRole).role(role1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_UPDATED).throwable(throwable))))).toCompletable();
    }
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findByNameAndAssignableType(role.getReferenceType(), role.getReferenceId(), role.getName(), role.getAssignableType())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<Role>, CompletableSource>)(optRole)->{
    if (!optRole.isPresent()) {
        LOGGER.debug("Create a system role {}", role.getAssignableType() + ":" + role.getName());
        role.setCreatedAt(new Date());
        role.setUpdatedAt(role.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.create(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
            Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.CREATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
        }).apply(v))))).onErrorResumeNext((ex)->{
            if (ex instanceof AbstractManagementException) {
                return RxJava2Adapter.monoToSingle(Mono.error(ex));
            }
            LOGGER.error("An error occurs while trying to create a system role {}", role.getAssignableType() + ":" + role.getName(), ex);
            return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a role", ex)));
        })).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role1)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_CREATED).role(role1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_CREATED).throwable(throwable))))).toCompletable();
    } else {
        Role currentRole = optRole.get();
        if (permissionsAreEquals(currentRole, role)) {
            return RxJava2Adapter.monoToCompletable(Mono.empty());
        }
        LOGGER.debug("Update a system role {}", role.getAssignableType() + ":" + role.getName());
        role.setId(currentRole.getId());
        role.setPermissionAcls(role.getPermissionAcls());
        role.setUpdatedAt(new Date());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.update(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
            Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.UPDATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
        }).apply(v))))).onErrorResumeNext((ex)->{
            if (ex instanceof AbstractManagementException) {
                return RxJava2Adapter.monoToSingle(Mono.error(ex));
            }
            LOGGER.error("An error occurs while trying to update a system role {}", role.getAssignableType() + ":" + role.getName(), ex);
            return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a role", ex)));
        })).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role1)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_UPDATED).oldValue(currentRole).role(role1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_UPDATED).throwable(throwable))))).toCompletable();
    }
}).apply(y)))).then
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findByNameAndAssignableType(role.getReferenceType(), role.getReferenceId(), role.getName(), role.getAssignableType())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(roleRepository.findByNameAndAssignableType(role.getReferenceType(), role.getReferenceId(), role.getName(), role.getAssignableType())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.create(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
    Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a system role {}", role.getAssignableType() + ":" + role.getName(), ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a role", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role1)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_CREATED).role(role1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.create(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
    Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a system role {}", role.getAssignableType() + ":" + role.getName(), ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a role", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role1)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_CREATED).role(role1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.create(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
    Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(role1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a role", ex)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.update(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
    Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to update a system role {}", role.getAssignableType() + ":" + role.getName(), ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a role", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role1)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_UPDATED).oldValue(currentRole).role(role1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.update(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
    Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to update a system role {}", role.getAssignableType() + ":" + role.getName(), ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a role", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((role1)->auditService.report(AuditBuilder.builder(RoleAuditBuilder.class).type(EventType.ROLE_UPDATED).oldValue(currentRole).role(role1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.update(role)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Role, SingleSource<Role>>toJdkFunction((role1)->{
    Event event = new Event(Type.ROLE, new Payload(role1.getId(), role1.getReferenceType(), role1.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(role1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(role1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a role", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleRepository.findAll(referenceType, referenceId).collect(HashSet<Role>::new, Set::add)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Set<Role>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<HashSet<Role>, Single<Set<Role>>>)(roles)->{
    if (roles.stream().filter((role)->!role.getId().equals(roleId)).anyMatch((role)->role.getName().equals(roleName))) {
        throw new RoleAlreadyExistsException(roleName);
    }
    return RxJava2Adapter.monoToSingle(Mono.just(roles));
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(roles))
1 | Flux | RETURN_TYPE
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(roleRepository.findAll(ReferenceType.PLATFORM, Platform.DEFAULT)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role)->role.isSystem() && !role.isInternalOnly())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role)->assignableType == null || role.getAssignableType() == assignableType)))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleRepository.findAll(ReferenceType.PLATFORM, Platform.DEFAULT)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role)->role.isSystem() && !role.isInternalOnly())).filter
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find an extension grant using its ID: %s", id), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(extensionGrantRepository.findByDomain(domain)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find extension grants by domain", ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find extension grants by domain", ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to find extension grants by domain", ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, newExtensionGrant.getName())).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<ExtensionGrant>>toJdkFunction((empty)->{
    if (!empty) {
        throw new ExtensionGrantAlreadyExistsException(newExtensionGrant.getName());
    } else {
        String extensionGrantId = RandomString.generate();
        ExtensionGrant extensionGrant = new ExtensionGrant();
        extensionGrant.setId(extensionGrantId);
        extensionGrant.setDomain(domain);
        extensionGrant.setName(newExtensionGrant.getName());
        extensionGrant.setGrantType(newExtensionGrant.getGrantType());
        extensionGrant.setIdentityProvider(newExtensionGrant.getIdentityProvider());
        extensionGrant.setCreateUser(newExtensionGrant.isCreateUser());
        extensionGrant.setUserExists(newExtensionGrant.isUserExists());
        extensionGrant.setType(newExtensionGrant.getType());
        extensionGrant.setConfiguration(newExtensionGrant.getConfiguration());
        extensionGrant.setCreatedAt(new Date());
        extensionGrant.setUpdatedAt(extensionGrant.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantRepository.create(extensionGrant)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, SingleSource<ExtensionGrant>>toJdkFunction((extensionGrant1)->{
            Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrant1.getId(), ReferenceType.DOMAIN, extensionGrant1.getDomain(), Action.CREATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant1)));
        }).apply(x)))));
    }
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a extension grant", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a extension grant", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((extensionGrant)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_CREATED).extensionGrant(extensionGrant)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, newExtensionGrant.getName())).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<ExtensionGrant>>toJdkFunction((empty)->{
    if (!empty) {
        throw new ExtensionGrantAlreadyExistsException(newExtensionGrant.getName());
    } else {
        String extensionGrantId = RandomString.generate();
        ExtensionGrant extensionGrant = new ExtensionGrant();
        extensionGrant.setId(extensionGrantId);
        extensionGrant.setDomain(domain);
        extensionGrant.setName(newExtensionGrant.getName());
        extensionGrant.setGrantType(newExtensionGrant.getGrantType());
        extensionGrant.setIdentityProvider(newExtensionGrant.getIdentityProvider());
        extensionGrant.setCreateUser(newExtensionGrant.isCreateUser());
        extensionGrant.setUserExists(newExtensionGrant.isUserExists());
        extensionGrant.setType(newExtensionGrant.getType());
        extensionGrant.setConfiguration(newExtensionGrant.getConfiguration());
        extensionGrant.setCreatedAt(new Date());
        extensionGrant.setUpdatedAt(extensionGrant.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantRepository.create(extensionGrant)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, SingleSource<ExtensionGrant>>toJdkFunction((extensionGrant1)->{
            Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrant1.getId(), ReferenceType.DOMAIN, extensionGrant1.getDomain(), Action.CREATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant1)));
        }).apply(x)))));
    }
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.error("An error occurs while trying to create a extension grant", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a extension grant", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((extensionGrant)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_CREATED).extensionGrant(extensionGrant)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, newExtensionGrant.getName())).hasElement().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<ExtensionGrant>>toJdkFunction((empty)->{
    if (!empty) {
        throw new ExtensionGrantAlreadyExistsException(newExtensionGrant.getName());
    } else {
        String extensionGrantId = RandomString.generate();
        ExtensionGrant extensionGrant = new ExtensionGrant();
        extensionGrant.setId(extensionGrantId);
        extensionGrant.setDomain(domain);
        extensionGrant.setName(newExtensionGrant.getName());
        extensionGrant.setGrantType(newExtensionGrant.getGrantType());
        extensionGrant.setIdentityProvider(newExtensionGrant.getIdentityProvider());
        extensionGrant.setCreateUser(newExtensionGrant.isCreateUser());
        extensionGrant.setUserExists(newExtensionGrant.isUserExists());
        extensionGrant.setType(newExtensionGrant.getType());
        extensionGrant.setConfiguration(newExtensionGrant.getConfiguration());
        extensionGrant.setCreatedAt(new Date());
        extensionGrant.setUpdatedAt(extensionGrant.getCreatedAt());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantRepository.create(extensionGrant)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, SingleSource<ExtensionGrant>>toJdkFunction((extensionGrant1)->{
            Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrant1.getId(), ReferenceType.DOMAIN, extensionGrant1.getDomain(), Action.CREATE));
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant1)));
        }).apply(x)))));
    }
}).apply(v)))))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, newExtensionGrant.getName())).hasElement().flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantRepository.create(extensionGrant)).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, SingleSource<ExtensionGrant>>toJdkFunction((extensionGrant1)->{
    Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrant1.getId(), ReferenceType.DOMAIN, extensionGrant1.getDomain(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant1)));
}).apply(x)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(extensionGrant1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a extension grant", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantRepository.findById(id)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(id)))).flatMapSingle((tokenGranter)->RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, updateExtensionGrant.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).single().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Optional<ExtensionGrant>, SingleSource<ExtensionGrant>>toJdkFunction((existingTokenGranter)->{
    if (existingTokenGranter.isPresent() && !existingTokenGranter.get().getId().equals(id)) {
        throw new ExtensionGrantAlreadyExistsException("Extension grant with the same name already exists");
    }
    return RxJava2Adapter.monoToSingle(Mono.just(tokenGranter));
}).apply(v))))))).flatMap((v)->RxJava2Adapter.singleToMono((Single<ExtensionGrant>)RxJavaReactorMigrationUtil.toJdkFunction((Function<ExtensionGrant, Single<ExtensionGrant>>)(oldExtensionGrant)->{
    ExtensionGrant extensionGrantToUpdate = new ExtensionGrant(oldExtensionGrant);
    extensionGrantToUpdate.setName(updateExtensionGrant.getName());
    extensionGrantToUpdate.setGrantType(updateExtensionGrant.getGrantType() != null ? updateExtensionGrant.getGrantType() : oldExtensionGrant.getGrantType());
    extensionGrantToUpdate.setIdentityProvider(updateExtensionGrant.getIdentityProvider());
    extensionGrantToUpdate.setCreateUser(updateExtensionGrant.isCreateUser());
    extensionGrantToUpdate.setUserExists(updateExtensionGrant.isUserExists());
    extensionGrantToUpdate.setConfiguration(updateExtensionGrant.getConfiguration());
    extensionGrantToUpdate.setUpdatedAt(new Date());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantRepository.update(extensionGrantToUpdate)).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, SingleSource<ExtensionGrant>>toJdkFunction((extensionGrant)->{
        Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrant.getId(), ReferenceType.DOMAIN, extensionGrant.getDomain(), Action.UPDATE));
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant)));
    }).apply(z)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((extensionGrant)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_UPDATED).oldValue(oldExtensionGrant).extensionGrant(extensionGrant)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_UPDATED).throwable(throwable)))));
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantRepository.findById(id)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantRepository.findById(id)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(id)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, updateExtensionGrant.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).single().flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Optional<ExtensionGrant>, SingleSource<ExtensionGrant>>toJdkFunction((existingTokenGranter)->{
    if (existingTokenGranter.isPresent() && !existingTokenGranter.get().getId().equals(id)) {
        throw new ExtensionGrantAlreadyExistsException("Extension grant with the same name already exists");
    }
    return RxJava2Adapter.monoToSingle(Mono.just(tokenGranter));
}).apply(v)))))
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, updateExtensionGrant.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).single().flatMap
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, updateExtensionGrant.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantRepository.findByDomainAndName(domain, updateExtensionGrant.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tokenGranter))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantRepository.update(extensionGrantToUpdate)).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, SingleSource<ExtensionGrant>>toJdkFunction((extensionGrant)->{
    Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrant.getId(), ReferenceType.DOMAIN, extensionGrant.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant)));
}).apply(z)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((extensionGrant)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_UPDATED).oldValue(oldExtensionGrant).extensionGrant(extensionGrant)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(extensionGrantRepository.update(extensionGrantToUpdate)).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, SingleSource<ExtensionGrant>>toJdkFunction((extensionGrant)->{
    Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrant.getId(), ReferenceType.DOMAIN, extensionGrant.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant)));
}).apply(z)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((extensionGrant)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_UPDATED).oldValue(oldExtensionGrant).extensionGrant(extensionGrant)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(extensionGrantRepository.update(extensionGrantToUpdate)).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ExtensionGrant, SingleSource<ExtensionGrant>>toJdkFunction((extensionGrant)->{
    Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrant.getId(), ReferenceType.DOMAIN, extensionGrant.getDomain(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant)));
}).apply(z)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(extensionGrant)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(extensionGrant)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a extension grant", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantRepository.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(extensionGrantId)))).flatMapSingle((extensionGrant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByDomainAndExtensionGrant(domain, extensionGrant.getGrantType() + "~" + extensionGrant.getId())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Application>, SingleSource<ExtensionGrant>>toJdkFunction((applications)->{
    if (applications.size() > 0) {
        throw new ExtensionGrantWithApplicationsException();
    }
    return Single.zip(applicationService.findByDomainAndExtensionGrant(domain, extensionGrant.getGrantType()), RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(findByDomain(domain)).collectList()), (clients1,extensionGrants)->{
        if (clients1.size() == 0) {
            return extensionGrant;
        }
        Date minDate = Collections.min(extensionGrants.stream().map(ExtensionGrant::getCreatedAt).collect(Collectors.toList()));
        if (extensionGrant.getCreatedAt().equals(minDate)) {
            throw new ExtensionGrantWithApplicationsException();
        } else {
            return extensionGrant;
        }
    });
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<ExtensionGrant, CompletableSource>)(extensionGrant)->{
    Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrantId, ReferenceType.DOMAIN, domain, Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(extensionGrantRepository.delete(extensionGrantId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_DELETED).extensionGrant(extensionGrant)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantRepository.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(extensionGrantId)))).flatMapSingle((extensionGrant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByDomainAndExtensionGrant(domain, extensionGrant.getGrantType() + "~" + extensionGrant.getId())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Application>, SingleSource<ExtensionGrant>>toJdkFunction((applications)->{
    if (applications.size() > 0) {
        throw new ExtensionGrantWithApplicationsException();
    }
    return Single.zip(applicationService.findByDomainAndExtensionGrant(domain, extensionGrant.getGrantType()), RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(findByDomain(domain)).collectList()), (clients1,extensionGrants)->{
        if (clients1.size() == 0) {
            return extensionGrant;
        }
        Date minDate = Collections.min(extensionGrants.stream().map(ExtensionGrant::getCreatedAt).collect(Collectors.toList()));
        if (extensionGrant.getCreatedAt().equals(minDate)) {
            throw new ExtensionGrantWithApplicationsException();
        } else {
            return extensionGrant;
        }
    });
}).apply(v))))))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<ExtensionGrant, CompletableSource>)(extensionGrant)->{
    Event event = new Event(Type.EXTENSION_GRANT, new Payload(extensionGrantId, ReferenceType.DOMAIN, domain, Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(extensionGrantRepository.delete(extensionGrantId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_DELETED).extensionGrant(extensionGrant)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantRepository.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(extensionGrantId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantRepository.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(extensionGrantId)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.findByDomainAndExtensionGrant(domain, extensionGrant.getGrantType() + "~" + extensionGrant.getId())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Set<Application>, SingleSource<ExtensionGrant>>toJdkFunction((applications)->{
    if (applications.size() > 0) {
        throw new ExtensionGrantWithApplicationsException();
    }
    return Single.zip(applicationService.findByDomainAndExtensionGrant(domain, extensionGrant.getGrantType()), RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(findByDomain(domain)).collectList()), (clients1,extensionGrants)->{
        if (clients1.size() == 0) {
            return extensionGrant;
        }
        Date minDate = Collections.min(extensionGrants.stream().map(ExtensionGrant::getCreatedAt).collect(Collectors.toList()));
        if (extensionGrant.getCreatedAt().equals(minDate)) {
            throw new ExtensionGrantWithApplicationsException();
        } else {
            return extensionGrant;
        }
    });
}).apply(v)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(findByDomain(domain)).collectList())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(extensionGrantRepository.delete(extensionGrantId)).then(RxJava2Adapter.singleToMono(eventService.create(event)))).toCompletable().doOnComplete(()->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_DELETED).extensionGrant(extensionGrant)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(ExtensionGrantAuditBuilder.class).principal(principal).type(EventType.EXTENSION_GRANT_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(extensionGrantRepository.delete(extensionGrantId)).then(RxJava2Adapter.singleToMono(eventService.create(event))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete extension grant: %s", extensionGrantId), ex)))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(resourceService.findByDomainAndClientAndResources(domain, client, requestedResourcesIds)).collectList().flatMap((fetchedResourceSet)->RxJava2Adapter.singleToMono(this.validatePermissionRequest(requestedPermission, fetchedResourceSet, requestedResourcesIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.uma.PermissionRequest> permissionRequests)->{
    String userId = fetchedResourceSet.get(0).getUserId();
    PermissionTicket toCreate = new PermissionTicket();
    return toCreate.setPermissionRequest(permissionRequests).setDomain(domain).setClientId(client).setUserId(userId).setCreatedAt(new Date()).setExpireAt(new Date(System.currentTimeMillis() + umaPermissionValidity));
}))).flatMap((v)->RxJava2Adapter.singleToMono((Single<PermissionTicket>)RxJavaReactorMigrationUtil.toJdkFunction((Function<PermissionTicket, Single<PermissionTicket>>)repository::create).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findByDomainAndClientAndResources(domain, client, requestedResourcesIds)).collectList().flatMap((fetchedResourceSet)->RxJava2Adapter.singleToMono(this.validatePermissionRequest(requestedPermission, fetchedResourceSet, requestedResourcesIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.uma.PermissionRequest> permissionRequests)->{
    String userId = fetchedResourceSet.get(0).getUserId();
    PermissionTicket toCreate = new PermissionTicket();
    return toCreate.setPermissionRequest(permissionRequests).setDomain(domain).setClientId(client).setUserId(userId).setCreatedAt(new Date()).setExpireAt(new Date(System.currentTimeMillis() + umaPermissionValidity));
}))).flatMap
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findByDomainAndClientAndResources(domain, client, requestedResourcesIds)).collectList().flatMap
1 | Mono | map | METHOD_INVOCATION | (fetchedResourceSet)->RxJava2Adapter.singleToMono(this.validatePermissionRequest(requestedPermission, fetchedResourceSet, requestedResourcesIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.uma.PermissionRequest> permissionRequests)->{
    String userId = fetchedResourceSet.get(0).getUserId();
    PermissionTicket toCreate = new PermissionTicket();
    return toCreate.setPermissionRequest(permissionRequests).setDomain(domain).setClientId(client).setUserId(userId).setCreatedAt(new Date()).setExpireAt(new Date(System.currentTimeMillis() + umaPermissionValidity));
}))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(repository.findById(id)).switchIfEmpty(Mono.error(new InvalidPermissionTicketException())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(repository.findById(id)).switchIfEmpty(Mono.error(new InvalidPermissionTicketException()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(repository.delete(permissionTicket.getId())).then(Mono.just(permissionTicket)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(repository.delete(permissionTicket.getId())).then(Mono.just(permissionTicket))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(InvalidPermissionRequestException.INVALID_RESOURCE_ID))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(InvalidPermissionRequestException.INVALID_RESOURCE_OWNER))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(InvalidPermissionRequestException.INVALID_RESOURCE_ID))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(InvalidPermissionRequestException.INVALID_SCOPE_RESOURCE))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(requestedPermissions))
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(this.installationRepository.find()).switchIfEmpty(Mono.error(new InstallationNotFoundException())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.installationRepository.find()).switchIfEmpty(Mono.error(new InstallationNotFoundException()))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(this.installationRepository.find()).switchIfEmpty(RxJava2Adapter.singleToMono(createInternal())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(get()).flatMap((v)->RxJava2Adapter.singleToMono((Single<Installation>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Installation, Single<Installation>>)(installation)->{
    Installation toUpdate = new Installation(installation);
    toUpdate.setAdditionalInformation(additionalInformation);
    return updateInternal(toUpdate);
}).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getOrInitialize()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((installation)->installation.getAdditionalInformation().putAll(additionalInformation))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Installation>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Installation, Single<Installation>>)this::updateInternal).apply(v))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(getOrInitialize()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((installation)->installation.getAdditionalInformation().putAll(additionalInformation))).flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(this.installationRepository.find()).flatMap((installation)->RxJava2Adapter.completableToMono(installationRepository.delete(installation.getId()))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.installationRepository.find()).flatMap((installation)->RxJava2Adapter.completableToMono(installationRepository.delete(installation.getId()))).then
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find users by %s %s", referenceType, referenceId), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(groupRepository.findAll(referenceType, referenceId)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find groups by {} {}", referenceType, referenceId, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find users by %s %s", referenceType, referenceId), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find users by %s %s", referenceType, referenceId), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its name: %s for the %s %s", groupName, referenceType, referenceId), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(groupRepository.findByMember(memberId)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a groups using member ", memberId, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using member: %s", memberId), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using member: %s", memberId), ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(groupRepository.findById(referenceType, referenceId, id).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to find a group using its id {}", id, ex);
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a group using its id: %s", id), ex)));
})).switchIfEmpty(Mono.error(new GroupNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a group using its id: %s", id), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findById(referenceType, referenceId, id).onErrorResumeNext((ex)->{
    LOGGER.error("An error occurs while trying to find a group using its id {}", id, ex);
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a group using its id: %s", id), ex)));
})).switchIfEmpty(Mono.error(new GroupNotFoundException(id)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a group using its ID: %s", id), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findById(referenceType, referenceId, groupId)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Page<User>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Group, Single<Page<User>>>)(group)->{
    if (group.getMembers() == null || group.getMembers().isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.just(new Page<>(null, page, size)));
    } else {
        List<String> sortedMembers = group.getMembers().stream().sorted().collect(Collectors.toList());
        List<String> pagedMemberIds = sortedMembers.subList(Math.min(sortedMembers.size(), page), Math.min(sortedMembers.size(), page + size));
        CommonUserService service = (group.getReferenceType() == ReferenceType.ORGANIZATION ? organizationUserService : userService);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(service.findByIdIn(pagedMemberIds)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((users)->new Page<>(users, page, pagedMemberIds.size()))));
    }
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(null, page, size)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(service.findByIdIn(pagedMemberIds)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((users)->new Page<>(users, page, pagedMemberIds.size()))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(service.findByIdIn(pagedMemberIds)).collectList().map
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(groupRepository.findByIdIn(ids)).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a group using ids {}", ids, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a group using ids: %s", ids), ex)));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a group using ids: %s", ids), ex)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(findByName(referenceType, referenceId, newGroup.getName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new GroupAlreadyExistsException(newGroup.getName());
    } else {
        String groupId = RandomString.generate();
        Group group = new Group();
        group.setId(groupId);
        group.setReferenceType(referenceType);
        group.setReferenceId(referenceId);
        group.setName(newGroup.getName());
        group.setDescription(newGroup.getDescription());
        group.setMembers(newGroup.getMembers());
        group.setCreatedAt(new Date());
        group.setUpdatedAt(group.getCreatedAt());
        return group;
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(this::setMembers).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(groupRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group)->{
    Event event = new Event(Type.GROUP, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(group)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    } else {
        LOGGER.error("An error occurs while trying to create a group", ex);
        return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a group", ex)));
    }
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((group)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_CREATED).group(group)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(findByName(referenceType, referenceId, newGroup.getName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new GroupAlreadyExistsException(newGroup.getName());
    } else {
        String groupId = RandomString.generate();
        Group group = new Group();
        group.setId(groupId);
        group.setReferenceType(referenceType);
        group.setReferenceId(referenceId);
        group.setName(newGroup.getName());
        group.setDescription(newGroup.getDescription());
        group.setMembers(newGroup.getMembers());
        group.setCreatedAt(new Date());
        group.setUpdatedAt(group.getCreatedAt());
        return group;
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(this::setMembers).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(groupRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group)->{
    Event event = new Event(Type.GROUP, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(group)));
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    } else {
        LOGGER.error("An error occurs while trying to create a group", ex);
        return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a group", ex)));
    }
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((group)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_CREATED).group(group)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(findByName(referenceType, referenceId, newGroup.getName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new GroupAlreadyExistsException(newGroup.getName());
    } else {
        String groupId = RandomString.generate();
        Group group = new Group();
        group.setId(groupId);
        group.setReferenceType(referenceType);
        group.setReferenceId(referenceId);
        group.setName(newGroup.getName());
        group.setDescription(newGroup.getDescription());
        group.setMembers(newGroup.getMembers());
        group.setCreatedAt(new Date());
        group.setUpdatedAt(group.getCreatedAt());
        return group;
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(this::setMembers).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(groupRepository::create).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group)->{
    Event event = new Event(Type.GROUP, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(group)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByName(referenceType, referenceId, newGroup.getName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new GroupAlreadyExistsException(newGroup.getName());
    } else {
        String groupId = RandomString.generate();
        Group group = new Group();
        group.setId(groupId);
        group.setReferenceType(referenceType);
        group.setReferenceId(referenceId);
        group.setName(newGroup.getName());
        group.setDescription(newGroup.getDescription());
        group.setMembers(newGroup.getMembers());
        group.setCreatedAt(new Date());
        group.setUpdatedAt(group.getCreatedAt());
        return group;
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(this::setMembers).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(groupRepository::create).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByName(referenceType, referenceId, newGroup.getName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new GroupAlreadyExistsException(newGroup.getName());
    } else {
        String groupId = RandomString.generate();
        Group group = new Group();
        group.setId(groupId);
        group.setReferenceType(referenceType);
        group.setReferenceId(referenceId);
        group.setName(newGroup.getName());
        group.setDescription(newGroup.getDescription());
        group.setMembers(newGroup.getMembers());
        group.setCreatedAt(new Date());
        group.setUpdatedAt(group.getCreatedAt());
        return group;
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(this::setMembers).apply(v)))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByName(referenceType, referenceId, newGroup.getName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new GroupAlreadyExistsException(newGroup.getName());
    } else {
        String groupId = RandomString.generate();
        Group group = new Group();
        group.setId(groupId);
        group.setReferenceType(referenceType);
        group.setReferenceId(referenceId);
        group.setName(newGroup.getName());
        group.setDescription(newGroup.getDescription());
        group.setMembers(newGroup.getMembers());
        group.setCreatedAt(new Date());
        group.setUpdatedAt(group.getCreatedAt());
        return group;
    }
})).flatMap
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByName(referenceType, referenceId, newGroup.getName())).hasElement().map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(group)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(group)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a group", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(findById(referenceType, referenceId, id)).flatMap((e)->RxJava2Adapter.maybeToMono(groupRepository.findByName(referenceType, referenceId, updateGroup.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Optional<io.gravitee.am.model.Group> optionalGroup)->{
    if (optionalGroup.isPresent() && !optionalGroup.get().getId().equals(id)) {
        throw new GroupAlreadyExistsException(updateGroup.getName());
    }
    return e;
}))))
1 | Mono | map | METHOD_INVOCATION | (e)->RxJava2Adapter.maybeToMono(groupRepository.findByName(referenceType, referenceId, updateGroup.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Optional<io.gravitee.am.model.Group> optionalGroup)->{
    if (optionalGroup.isPresent() && !optionalGroup.get().getId().equals(id)) {
        throw new GroupAlreadyExistsException(updateGroup.getName());
    }
    return e;
}))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findByName(referenceType, referenceId, updateGroup.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findByName(referenceType, referenceId, updateGroup.getName())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(setMembers(groupToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(groupRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group)->{
    Event event = new Event(Type.GROUP, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(group)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((group)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_UPDATED).oldValue(oldGroup).group(group)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(setMembers(groupToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(groupRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group)->{
    Event event = new Event(Type.GROUP, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(group)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((group)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_UPDATED).oldValue(oldGroup).group(group)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(setMembers(groupToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(groupRepository::update).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group)->{
    Event event = new Event(Type.GROUP, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.UPDATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(group)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(setMembers(groupToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction(groupRepository::update).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(group)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(group)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a group", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(findById(referenceType, referenceId, groupId)).flatMap((group)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(groupRepository.delete(groupId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.DOMAIN, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_DELETED).group(group)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_DELETED).throwable(throwable))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findById(referenceType, referenceId, groupId)).flatMap((group)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(groupRepository.delete(groupId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.DOMAIN, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_DELETED).group(group)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_DELETED).throwable(throwable))))).then
1 | Mono | doOnError | METHOD_INVOCATION | (group)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(groupRepository.delete(groupId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.DOMAIN, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.DELETE))))))).doOnComplete(()->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_DELETED).group(group)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_DELETED).throwable(throwable))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(groupRepository.delete(groupId)).then(RxJava2Adapter.completableToMono(Completable.fromSingle(eventService.create(new Event(Type.DOMAIN, new Payload(group.getId(), group.getReferenceType(), group.getReferenceId(), Action.DELETE)))))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete group: %s", groupId), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findById(referenceType, referenceId, groupId)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Group>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Group, Single<Group>>)(oldGroup)->{
    Group groupToUpdate = new Group(oldGroup);
    if (revoke) {
        if (groupToUpdate.getRoles() != null) {
            groupToUpdate.getRoles().removeAll(roles);
        }
    } else {
        groupToUpdate.setRoles(roles);
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(groupRepository.update(groupToUpdate)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((group1)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_ROLES_ASSIGNED).oldValue(oldGroup).group(group1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_ROLES_ASSIGNED).throwable(throwable)))));
}).apply(v))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(groupRepository.update(groupToUpdate)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((group1)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_ROLES_ASSIGNED).oldValue(oldGroup).group(group1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_ROLES_ASSIGNED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(groupRepository.update(groupToUpdate)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((group1)->auditService.report(AuditBuilder.builder(GroupAuditBuilder.class).principal(principal).type(EventType.GROUP_ROLES_ASSIGNED).oldValue(oldGroup).group(group1)))).doOnError
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(groupRepository.update(groupToUpdate)))).doOnSuccess
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(groupRepository.update(groupToUpdate))))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(service.findByIdIn(userMembers)).map(RxJavaReactorMigrationUtil.toJdkFunction(User::getId)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((userIds)->{
    group.setMembers(userIds);
    return group;
})))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(service.findByIdIn(userMembers)).map(RxJavaReactorMigrationUtil.toJdkFunction(User::getId)).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(service.findByIdIn(userMembers)).map(RxJavaReactorMigrationUtil.toJdkFunction(User::getId)).collectList
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(group))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.findByIdIn(roles)).map(RxJavaReactorMigrationUtil.toJdkFunction((roles1)->{
    if (roles1.size() != roles.size()) {
        roles.removeAll(roles1.stream().map(Role::getId).collect(Collectors.toList()));
        throw new RoleNotFoundException(String.join(",", roles));
    }
    return roles1;
})))
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(this.alertNotifierRepository.findById(notifierId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((alertNotifier)->alertNotifier.getReferenceType() == referenceType && alertNotifier.getReferenceId().equals(referenceId))).switchIfEmpty(Mono.error(new AlertNotifierNotFoundException(notifierId))))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.alertNotifierRepository.findById(notifierId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((alertNotifier)->alertNotifier.getReferenceType() == referenceType && alertNotifier.getReferenceId().equals(referenceId))).switchIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.alertNotifierRepository.findById(notifierId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((alertNotifier)->alertNotifier.getReferenceType() == referenceType && alertNotifier.getReferenceId().equals(referenceId))).switchIfEmpty(Mono.error(new AlertNotifierNotFoundException(notifierId)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.getById(referenceType, referenceId, alertNotifierId)).flatMap((v)->RxJava2Adapter.singleToMono((Single<AlertNotifier>)RxJavaReactorMigrationUtil.toJdkFunction((Function<AlertNotifier, Single<AlertNotifier>>)(alertNotifier)->{
    AlertNotifier toUpdate = patchAlertNotifier.patch(alertNotifier);
    if (toUpdate.equals(alertNotifier)) {
        return RxJava2Adapter.monoToSingle(Mono.just(alertNotifier));
    }
    return updateInternal(toUpdate, byUser, alertNotifier);
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(alertNotifier))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(this.getById(referenceType, referenceId, notifierId)).flatMap((alertNotifier)->RxJava2Adapter.completableToMono(deleteInternal(alertNotifier, byUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.getById(referenceType, referenceId, notifierId)).flatMap((alertNotifier)->RxJava2Adapter.completableToMono(deleteInternal(alertNotifier, byUser))).then
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(alertNotifierRepository.create(toCreate)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.CREATE)))).then().then(Mono.just(updated))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((alertTrigger)->auditService.report(AuditBuilder.builder(AlertNotifierAuditBuilder.class).type(EventType.ALERT_NOTIFIER_CREATED).alertNotifier(alertTrigger).principal(byUser)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(AlertNotifierAuditBuilder.class).type(EventType.ALERT_NOTIFIER_CREATED).alertNotifier(toCreate).principal(byUser).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertNotifierRepository.create(toCreate)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.CREATE)))).then().then(Mono.just(updated))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((alertTrigger)->auditService.report(AuditBuilder.builder(AlertNotifierAuditBuilder.class).type(EventType.ALERT_NOTIFIER_CREATED).alertNotifier(alertTrigger).principal(byUser)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertNotifierRepository.create(toCreate)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.CREATE)))).then().then(Mono.just(updated))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | (updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.CREATE)))).then().then(Mono.just(updated))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.CREATE)))).then().then
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.CREATE)))).then().then(Mono.just(updated))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(alertNotifierRepository.update(alertNotifier)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(AlertNotifierAuditBuilder.class).type(EventType.ALERT_NOTIFIER_UPDATED).alertNotifier(updated).principal(updatedBy).oldValue(previous)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(AlertNotifierAuditBuilder.class).type(EventType.ALERT_NOTIFIER_UPDATED).alertNotifier(previous).principal(updatedBy).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertNotifierRepository.update(alertNotifier)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((updated)->auditService.report(AuditBuilder.builder(AlertNotifierAuditBuilder.class).type(EventType.ALERT_NOTIFIER_UPDATED).alertNotifier(updated).principal(updatedBy).oldValue(previous)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertNotifierRepository.update(alertNotifier)).flatMap((updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | (updated)->RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(updated.getId(), updated.getReferenceType(), updated.getReferenceId(), Action.UPDATE)))).then().then(Mono.just(updated))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(alertNotifierRepository.delete(alertNotifier.getId())).then(RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(alertNotifier.getId(), alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), Action.DELETE)))).then())).doOnComplete(()->auditService.report(AuditBuilder.builder(AlertNotifierAuditBuilder.class).type(EventType.ALERT_NOTIFIER_DELETED).alertNotifier(alertNotifier).principal(deletedBy))).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(AlertNotifierAuditBuilder.class).type(EventType.ALERT_NOTIFIER_DELETED).alertNotifier(alertNotifier).principal(deletedBy).throwable(throwable)))).as
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(alertNotifierRepository.delete(alertNotifier.getId())).then(RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(alertNotifier.getId(), alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), Action.DELETE)))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(alertNotifierRepository.delete(alertNotifier.getId())).then(RxJava2Adapter.singleToMono(eventService.create(new Event(Type.ALERT_NOTIFIER, new Payload(alertNotifier.getId(), alertNotifier.getReferenceType(), alertNotifier.getReferenceId(), Action.DELETE)))).then())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowRepository.findAll(referenceType, referenceId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->(!excludeApps) ? true : f.getApplication() == null)).sort(getFlowComparator()).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.fromIterable(defaultFlows(referenceType, referenceId)))).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error has occurred while trying to find all flows for {} {}", referenceType, referenceId, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error has occurred while trying to find a all flows for %s %s", referenceType, referenceId), ex)));
})))
1 | Flux | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowRepository.findAll(referenceType, referenceId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->(!excludeApps) ? true : f.getApplication() == null)).sort(getFlowComparator()).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.fromIterable(defaultFlows(referenceType, referenceId)))).onErrorResume
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowRepository.findAll(referenceType, referenceId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->(!excludeApps) ? true : f.getApplication() == null)).sort(getFlowComparator()).switchIfEmpty
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowRepository.findAll(referenceType, referenceId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((f)->(!excludeApps) ? true : f.getApplication() == null)).sort
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(defaultFlows(referenceType, referenceId)))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error has occurred while trying to find a all flows for %s %s", referenceType, referenceId), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowRepository.findByApplication(referenceType, referenceId, application)).sort(getFlowComparator()).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.fromIterable(defaultFlows(referenceType, referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->{
    flow.setApplication(application);
    return flow;
})))).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error has occurred while trying to find all flows for {} {} and application {}", referenceType, referenceId, application, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error has occurred while trying to find a all flows for %s %s and application %s", referenceType, referenceId, application), ex)));
})))
1 | Flux | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowRepository.findByApplication(referenceType, referenceId, application)).sort(getFlowComparator()).switchIfEmpty(RxJava2Adapter.fluxToFlowable(Flux.fromIterable(defaultFlows(referenceType, referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->{
    flow.setApplication(application);
    return flow;
})))).onErrorResume
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowRepository.findByApplication(referenceType, referenceId, application)).sort(getFlowComparator()).switchIfEmpty
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(defaultFlows(referenceType, referenceId)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->{
    flow.setApplication(application);
    return flow;
})))
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(defaultFlows(referenceType, referenceId)).map
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error has occurred while trying to find a all flows for %s %s and application %s", referenceType, referenceId, application), ex)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to find a flow using its referenceType %s, referenceId %s and id %s", referenceType, referenceId, id), ex)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to find a flow using its id %s", id), ex)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(flowRepository.findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new FlowNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowRepository.findById(referenceType, referenceId, id)).switchIfEmpty(Mono.error(new FlowNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(flowRepository.update(flowToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Flow, SingleSource<Flow>>toJdkFunction((flow1)->{
    Event event = new Event(io.gravitee.am.common.event.Type.FLOW, new Payload(flow1.getId(), flow1.getReferenceType(), flow1.getReferenceId(), Action.UPDATE));
    if (Type.ROOT == flow1.getType()) {
        flow1.setPost(emptyList());
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(flow1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((flow1)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_UPDATED).oldValue(oldFlow).flow(flow1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(flowRepository.update(flowToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Flow, SingleSource<Flow>>toJdkFunction((flow1)->{
    Event event = new Event(io.gravitee.am.common.event.Type.FLOW, new Payload(flow1.getId(), flow1.getReferenceType(), flow1.getReferenceId(), Action.UPDATE));
    if (Type.ROOT == flow1.getType()) {
        flow1.setPost(emptyList());
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(flow1)));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((flow1)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_UPDATED).oldValue(oldFlow).flow(flow1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(flowRepository.update(flowToUpdate)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Flow, SingleSource<Flow>>toJdkFunction((flow1)->{
    Event event = new Event(io.gravitee.am.common.event.Type.FLOW, new Payload(flow1.getId(), flow1.getReferenceType(), flow1.getReferenceId(), Action.UPDATE));
    if (Type.ROOT == flow1.getType()) {
        flow1.setPost(emptyList());
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(flow1)));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(flow1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(flow1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while trying to update a flow", ex)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(flowRepository.findById(id)).switchIfEmpty(Mono.error(new FlowNotFoundException(id))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Flow, CompletableSource>)(flow)->{
    Event event = new Event(io.gravitee.am.common.event.Type.FLOW, new Payload(flow.getId(), flow.getReferenceType(), flow.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(flowRepository.delete(id)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then()).doOnComplete(()->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_DELETED).flow(flow)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_DELETED).throwable(throwable)))));
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowRepository.findById(id)).switchIfEmpty(Mono.error(new FlowNotFoundException(id))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Flow, CompletableSource>)(flow)->{
    Event event = new Event(io.gravitee.am.common.event.Type.FLOW, new Payload(flow.getId(), flow.getReferenceType(), flow.getReferenceId(), Action.DELETE));
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(flowRepository.delete(id)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then()).doOnComplete(()->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_DELETED).flow(flow)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_DELETED).throwable(throwable)))));
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowRepository.findById(id)).switchIfEmpty(Mono.error(new FlowNotFoundException(id))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowRepository.findById(id)).switchIfEmpty(Mono.error(new FlowNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(flowRepository.delete(id)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then()).doOnComplete(()->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_DELETED).flow(flow)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_DELETED).throwable(throwable)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(flowRepository.delete(id)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(flowRepository.delete(id)).then(RxJava2Adapter.singleToMono(eventService.create(event))).then
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error has occurred while trying to delete flow: %s", id), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidParameterException("Multiple flows have the same Id")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(flowRepository.findAll(referenceType, referenceId)).collectList().flatMap((v)->RxJava2Adapter.singleToMono((Single<List<Flow>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Flow>, Single<List<Flow>>>)(existingFlows)->{
    final Map<String, Flow> mapOfExistingFlows = existingFlows.stream().filter((f)->(application == null && f.getApplication() == null) || (application != null && application.equals(f.getApplication()))).filter((f)->f.getId() != null).distinct().collect(Collectors.toMap(Flow::getId, java.util.function.Function.identity()));
    flows.forEach((flow)->{
        if (flow.getId() != null && mapOfExistingFlows.containsKey(flow.getId()) && mapOfExistingFlows.get(flow.getId()).getType() != flow.getType()) {
            throw new InvalidParameterException("Type of flow \'" + flow.getName() + "\' can\'t be updated");
        }
    });
    final List<String> flowIdsToDelete = new ArrayList<>(mapOfExistingFlows.keySet());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(flows).flatMapSingle((flowToCreateOrUpdate)->{
        if (flowToCreateOrUpdate.getId() != null) {
            flowIdsToDelete.remove(flowToCreateOrUpdate.getId());
        }
        if (existingFlows == null || existingFlows.isEmpty()) {
            return create0(referenceType, referenceId, application, flowToCreateOrUpdate, principal);
        }
        boolean updateRequired = flowToCreateOrUpdate.getId() != null && mapOfExistingFlows.containsKey(flowToCreateOrUpdate.getId());
        return updateRequired ? update(referenceType, referenceId, flowToCreateOrUpdate.getId(), flowToCreateOrUpdate) : create0(referenceType, referenceId, application, flowToCreateOrUpdate, principal);
    }).sorted(getFlowComparator()).toList()).flatMap((persistedFlows)->RxJava2Adapter.singleToMono(Observable.fromIterable(flowIdsToDelete).flatMapCompletable(this::delete).toSingleDefault(persistedFlows))));
}).apply(v))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(flowRepository.findAll(referenceType, referenceId)).collectList().flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(flows).flatMapSingle((flowToCreateOrUpdate)->{
    if (flowToCreateOrUpdate.getId() != null) {
        flowIdsToDelete.remove(flowToCreateOrUpdate.getId());
    }
    if (existingFlows == null || existingFlows.isEmpty()) {
        return create0(referenceType, referenceId, application, flowToCreateOrUpdate, principal);
    }
    boolean updateRequired = flowToCreateOrUpdate.getId() != null && mapOfExistingFlows.containsKey(flowToCreateOrUpdate.getId());
    return updateRequired ? update(referenceType, referenceId, flowToCreateOrUpdate.getId(), flowToCreateOrUpdate) : create0(referenceType, referenceId, application, flowToCreateOrUpdate, principal);
}).sorted(getFlowComparator()).toList()).flatMap((persistedFlows)->RxJava2Adapter.singleToMono(Observable.fromIterable(flowIdsToDelete).flatMapCompletable(this::delete).toSingleDefault(persistedFlows))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while trying to update flows", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(flowRepository.create(flow)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Flow, SingleSource<Flow>>toJdkFunction((flow1)->{
    Event event = new Event(io.gravitee.am.common.event.Type.FLOW, new Payload(flow1.getId(), referenceType, referenceId, Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(flow1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    LOGGER.error("An error has occurred while trying to create a flow", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while trying to create a flow", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((flow1)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_CREATED).flow(flow1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(flowRepository.create(flow)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Flow, SingleSource<Flow>>toJdkFunction((flow1)->{
    Event event = new Event(io.gravitee.am.common.event.Type.FLOW, new Payload(flow1.getId(), referenceType, referenceId, Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(flow1)));
}).apply(v))))).onErrorResumeNext((ex)->{
    LOGGER.error("An error has occurred while trying to create a flow", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while trying to create a flow", ex)));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((flow1)->auditService.report(AuditBuilder.builder(FlowAuditBuilder.class).principal(principal).type(EventType.FLOW_CREATED).flow(flow1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(flowRepository.create(flow)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Flow, SingleSource<Flow>>toJdkFunction((flow1)->{
    Event event = new Event(io.gravitee.am.common.event.Type.FLOW, new Payload(flow1.getId(), referenceType, referenceId, Action.CREATE));
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(flow1)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(eventService.create(event)).flatMap((__)->Mono.just(flow1)))
1 | Mono | just | METHOD_INVOCATION | (__)->Mono.just(flow1)
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while trying to create a flow", ex)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(entrypoint))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Organization()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingEntrypoint))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingEntrypoint))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Organization()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingEntrypoint))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingEntrypoint))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingEntrypoint))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Resource().setId("one").setResourceScopes(Arrays.asList("not", "same"))))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Resource().setId("one").setResourceScopes(Arrays.asList("a", "b"))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new PermissionTicket().setId("success")))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Resource().setId("one").setResourceScopes(Arrays.asList("not", "same"))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(request).map(RxJavaReactorMigrationUtil.toJdkFunction((s)->new Resource().setId(s.getResourceId()).setResourceScopes(s.getResourceScopes()).setUserId("user_" + s.getResourceId()))))
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(request).map
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Resource().setId("one").setResourceScopes(Arrays.asList("a", "b")), new Resource().setId("two").setResourceScopes(Arrays.asList("not", "same"))))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(request).map(RxJavaReactorMigrationUtil.toJdkFunction((s)->new Resource().setId(s.getResourceId()).setResourceScopes(s.getResourceScopes()))))
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(request).map
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new PermissionTicket().setId("success")))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Resource().setId("one").setResourceScopes(Arrays.asList("a", "b", "c")), new Resource().setId("two").setResourceScopes(Arrays.asList("c", "d"))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new PermissionTicket().setId("success")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new PermissionTicket()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new PermissionTicket().setId("id")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new ScopeApproval()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(dummyScopeApproval))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(dummyScopeApproval))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scopeApproval))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(scopeApproval))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(scopeApproval))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new BotDetection()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new BotDetection()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new BotDetection()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new BotDetection()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new BotDetection()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(detection))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(detection))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(detection))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Sets.newHashSet(app)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Group()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Group()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(groupService.findByDomain(DOMAIN)).collectList())
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pagedGroups))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(group))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Group()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(group))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Group()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Group()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Group()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(TechnicalException::new))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(roles))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Group()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(roles))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Group()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new User()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Domain()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Domain()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Environment()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Certificate()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Role()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Environment()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Environment()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Environment()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Environment()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(otherDomain))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockApplications))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(certificate))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(identityProvider))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(extensionGrant))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(role)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(scope), 0, 1)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(group))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(form))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(email))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(reporter))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(membership))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(factor))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Collections.singletonList(resource))))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertTrigger))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertNotifier))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.emptySet(), 0, 1)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new ServiceResource()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new ServiceResource()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(record))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(record))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(record))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(record))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(record))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(factor))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new User()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pageUsers))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(credential))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(formOne, formTwo))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Form()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(formOne))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(form))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Event()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(newEvent))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(group))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException("user-id")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Membership()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(group))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new GroupNotFoundException("group-id")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(environmentUserRole))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Membership()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(environmentUserRole))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(environmentUserRole))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Membership()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(platformAdminRole))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(platformAdminRole))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alreadyExisting))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(environment))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(environment))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(environment))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(0L))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultEnvironment))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(1L))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new OrganizationNotFoundException(ORGANIZATION_ID)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingEnvironment))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingEnvironment))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Credential()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Credential()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Credential()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Credential()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Credential()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Credential()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Credential()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Credential()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Credential()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(alertTrigger))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertTrigger))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(existingAlertTrigger))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(loginAttempt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(loginAttempt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(loginAttempt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(loginAttempt))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(new Application()), 0, 1)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pageClients))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Application()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Application()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Application()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page(Collections.singleton(new Application()), 0, 1)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pageClients))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(1L))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(1L))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Role()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(toPatch))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idp1))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idp2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idp1))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idp2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idp1))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idp2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingClient))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(form))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(email))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(membership))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingClient))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(TechnicalException::new))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Role()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Role()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalManagementException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Role()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Role()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Role()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(TechnicalException::new))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new ExtensionGrant()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new ExtensionGrant()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ExtensionGrant()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new ExtensionGrant()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new ExtensionGrant()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ExtensionGrant()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new ExtensionGrant()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(extensionGrant))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(new Application())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(extensionGrant))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(new Application())))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(extensionGrant, extensionGrant2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(extensionGrant2))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(new Application())))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(extensionGrant, extensionGrant2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new ExtensionGrant()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingExtensionGrant))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(existingExtensionGrant))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(credential))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(alertNotifier))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertNotifier))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertNotifier))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(alertNotifierToUpdate))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Email()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Email()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Email()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Email()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Email()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Email()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Email()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(TechnicalException::new))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(email))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(mailOne, mailTwo))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(emailTemplateService.copyFromClient(DOMAIN, sourceUid, targetUid)).collectList())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Email()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(mailOne))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Factor()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Factor()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Factor()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Factor()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Factor()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Factor()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Factor()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(factor))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Application()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(factor))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new IdentityProvider()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new IdentityProvider()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(identityProvider))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idp))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new IdentityProvider()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idp))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new IdentityProvider()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new IdentityProvider()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingIdentityProvider))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Flow()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, DOMAIN)).collectList())
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, DOMAIN)).collectList())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Flow()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Flow()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Flow()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Flow()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(newFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(newFlow2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(existingFlow, existingFlow2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingFlow2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updateFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updateFlow2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(existingFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updateFlow2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updateFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(existingFlow, existingFlow2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(existingFlow, existingFlow2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingFlow2))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingFlow))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Flow()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Tag()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Tag()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Tag()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Scope()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(new Scope()), 0, 1)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Scope()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Scope()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(toPatch))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(toPatch))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(toUpdate))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(toUpdate))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(toUpdate))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(toUpdate))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scope))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(role)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(application)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Role()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scope))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scope))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(new Scope("valid")), 0, 1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(new Scope("valid")), 0, 1)))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Certificate()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Certificate()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(certificate))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Event()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Certificate()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just("{\n  \"type\" : \"object\",\n  \"id\" : \"urn:jsonschema:io:gravitee:am:certificate:pkcs12:PKCS12Configuration\",\n  \"properties\" : {\n    \"content\" : {\n      \"title\": \"PKCS#12 file\",\n      \"description\": \"PKCS file\",\n      \"type\" : \"string\",\n      \"widget\" : \"file\"\n    },\n    \"storepass\" : {\n      \"title\": \"Keystore password\",\n      \"description\": \"The password which is used to protect the integrity of the keystore.\",\n      \"type\" : \"string\"\n    },\n    \"alias\" : {\n      \"title\": \"Key alias\",\n      \"description\": \"Alias which identify the keystore entry.\",\n      \"type\" : \"string\"\n    },\n    \"keypass\" : {\n      \"title\": \"Key password\",\n      \"description\": \"The password used to protect the private key of the generated key pair.\",\n      \"type\" : \"string\"\n    }\n  },\n  \"required\": [\n    \"content\",\n    \"storepass\",\n    \"alias\",\n    \"keypass\"\n  ]\n}"))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(context))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(context))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(applications))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(2L))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(1L))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(applications))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(applications))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(2L))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(1L))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(applications))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(organization))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(0L))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultOrganization))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Entrypoint()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(1L))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(0L))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Entrypoint()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingOrganization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingOrganization))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingOrganization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Resource().setId(RESOURCE_ID)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Resource().setId(RESOURCE_ID)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Arrays.asList(new Scope("scope"))))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Resource().setId(RESOURCE_ID)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(exitingRS))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(exitingRS))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(exitingRS))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(exitingRS))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(exitingRS))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Resource()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AccessPolicy()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ArrayIndexOutOfBoundsException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(new Resource()), 0, 1)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.emptyList(), 0, 0)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(RuntimeException::new)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(toUpdate))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(accessPolicy))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(service.findAccessPolicies(DOMAIN_ID, CLIENT_ID, USER_ID, RESOURCE_ID)).collectList())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(RuntimeException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(accessPolicy))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(service.findAccessPoliciesByResources(resourceIds)).collectList())
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(RxJavaReactorMigrationUtil.callableAsSupplier(RuntimeException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(1L))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(RuntimeException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(accessPolicy))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(RuntimeException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(accessPolicy))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(RuntimeException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessPolicy))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(accessPolicy))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessPolicy))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new User()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Application()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(request))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authenticate(authentication)).flatMap((z)->profile(z, authentication).as(RxJava2Adapter::maybeToMono)))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->jwtProcessor.process(idToken, null)))).onErrorResumeNext((ex)->{
    return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(ex.getMessage())));
})).map(RxJavaReactorMigrationUtil.toJdkFunction((jwtClaimsSet)->createUser(authContext, jwtClaimsSet.getClaims()))))
1 | Mono | fromSupplier | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->jwtProcessor.process(idToken, null))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(ex.getMessage())))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Token(accessToken, TokenTypeHint.ACCESS_TOKEN)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Token(idToken, TokenTypeHint.ID_TOKEN)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Missing authorization code")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(getClient().postAbs(getConfiguration().getAccessTokenUri()).putHeader(HttpHeaders.CONTENT_LENGTH, String.valueOf(bodyRequest.length())).putHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED).rxSendBuffer(Buffer.buffer(bodyRequest))).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpResponse.statusMessage());
    }
    JsonObject response = httpResponse.bodyAsJsonObject();
    String accessToken = response.getString(ACCESS_TOKEN_PARAMETER);
    String idToken = response.getString(ID_TOKEN_PARAMETER);
    if (!Strings.isNullOrEmpty(idToken)) {
        authentication.getContext().set(ID_TOKEN_PARAMETER, idToken);
    }
    return new Token(accessToken, TokenTypeHint.ACCESS_TOKEN);
})))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("No suitable value to retrieve user information")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(getClient().getAbs(getConfiguration().getUserProfileUri()).putHeader(HttpHeaders.AUTHORIZATION, "Bearer " + token.getValue()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpClientResponse)->{
    if (httpClientResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpClientResponse.statusMessage());
    }
    return createUser(authentication.getContext(), httpClientResponse.bodyAsJsonObject().getMap());
})))
1 | Mono | block | METHOD_INVOCATION | io.gravitee.am.certificate.api.Key providerKey = RxJava2Adapter.singleToMono(provider.key()).block()
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificateKey))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(factor))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(introspectionTokenService.introspect(token, offlineVerification)).flatMap((e)->RxJava2Adapter.maybeToMono(clientSyncService.findByDomainAndClientId(e.getDomain(), e.getAud())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.oidc.Client client)->new OAuth2AuthResponse(e, client)))))
1 | Mono | map | METHOD_INVOCATION | (e)->RxJava2Adapter.maybeToMono(clientSyncService.findByDomainAndClientId(e.getDomain(), e.getAud())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.oidc.Client client)->new OAuth2AuthResponse(e, client)))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(authenticationProvider))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(optClient.get()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(templates))
1 | Mono | subscribeOn | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(domain.getId())).collectList().flatMap((reporters)->RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Environment env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.common.utils.GraviteeContext ctx)->Tuples.of(reporters, ctx)))).subscribeOn(reactor.core.scheduler.Schedulers.boundedElastic()))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(domain.getId())).collectList().flatMap((reporters)->RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Environment env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.common.utils.GraviteeContext ctx)->Tuples.of(reporters, ctx)))).subscribeOn
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterRepository.findByDomain(domain.getId())).collectList().flatMap
1 | Mono | map | METHOD_INVOCATION | (reporters)->RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Environment env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.common.utils.GraviteeContext ctx)->Tuples.of(reporters, ctx)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Environment env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map
1 | Mono | subscribeOn | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(reporterRepository.findById(reporterId).flatMapSingle((reporter)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((ctx)->Tuples.of(reporter, ctx)))))).subscribeOn(reactor.core.scheduler.Schedulers.boundedElastic()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((ctx)->Tuples.of(reporter, ctx))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map
1 | Mono | subscribeOn | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(reporterRepository.findById(reporterId).flatMapSingle((reporter)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((ctx)->Tuples.of(reporter, ctx)))))).subscribeOn(reactor.core.scheduler.Schedulers.boundedElastic()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((ctx)->Tuples.of(reporter, ctx))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))).map
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InternalAuthenticationServiceException("No identity provider found for client : " + client.getClientId())))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(identities).flatMapMaybe((authProvider)->authenticate0(client, authentication, authProvider, preAuthenticated)).takeUntil((userAuthentication)->userAuthentication.getUser() != null || userAuthentication.getLastException() instanceof AccountLockedException).lastOrError()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.common.auth.user.impl.UserAuthenticationManagerImpl.UserAuthentication, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userAuthentication)->{
    io.gravitee.am.identityprovider.api.User user = userAuthentication.getUser();
    if (user == null) {
        Throwable lastException = userAuthentication.getLastException();
        if (lastException != null) {
            if (lastException instanceof BadCredentialsException) {
                return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid", lastException)));
            } else if (lastException instanceof UsernameNotFoundException) {
                return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid", lastException)));
            } else if (lastException instanceof AccountStatusException) {
                return RxJava2Adapter.monoToSingle(Mono.error(lastException));
            } else if (lastException instanceof NegotiateContinueException) {
                return RxJava2Adapter.monoToSingle(Mono.error(lastException));
            } else {
                logger.error("An error occurs during user authentication", lastException);
                return RxJava2Adapter.monoToSingle(Mono.error(new InternalAuthenticationServiceException("Unable to validate credentials. The user account you are trying to access may be experiencing a problem.", lastException)));
            }
        } else {
            return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid")));
        }
    } else {
        return connect(user);
    }
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->eventManager.publishEvent(AuthenticationEvent.SUCCESS, new AuthenticationDetails(authentication, domain, client, user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->eventManager.publishEvent(AuthenticationEvent.FAILURE, new AuthenticationDetails(authentication, domain, client, throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Observable.fromIterable(identities).flatMapMaybe((authProvider)->authenticate0(client, authentication, authProvider, preAuthenticated)).takeUntil((userAuthentication)->userAuthentication.getUser() != null || userAuthentication.getLastException() instanceof AccountLockedException).lastOrError()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.common.auth.user.impl.UserAuthenticationManagerImpl.UserAuthentication, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userAuthentication)->{
    io.gravitee.am.identityprovider.api.User user = userAuthentication.getUser();
    if (user == null) {
        Throwable lastException = userAuthentication.getLastException();
        if (lastException != null) {
            if (lastException instanceof BadCredentialsException) {
                return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid", lastException)));
            } else if (lastException instanceof UsernameNotFoundException) {
                return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid", lastException)));
            } else if (lastException instanceof AccountStatusException) {
                return RxJava2Adapter.monoToSingle(Mono.error(lastException));
            } else if (lastException instanceof NegotiateContinueException) {
                return RxJava2Adapter.monoToSingle(Mono.error(lastException));
            } else {
                logger.error("An error occurs during user authentication", lastException);
                return RxJava2Adapter.monoToSingle(Mono.error(new InternalAuthenticationServiceException("Unable to validate credentials. The user account you are trying to access may be experiencing a problem.", lastException)));
            }
        } else {
            return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid")));
        }
    } else {
        return connect(user);
    }
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->eventManager.publishEvent(AuthenticationEvent.SUCCESS, new AuthenticationDetails(authentication, domain, client, user)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Observable.fromIterable(identities).flatMapMaybe((authProvider)->authenticate0(client, authentication, authProvider, preAuthenticated)).takeUntil((userAuthentication)->userAuthentication.getUser() != null || userAuthentication.getLastException() instanceof AccountLockedException).lastOrError()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.common.auth.user.impl.UserAuthenticationManagerImpl.UserAuthentication, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userAuthentication)->{
    io.gravitee.am.identityprovider.api.User user = userAuthentication.getUser();
    if (user == null) {
        Throwable lastException = userAuthentication.getLastException();
        if (lastException != null) {
            if (lastException instanceof BadCredentialsException) {
                return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid", lastException)));
            } else if (lastException instanceof UsernameNotFoundException) {
                return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid", lastException)));
            } else if (lastException instanceof AccountStatusException) {
                return RxJava2Adapter.monoToSingle(Mono.error(lastException));
            } else if (lastException instanceof NegotiateContinueException) {
                return RxJava2Adapter.monoToSingle(Mono.error(lastException));
            } else {
                logger.error("An error occurs during user authentication", lastException);
                return RxJava2Adapter.monoToSingle(Mono.error(new InternalAuthenticationServiceException("Unable to validate credentials. The user account you are trying to access may be experiencing a problem.", lastException)));
            }
        } else {
            return RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid")));
        }
    } else {
        return connect(user);
    }
}).apply(v)))).doOnSuccess
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid", lastException)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid", lastException)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(lastException))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(lastException))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InternalAuthenticationServiceException("Unable to validate credentials. The user account you are trying to access may be experiencing a problem.", lastException)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new BadCredentialsException("The credentials you entered are invalid")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InternalAuthenticationServiceException("No identity provider found for client : " + client.getClientId())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(Observable.fromIterable(identities).flatMapMaybe((authProvider)->loadUserByUsername0(client, authentication, authProvider, true)).takeUntil((userAuthentication)->userAuthentication.getUser() != null).lastOrError()).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<UserAuthenticationManagerImpl.UserAuthentication, MaybeSource<User>>)(userAuthentication)->{
    io.gravitee.am.identityprovider.api.User user = userAuthentication.getUser();
    if (user == null) {
        Throwable lastException = userAuthentication.getLastException();
        if (lastException != null) {
            if (lastException instanceof UsernameNotFoundException) {
                return RxJava2Adapter.monoToMaybe(Mono.error(new UsernameNotFoundException("Invalid or unknown user")));
            } else {
                logger.error("An error occurs during user authentication", lastException);
                return RxJava2Adapter.monoToMaybe(Mono.error(new InternalAuthenticationServiceException("Unable to validate credentials. The user account you are trying to access may be experiencing a problem.", lastException)));
            }
        } else {
            return RxJava2Adapter.monoToMaybe(Mono.error(new UsernameNotFoundException("No user found for registered providers")));
        }
    } else {
        return userAuthenticationService.loadPreAuthenticatedUser(user);
    }
}).apply(e)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new UsernameNotFoundException("Invalid or unknown user")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InternalAuthenticationServiceException("Unable to validate credentials. The user account you are trying to access may be experiencing a problem.", lastException)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new UsernameNotFoundException("No user found for registered providers")))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.completableToMono(preAuthentication(client, authentication, authProvider)).then(RxJava2Adapter.maybeToMono(loadUserByUsername0(client, authentication, authProvider, preAuthenticated))).flatMap((z)->RxJava2Adapter.completableToMono(postAuthentication(client, authentication, authProvider, z)).then(Mono.just(z))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(preAuthentication(client, authentication, authProvider)).then(RxJava2Adapter.maybeToMono(loadUserByUsername0(client, authentication, authProvider, preAuthenticated))).flatMap
1 | Mono | then | METHOD_INVOCATION | (z)->RxJava2Adapter.completableToMono(postAuthentication(client, authentication, authProvider, z)).then(Mono.just(z))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(postAuthentication(client, authentication, authProvider, z)).then(Mono.just(z))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.get(authProvider)).switchIfEmpty(Mono.error(new BadCredentialsException("Unable to load authentication provider " + authProvider + ", an error occurred during the initialization stage"))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((authenticationProvider)->{
    logger.debug("Authentication attempt using identity provider {} ({})", authenticationProvider, authenticationProvider.getClass().getName());
    return RxJava2Adapter.monoToMaybe(Mono.just(preAuthenticated).flatMap((y)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((preAuth)->{
        if (preAuth) {
            final String username = authentication.getPrincipal().toString();
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), username, authProvider)).switchIfEmpty(Mono.error(new UsernameNotFoundException(username))).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((user)->{
                final Authentication enhanceAuthentication = new EndUserAuthentication(user, null, authentication.getContext());
                return authenticationProvider.loadPreAuthenticatedUser(enhanceAuthentication);
            }).apply(a)))));
        } else {
            return authenticationProvider.loadUserByUsername(authentication);
        }
    }).apply(y)))).switchIfEmpty(Mono.error(new UsernameNotFoundException(authentication.getPrincipal().toString()))));
}).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    logger.debug("Successfully Authenticated: " + authentication.getPrincipal() + " with provider authentication provider " + authProvider);
    Map<String, Object> additionalInformation = user.getAdditionalInformation() == null ? new HashMap<>() : new HashMap<>(user.getAdditionalInformation());
    additionalInformation.put("source", authProvider);
    additionalInformation.put(Parameters.CLIENT_ID, client.getId());
    ((DefaultUser)user).setAdditionalInformation(additionalInformation);
    return new UserAuthentication(user, null);
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(authProvider)).switchIfEmpty(Mono.error(new BadCredentialsException("Unable to load authentication provider " + authProvider + ", an error occurred during the initialization stage"))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((authenticationProvider)->{
    logger.debug("Authentication attempt using identity provider {} ({})", authenticationProvider, authenticationProvider.getClass().getName());
    return RxJava2Adapter.monoToMaybe(Mono.just(preAuthenticated).flatMap((y)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((preAuth)->{
        if (preAuth) {
            final String username = authentication.getPrincipal().toString();
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), username, authProvider)).switchIfEmpty(Mono.error(new UsernameNotFoundException(username))).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((user)->{
                final Authentication enhanceAuthentication = new EndUserAuthentication(user, null, authentication.getContext());
                return authenticationProvider.loadPreAuthenticatedUser(enhanceAuthentication);
            }).apply(a)))));
        } else {
            return authenticationProvider.loadUserByUsername(authentication);
        }
    }).apply(y)))).switchIfEmpty(Mono.error(new UsernameNotFoundException(authentication.getPrincipal().toString()))));
}).apply(v)))).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(authProvider)).switchIfEmpty(Mono.error(new BadCredentialsException("Unable to load authentication provider " + authProvider + ", an error occurred during the initialization stage"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(authProvider)).switchIfEmpty(Mono.error(new BadCredentialsException("Unable to load authentication provider " + authProvider + ", an error occurred during the initialization stage")))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(preAuthenticated).flatMap((y)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((preAuth)->{
    if (preAuth) {
        final String username = authentication.getPrincipal().toString();
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), username, authProvider)).switchIfEmpty(Mono.error(new UsernameNotFoundException(username))).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((user)->{
            final Authentication enhanceAuthentication = new EndUserAuthentication(user, null, authentication.getContext());
            return authenticationProvider.loadPreAuthenticatedUser(enhanceAuthentication);
        }).apply(a)))));
    } else {
        return authenticationProvider.loadUserByUsername(authentication);
    }
}).apply(y)))).switchIfEmpty(Mono.error(new UsernameNotFoundException(authentication.getPrincipal().toString()))))
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(preAuthenticated).flatMap((y)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((preAuth)->{
    if (preAuth) {
        final String username = authentication.getPrincipal().toString();
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), username, authProvider)).switchIfEmpty(Mono.error(new UsernameNotFoundException(username))).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((user)->{
            final Authentication enhanceAuthentication = new EndUserAuthentication(user, null, authentication.getContext());
            return authenticationProvider.loadPreAuthenticatedUser(enhanceAuthentication);
        }).apply(a)))));
    } else {
        return authenticationProvider.loadUserByUsername(authentication);
    }
}).apply(y)))).switchIfEmpty
1 | Mono | just | METHOD_INVOCATION | Mono.just(preAuthenticated).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), username, authProvider)).switchIfEmpty(Mono.error(new UsernameNotFoundException(username))).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((user)->{
    final Authentication enhanceAuthentication = new EndUserAuthentication(user, null, authentication.getContext());
    return authenticationProvider.loadPreAuthenticatedUser(enhanceAuthentication);
}).apply(a)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), username, authProvider)).switchIfEmpty(Mono.error(new UsernameNotFoundException(username))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), username, authProvider)).switchIfEmpty(Mono.error(new UsernameNotFoundException(username)))
1 | Mono | error | METHOD_INVOCATION | Mono.just(preAuthenticated).flatMap((y)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((preAuth)->{
    if (preAuth) {
        final String username = authentication.getPrincipal().toString();
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), username, authProvider)).switchIfEmpty(Mono.error(new UsernameNotFoundException(username))).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((user)->{
            final Authentication enhanceAuthentication = new EndUserAuthentication(user, null, authentication.getContext());
            return authenticationProvider.loadPreAuthenticatedUser(enhanceAuthentication);
        }).apply(a)))));
    } else {
        return authenticationProvider.loadUserByUsername(authentication);
    }
}).apply(y)))).switchIfEmpty(Mono.error(new UsernameNotFoundException(authentication.getPrincipal().toString())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new UserAuthentication(null, error)))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(loginAttemptService.checkAccount(criteria, accountSettings)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<LoginAttempt>, CompletableSource>)(optLoginAttempt)->{
    if (optLoginAttempt.isPresent() && optLoginAttempt.get().isAccountLocked(accountSettings.getMaxLoginAttempts())) {
        Map<String, String> details = new HashMap<>();
        details.put("attempt_id", optLoginAttempt.get().getId());
        return RxJava2Adapter.monoToCompletable(Mono.error(new AccountLockedException("User " + username + " is locked", details)));
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(loginAttemptService.checkAccount(criteria, accountSettings)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<LoginAttempt>, CompletableSource>)(optLoginAttempt)->{
    if (optLoginAttempt.isPresent() && optLoginAttempt.get().isAccountLocked(accountSettings.getMaxLoginAttempts())) {
        Map<String, String> details = new HashMap<>();
        details.put("attempt_id", optLoginAttempt.get().getId());
        return RxJava2Adapter.monoToCompletable(Mono.error(new AccountLockedException("User " + username + " is locked", details)));
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(loginAttemptService.checkAccount(criteria, accountSettings)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(loginAttemptService.checkAccount(criteria, accountSettings)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new AccountLockedException("User " + username + " is locked", details)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(criteria.domain(), criteria.username(), criteria.identityProvider())).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<User, CompletableSource>)(user)->{
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(loginAttemptService.loginFailed(criteria, accountSettings)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<LoginAttempt, CompletableSource>toJdkFunction((loginAttempt)->{
        if (loginAttempt.isAccountLocked(accountSettings.getMaxLoginAttempts())) {
            return userAuthenticationService.lockAccount(criteria, accountSettings, client, user);
        }
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }).apply(z)))).then());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(criteria.domain(), criteria.username(), criteria.identityProvider())).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<User, CompletableSource>)(user)->{
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(loginAttemptService.loginFailed(criteria, accountSettings)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<LoginAttempt, CompletableSource>toJdkFunction((loginAttempt)->{
        if (loginAttempt.isAccountLocked(accountSettings.getMaxLoginAttempts())) {
            return userAuthenticationService.lockAccount(criteria, accountSettings, client, user);
        }
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }).apply(z)))).then());
}).apply(y)))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(loginAttemptService.loginFailed(criteria, accountSettings)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<LoginAttempt, CompletableSource>toJdkFunction((loginAttempt)->{
    if (loginAttempt.isAccountLocked(accountSettings.getMaxLoginAttempts())) {
        return userAuthenticationService.lockAccount(criteria, accountSettings, client, user);
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(z)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(loginAttemptService.loginFailed(criteria, accountSettings)).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<LoginAttempt, CompletableSource>toJdkFunction((loginAttempt)->{
    if (loginAttempt.isAccountLocked(accountSettings.getMaxLoginAttempts())) {
        return userAuthenticationService.lockAccount(criteria, accountSettings, client, user);
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(z)))).then
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(applicationsSource).map(RxJavaReactorMigrationUtil.toJdkFunction(Application::toClient)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationRepository.findById(applicationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(Application::toClient)))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.decode(token)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<Client>>toJdkFunction((jwt)->clientService.findByDomainAndClientId(jwt.getDomain(), jwt.getAud())).apply(e)))).switchIfEmpty(Mono.error(new InvalidTokenException("Invalid or unknown client for this token")))).flatMapSingle((client)->jwtService.decodeAndVerify(token, client))).flatMap((v)->RxJava2Adapter.singleToMono((Single<JWT>)RxJavaReactorMigrationUtil.toJdkFunction((Function<JWT, Single<JWT>>)(jwt)->{
    if (offlineVerification || Instant.now().isBefore(Instant.ofEpochSecond(jwt.getIat() + OFFLINE_VERIFICATION_TIMER_SECONDS))) {
        return RxJava2Adapter.monoToSingle(Mono.just(jwt));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(jwt.getJti())).switchIfEmpty(Mono.error(new InvalidTokenException("The token is invalid", "Token with JTI [" + jwt.getJti() + "] not found in the database", jwt))).map(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->{
        if (accessToken.getExpireAt().before(new Date())) {
            throw new InvalidTokenException("The token expired", "Token with JTI [" + jwt.getJti() + "] is expired", jwt);
        }
        return jwt;
    })));
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.decode(token)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<Client>>toJdkFunction((jwt)->clientService.findByDomainAndClientId(jwt.getDomain(), jwt.getAud())).apply(e)))).switchIfEmpty(Mono.error(new InvalidTokenException("Invalid or unknown client for this token"))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jwtService.decode(token)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<Client>>toJdkFunction((jwt)->clientService.findByDomainAndClientId(jwt.getDomain(), jwt.getAud())).apply(e)))).switchIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jwtService.decode(token)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<Client>>toJdkFunction((jwt)->clientService.findByDomainAndClientId(jwt.getDomain(), jwt.getAud())).apply(e)))).switchIfEmpty(Mono.error(new InvalidTokenException("Invalid or unknown client for this token")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(jwt.getJti())).switchIfEmpty(Mono.error(new InvalidTokenException("The token is invalid", "Token with JTI [" + jwt.getJti() + "] not found in the database", jwt))).map(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->{
    if (accessToken.getExpireAt().before(new Date())) {
        throw new InvalidTokenException("The token expired", "Token with JTI [" + jwt.getJti() + "] is expired", jwt);
    }
    return jwt;
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(jwt.getJti())).switchIfEmpty(Mono.error(new InvalidTokenException("The token is invalid", "Token with JTI [" + jwt.getJti() + "] not found in the database", jwt))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(jwt.getJti())).switchIfEmpty(Mono.error(new InvalidTokenException("The token is invalid", "Token with JTI [" + jwt.getJti() + "] not found in the database", jwt)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidTokenException(ex.getMessage(), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(errorParams))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.jwtService.decode(jarm)).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->{
    Map<String, String> result = new HashMap<>();
    result.put(ERROR_PARAM, (String)jwt.get(ERROR_PARAM));
    result.put(ERROR_DESCRIPTION_PARAM, (String)jwt.get(ERROR_DESCRIPTION_PARAM));
    return result;
})))
1 | Mono | IMPORT
1 | Mono | block | METHOD_INVOCATION | return RxJava2Adapter.singleToMono(this.jwtService.encode(jwt, certificateProvider)).block();
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.jwtService.decodeAndVerify(payload, certificateProvider)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((jwt)->{
    this.lastLogin = new Date(jwt.getExp() * 1000 - this.timeout());
    this.setData(jwt);
})).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->this)))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.jwtService.decodeAndVerify(payload, certificateProvider)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((jwt)->{
    this.lastLogin = new Date(jwt.getExp() * 1000 - this.timeout());
    this.setData(jwt);
})).map
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(certificateProvider))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(certificate.get()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificateKey))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(session))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(session.setValue(sessionCookie.getValue())).flatMap((v)->RxJava2Adapter.singleToMono((Single<CookieSession>)RxJavaReactorMigrationUtil.toJdkFunction((Function<CookieSession, Single<CookieSession>>)(currentSession)->{
    String userId = currentSession.get(USER_ID_KEY);
    if (!StringUtils.isEmpty(userId)) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findById(userId)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->context.getDelegate().setUser(new User(user)))).flatMap((z)->RxJava2Adapter.singleToMono(userService.enhance(z))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->currentSession)).switchIfEmpty(RxJava2Adapter.singleToMono(cleanupSession(currentSession)))).onErrorResumeNext(cleanupSession(currentSession));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(currentSession));
    }
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findById(userId)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->context.getDelegate().setUser(new User(user)))).flatMap((z)->RxJava2Adapter.singleToMono(userService.enhance(z))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->currentSession)).switchIfEmpty(RxJava2Adapter.singleToMono(cleanupSession(currentSession))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->context.getDelegate().setUser(new User(user)))).flatMap((z)->RxJava2Adapter.singleToMono(userService.enhance(z))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->currentSession)).switchIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->context.getDelegate().setUser(new User(user)))).flatMap((z)->RxJava2Adapter.singleToMono(userService.enhance(z))).map
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->context.getDelegate().setUser(new User(user)))).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(currentSession))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(sessionObs).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((t)->logger.warn("Unable to restore the session", t))))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(currentSession))
1 | Mono | IMPORT
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate())).defaultIfEmpty(certificateManager.defaultCertificateProvider()))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.findByAlgorithm(client.getUserinfoSignedResponseAlg())).switchIfEmpty(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate()))).defaultIfEmpty(certificateManager.defaultCertificateProvider()))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificateManager.findByAlgorithm(client.getUserinfoSignedResponseAlg())).switchIfEmpty(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate()))).defaultIfEmpty
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.findByAlgorithm(signedResponseAlg)).switchIfEmpty(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate()))).defaultIfEmpty(certificateManager.defaultCertificateProvider()))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificateManager.findByAlgorithm(signedResponseAlg)).switchIfEmpty(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate()))).defaultIfEmpty
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate())).defaultIfEmpty(certificateManager.defaultCertificateProvider()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(decode(certificateProvider, jwt)).map(RxJavaReactorMigrationUtil.toJdkFunction(JWT::new)))
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | doOnError | METHOD_INVOCATION | authenticationFlowContextService.clearContext(context.session().get(ConstantKeys.TRANSACTION_ID_KEY)).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.info("Deletion of some authentication flow data fails \'{}\'", error.getMessage()))).as
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(clientSyncService.findById(clientId)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(clientId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientSyncService.findById(clientId)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(clientId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientSyncService.findById(clientId)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(clientId)))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientSyncService.findById(clientId)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(clientId)))).map
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientSyncService.findById(clientId)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(clientId))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.search(ReferenceType.DOMAIN, domain, criteria, 0, 2)).map(RxJavaReactorMigrationUtil.toJdkFunction((p)->new ArrayList<>(p.getData()))))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(saveOrUpdate(principal, afterAuthentication)).flatMap((user)->RxJava2Adapter.completableToMono(checkAccountStatus(user)).then(Mono.defer(()->RxJava2Adapter.singleToMono(userService.enhance(user))))))
1 | Mono | then | METHOD_INVOCATION | (user)->RxJava2Adapter.completableToMono(checkAccountStatus(user)).then(Mono.defer(()->RxJava2Adapter.singleToMono(userService.enhance(user))))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAccountStatus(user)).then(Mono.defer(()->RxJava2Adapter.singleToMono(userService.enhance(user))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(subject)).switchIfEmpty(Mono.error(new UserNotFoundException(subject))).flatMap((z)->RxJava2Adapter.maybeToMono(identityProviderManager.get(z.getSource())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((io.gravitee.am.identityprovider.api.AuthenticationProvider authenticationProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(request);
    final Authentication authentication = new EndUserAuthentication(z, null, authenticationContext);
    return authenticationProvider.loadPreAuthenticatedUser(authentication);
}).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, MaybeSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    Map<String, Object> additionalInformation = idpUser.getAdditionalInformation() == null ? new HashMap<>() : new HashMap<>(idpUser.getAdditionalInformation());
    additionalInformation.put(SOURCE_FIELD, z.getSource());
    additionalInformation.put(Parameters.CLIENT_ID, z.getClient());
    ((DefaultUser)idpUser).setAdditionalInformation(additionalInformation);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(update(z, idpUser, false)).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(a)))));
}).apply(v)))).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(userService.enhance(z))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(subject)).switchIfEmpty(Mono.error(new UserNotFoundException(subject))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(subject)).switchIfEmpty(Mono.error(new UserNotFoundException(subject)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | (z)->RxJava2Adapter.maybeToMono(identityProviderManager.get(z.getSource())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((io.gravitee.am.identityprovider.api.AuthenticationProvider authenticationProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(request);
    final Authentication authentication = new EndUserAuthentication(z, null, authenticationContext);
    return authenticationProvider.loadPreAuthenticatedUser(authentication);
}).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, MaybeSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    Map<String, Object> additionalInformation = idpUser.getAdditionalInformation() == null ? new HashMap<>() : new HashMap<>(idpUser.getAdditionalInformation());
    additionalInformation.put(SOURCE_FIELD, z.getSource());
    additionalInformation.put(Parameters.CLIENT_ID, z.getClient());
    ((DefaultUser)idpUser).setAdditionalInformation(additionalInformation);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(update(z, idpUser, false)).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(a)))));
}).apply(v)))).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(userService.enhance(z))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(z.getSource())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((io.gravitee.am.identityprovider.api.AuthenticationProvider authenticationProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(request);
    final Authentication authentication = new EndUserAuthentication(z, null, authenticationContext);
    return authenticationProvider.loadPreAuthenticatedUser(authentication);
}).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, MaybeSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    Map<String, Object> additionalInformation = idpUser.getAdditionalInformation() == null ? new HashMap<>() : new HashMap<>(idpUser.getAdditionalInformation());
    additionalInformation.put(SOURCE_FIELD, z.getSource());
    additionalInformation.put(Parameters.CLIENT_ID, z.getClient());
    ((DefaultUser)idpUser).setAdditionalInformation(additionalInformation);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(update(z, idpUser, false)).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(a)))));
}).apply(v)))).switchIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(z.getSource())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((io.gravitee.am.identityprovider.api.AuthenticationProvider authenticationProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(request);
    final Authentication authentication = new EndUserAuthentication(z, null, authenticationContext);
    return authenticationProvider.loadPreAuthenticatedUser(authentication);
}).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(update(z, idpUser, false)).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(a)))))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(z.getSource())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((io.gravitee.am.identityprovider.api.AuthenticationProvider authenticationProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(request);
    final Authentication authentication = new EndUserAuthentication(z, null, authenticationContext);
    return authenticationProvider.loadPreAuthenticatedUser(authentication);
}).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, MaybeSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    Map<String, Object> additionalInformation = idpUser.getAdditionalInformation() == null ? new HashMap<>() : new HashMap<>(idpUser.getAdditionalInformation());
    additionalInformation.put(SOURCE_FIELD, z.getSource());
    additionalInformation.put(Parameters.CLIENT_ID, z.getClient());
    ((DefaultUser)idpUser).setAdditionalInformation(additionalInformation);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(update(z, idpUser, false)).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(a)))));
}).apply(v)))).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(userService.enhance(z))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), principal.getUsername(), source)))))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), principal.getUsername(), source))))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(userService.update(user)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    if (user1.getEmail() != null && accountSettings.isSendRecoverAccountEmail()) {
        new Thread(()->emailService.send(Template.BLOCKED_ACCOUNT, user1, client)).start();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).type(EventType.USER_LOCKED).domain(criteria.domain()).client(criteria.client()).principal(null).user(user1)))).then())
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.update(user)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    if (user1.getEmail() != null && accountSettings.isSendRecoverAccountEmail()) {
        new Thread(()->emailService.send(Template.BLOCKED_ACCOUNT, user1, client)).start();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).type(EventType.USER_LOCKED).domain(criteria.domain()).client(criteria.client()).principal(null).user(user1)))).then
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.update(user)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    if (user1.getEmail() != null && accountSettings.isSendRecoverAccountEmail()) {
        new Thread(()->emailService.send(Template.BLOCKED_ACCOUNT, user1, client)).start();
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user));
}).apply(v)))).doOnSuccess
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), principal.getUsername(), source)))).switchIfEmpty(Mono.error(new UserNotFoundException(principal.getUsername()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), principal.getUsername(), source)))).switchIfEmpty
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), principal.getUsername(), source))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), principal.getUsername(), source)))).switchIfEmpty(Mono.error(new UserNotFoundException(principal.getUsername())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new AccountDisabledException("Account is disabled for user " + user.getUsername())))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domainExecutionPolicies))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(applicationExecutionPolicies))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Stream.concat(domainExecutionPolicies.stream(), applicationExecutionPolicies.stream()).collect(Collectors.toList())))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(rs512CertProvider))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(rs256CertProvider))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createdUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createdUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(User.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(User.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createdUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createdUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(User.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(User.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedUser))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(policy)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Arrays.asList(policy, policy)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationProvider(){
    
    () {
        super();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(Authentication authentication) {
        return RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")));
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(String username) {
        return RxJava2Adapter.monoToMaybe(Mono.empty());
    }
}))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationProvider(){
    
    () {
        super();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(Authentication authentication) {
        throw new BadCredentialsException();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(String username) {
        return RxJava2Adapter.monoToMaybe(Mono.empty());
    }
}))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationProvider(){
    
    () {
        super();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(Authentication authentication) {
        throw new BadCredentialsException();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(String username) {
        return RxJava2Adapter.monoToMaybe(Mono.empty());
    }
}))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationProvider(){
    
    () {
        super();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(Authentication authentication) {
        return RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")));
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(String username) {
        return RxJava2Adapter.monoToMaybe(Mono.empty());
    }
}))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new AccountDisabledException(idpUser.getUsername())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationProvider(){
    
    () {
        super();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(Authentication authentication) {
        return RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")));
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(String username) {
        return RxJava2Adapter.monoToMaybe(Mono.empty());
    }
}))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationProvider(){
    
    () {
        super();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(Authentication authentication) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UsernameNotFoundException("username")));
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(String username) {
        return RxJava2Adapter.monoToMaybe(Mono.empty());
    }
}))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new UsernameNotFoundException("username")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationProvider(){
    
    () {
        super();
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(Authentication authentication) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("username")));
    }
    
    @Override()
    public Maybe<io.gravitee.am.identityprovider.api.User> loadUserByUsername(String username) {
        return RxJava2Adapter.monoToMaybe(Mono.empty());
    }
}))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("username")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("token"))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(requestedClient))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(requestedClient))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(accessToken))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new JWTException("invalid token")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(accessToken))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("token"))
1 | Flux | IMPORT
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(flow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domainFlow, appFlow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domainFlow, appFlow))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domainFlow, appFlow))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(arg.getArgument(0)))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userDetailsService.loadUserByUsername((String)authentication.getPrincipal())).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    String presentedPassword = authentication.getCredentials().toString();
    if (!passwordEncoder.matches(presentedPassword, user.getPassword())) {
        LOGGER.debug("Authentication failed: password does not match stored value");
        throw new BadCredentialsException("Bad credentials");
    }
    return createUser(authentication.getContext(), user);
})))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userDetailsService.loadUserByUsername(username)).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->createUser(new SimpleAuthenticationContext(), user))))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new UsernameNotFoundException("username")))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    try {
        String username = (String)authentication.getPrincipal();
        String password = (String)authentication.getCredentials();
        AuthenticationResponse response = authenticator.authenticate(new AuthenticationRequest(username, new Credential(password), ReturnAttributes.ALL_USER.value()));
        if (response.getResult()) {
            LdapEntry userEntry = response.getLdapEntry();
            return userEntry;
        } else {
            LOGGER.debug("Failed to authenticate user", response.getMessage());
            throw new BadCredentialsException(response.getMessage());
        }
    } catch (LdapException e) {
        LOGGER.error("An error occurs during LDAP authentication", e);
        throw new InternalAuthenticationServiceException(e.getMessage(), e);
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction((ldapUser)->createUser(authentication.getContext(), ldapUser))))
1 | Mono | fromSupplier | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    try {
        String username = (String)authentication.getPrincipal();
        String password = (String)authentication.getCredentials();
        AuthenticationResponse response = authenticator.authenticate(new AuthenticationRequest(username, new Credential(password), ReturnAttributes.ALL_USER.value()));
        if (response.getResult()) {
            LdapEntry userEntry = response.getLdapEntry();
            return userEntry;
        } else {
            LOGGER.debug("Failed to authenticate user", response.getMessage());
            throw new BadCredentialsException(response.getMessage());
        }
    } catch (LdapException e) {
        LOGGER.error("An error occurs during LDAP authentication", e);
        throw new InternalAuthenticationServiceException(e.getMessage(), e);
    }
})).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    try {
        SearchFilter searchFilter = createSearchFilter(userSearchExecutor, username);
        SearchResult userSearchResult = userSearchExecutor.search(searchConnectionFactory, searchFilter).getResult();
        LdapEntry userEntry = userSearchResult.getEntry();
        if (userEntry != null) {
            return userEntry;
        } else {
            throw new UsernameNotFoundException(username);
        }
    } catch (LdapException e) {
        LOGGER.error("An error occurs while searching for a LDAP user", e);
        throw new InternalAuthenticationServiceException(e.getMessage(), e);
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction((ldapUser)->createUser(new SimpleAuthenticationContext(), ldapUser))))
1 | Mono | fromSupplier | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    try {
        SearchFilter searchFilter = createSearchFilter(userSearchExecutor, username);
        SearchResult userSearchResult = userSearchExecutor.search(searchConnectionFactory, searchFilter).getResult();
        LdapEntry userEntry = userSearchResult.getEntry();
        if (userEntry != null) {
            return userEntry;
        } else {
            throw new UsernameNotFoundException(username);
        }
    } catch (LdapException e) {
        LOGGER.error("An error occurs while searching for a LDAP user", e);
        throw new InternalAuthenticationServiceException(e.getMessage(), e);
    }
})).map
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Missing authorization code")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.postAbs(configuration.getAccessTokenUri()).putHeader(HttpHeaders.CONTENT_LENGTH, String.valueOf(bodyRequest.length())).putHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED).rxSendBuffer(Buffer.buffer(bodyRequest))).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpResponse.statusMessage());
    }
    Map<String, String> bodyResponse = URLEncodedUtils.format(httpResponse.bodyAsString());
    return new Token(bodyResponse.get("access_token"), TokenTypeHint.ACCESS_TOKEN);
})))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.getAbs(configuration.getUserProfileUri()).putHeader(HttpHeaders.AUTHORIZATION, "token " + accessToken.getValue()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpClientResponse)->{
    if (httpClientResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpClientResponse.statusMessage());
    }
    return createUser(authentication.getContext(), httpClientResponse.bodyAsJsonObject().getMap());
})))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(findUserByMultipleField(username)).collectList().flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)));
    }
    return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users));
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate((user)->{
    String password = user.getString(this.configuration.getPasswordField());
    String presentedPassword = authentication.getCredentials().toString();
    if (password == null) {
        LOGGER.debug("Authentication failed: password is null");
        return false;
    }
    if (configuration.isUseDedicatedSalt()) {
        String hash = user.getString(configuration.getPasswordSaltAttribute());
        if (!passwordEncoder.matches(presentedPassword, password, hash)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    } else {
        if (!passwordEncoder.matches(presentedPassword, password)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    }
    return true;
})).collectList().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Document>, MaybeSource<User>>)(users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Bad credentials")));
    }
    if (users.size() > 1) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Bad credentials")));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(this.createUser(authentication.getContext(), users.get(0))));
}).apply(e)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(findUserByMultipleField(username)).collectList().flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)));
    }
    return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users));
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate((user)->{
    String password = user.getString(this.configuration.getPasswordField());
    String presentedPassword = authentication.getCredentials().toString();
    if (password == null) {
        LOGGER.debug("Authentication failed: password is null");
        return false;
    }
    if (configuration.isUseDedicatedSalt()) {
        String hash = user.getString(configuration.getPasswordSaltAttribute());
        if (!passwordEncoder.matches(presentedPassword, password, hash)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    } else {
        if (!passwordEncoder.matches(presentedPassword, password)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    }
    return true;
})).collectList().flatMap
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(findUserByMultipleField(username)).collectList().flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)));
    }
    return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users));
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate((user)->{
    String password = user.getString(this.configuration.getPasswordField());
    String presentedPassword = authentication.getCredentials().toString();
    if (password == null) {
        LOGGER.debug("Authentication failed: password is null");
        return false;
    }
    if (configuration.isUseDedicatedSalt()) {
        String hash = user.getString(configuration.getPasswordSaltAttribute());
        if (!passwordEncoder.matches(presentedPassword, password, hash)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    } else {
        if (!passwordEncoder.matches(presentedPassword, password)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    }
    return true;
})).collectList
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(findUserByMultipleField(username)).collectList().flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)));
    }
    return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users));
})).filter
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(findUserByMultipleField(username)).collectList().flatMapMany
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)))
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Bad credentials")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Bad credentials")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(this.createUser(authentication.getContext(), users.get(0))))
1 | Flux | RETURN_TYPE
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(usersCol.find(query)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findUserByUsername(encodedUsername)).map(RxJavaReactorMigrationUtil.toJdkFunction((document)->createUser(new SimpleAuthenticationContext(), document))))
1 | Mono | RETURN_TYPE
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCol.find(query).first()), BackpressureStrategy.BUFFER).next())
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(query).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(query).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(query).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(query).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(findByUsername(username)).hasElement().flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, Single<User>>)(isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    } else {
        Document document = new Document();
        document.put(FIELD_ID, user.getId() != null ? user.getId() : RandomString.generate());
        document.put(configuration.getUsernameField(), username);
        if (user.getCredentials() != null) {
            if (configuration.isUseDedicatedSalt()) {
                byte[] salt = createSalt();
                document.put(configuration.getPasswordField(), passwordEncoder.encode(user.getCredentials(), salt));
                document.put(configuration.getPasswordSaltAttribute(), binaryToTextEncoder.encode(salt));
            } else {
                document.put(configuration.getPasswordField(), passwordEncoder.encode(user.getCredentials()));
            }
        }
        if (user.getAdditionalInformation() != null) {
            document.putAll(user.getAdditionalInformation());
        }
        document.put(FIELD_CREATED_AT, new Date());
        document.put(FIELD_UPDATED_AT, document.get(FIELD_CREATED_AT));
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(usersCollection.insertOne(document))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(document.getString(FIELD_ID))).single()));
    }
}).apply(v))))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findByUsername(username)).hasElement().flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(user.getUsername())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(usersCollection.insertOne(document))).flatMap((success)->RxJava2Adapter.maybeToMono(findById(document.getString(FIELD_ID))).single()))
1 | Mono | single | METHOD_INVOCATION | (success)->RxJava2Adapter.maybeToMono(findById(document.getString(FIELD_ID))).single()
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findById(id)).switchIfEmpty(Mono.error(new UserNotFoundException(id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findById(id)).switchIfEmpty(Mono.error(new UserNotFoundException(id)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(usersCollection.replaceOne(eq(FIELD_ID, oldUser.getId()), document))).flatMap((updateResult)->RxJava2Adapter.maybeToMono(findById(oldUser.getId())).single()))
1 | Mono | single | METHOD_INVOCATION | (updateResult)->RxJava2Adapter.maybeToMono(findById(oldUser.getId())).single()
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(findById(id)).switchIfEmpty(Mono.error(new UserNotFoundException(id))).flatMap((idpUser)->Mono.from(usersCollection.deleteOne(eq(FIELD_ID, id)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findById(id)).switchIfEmpty(Mono.error(new UserNotFoundException(id))).flatMap((idpUser)->Mono.from(usersCollection.deleteOne(eq(FIELD_ID, id)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findById(id)).switchIfEmpty(Mono.error(new UserNotFoundException(id))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findById(id)).switchIfEmpty(Mono.error(new UserNotFoundException(id)))
1 | Mono | from | METHOD_INVOCATION | (idpUser)->Mono.from(usersCollection.deleteOne(eq(FIELD_ID, id)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(eq(FIELD_ID, userId)).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(usersCollection.find(eq(FIELD_ID, userId)).first()), BackpressureStrategy.BUFFER).next().map
1 | Mono | block | METHOD_INVOCATION | Map<String, Object> providerConfiguration = RxJava2Adapter.singleToMono(client.getAbs(configuration.getWellKnownUri()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpClientResponse)->{
    if (httpClientResponse.statusCode() != 200) {
        throw new IllegalArgumentException("Invalid OIDC Well-Known Endpoint : " + httpClientResponse.statusMessage());
    }
    return httpClientResponse.bodyAsJsonObject().getMap();
})).block()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(client.getAbs(configuration.getWellKnownUri()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpClientResponse)->{
    if (httpClientResponse.statusCode() != 200) {
        throw new IllegalArgumentException("Invalid OIDC Well-Known Endpoint : " + httpClientResponse.statusMessage());
    }
    return httpClientResponse.bodyAsJsonObject().getMap();
})).block
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(requestHandler).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    final List<HttpResponseErrorCondition> errorConditions = createResourceConfiguration.getHttpResponseErrorConditions();
    Map<String, Object> userAttributes = processResponse(templateEngine, errorConditions, httpResponse);
    return convert(user.getUsername(), userAttributes);
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while creating user from the remote HTTP identity provider", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while creating the user", ex)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(requestHandler).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    final List<HttpResponseErrorCondition> errorConditions = updateResourceConfiguration.getHttpResponseErrorConditions();
    Map<String, Object> userAttributes = processResponse(templateEngine, errorConditions, httpResponse);
    return convert(updateUser.getUsername(), userAttributes);
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while updating user from the remote HTTP identity provider", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error has occurred while updating the user", ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(requestHandler).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<HttpResponse<Buffer>, CompletableSource>)(httpResponse)->{
    final List<HttpResponseErrorCondition> errorConditions = deleteResourceConfiguration.getHttpResponseErrorConditions();
    try {
        processResponse(templateEngine, errorConditions, httpResponse);
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    } catch (Exception ex) {
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    }
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(requestHandler).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<HttpResponse<Buffer>, CompletableSource>)(httpResponse)->{
    final List<HttpResponseErrorCondition> errorConditions = deleteResourceConfiguration.getHttpResponseErrorConditions();
    try {
        processResponse(templateEngine, errorConditions, httpResponse);
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    } catch (Exception ex) {
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    }
}).apply(y)))).then
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException("An error has occurred while deleting user from the remote HTTP identity provider", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException("An error has occurred while deleting the user", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(requestHandler).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    final List<HttpResponseErrorCondition> errorConditions = readResourceConfiguration.getHttpResponseErrorConditions();
    Map<String, Object> userAttributes = processResponse(templateEngine, errorConditions, httpResponse);
    return convert(user.getUsername(), userAttributes);
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error has occurred while searching user from the remote HTTP identity provider", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error has occurred while searching the user", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(requestHandler).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    final List<HttpResponseErrorCondition> errorConditions = resourceConfiguration.getHttpResponseErrorConditions();
    Map<String, Object> userAttributes = processResponse(templateEngine, errorConditions, httpResponse);
    return createUser(authentication.getContext(), userAttributes);
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InternalAuthenticationServiceException("An error has occurred while calling the remote HTTP identity provider", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InternalAuthenticationServiceException("An error has occurred while authenticating the user", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(requestHandler).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    final List<HttpResponseErrorCondition> errorConditions = readResourceConfiguration.getHttpResponseErrorConditions();
    Map<String, Object> userAttributes = processResponse(templateEngine, errorConditions, httpResponse);
    return createUser(authenticationContext, userAttributes);
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error has occurred when loading pre-authenticated user from the remote HTTP identity provider", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error has occurred when when loading pre-authenticated user", ex)))
1 | Mono | RETURN_TYPE
1 | Mono | block | METHOD_INVOCATION | Request request = RxJava2Adapter.maybeToMono(provider.asyncSignInUrl("https://gravitee.io", state)).block()
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authenticate(authentication)).flatMap((z)->this.profile(z, authentication).as(RxJava2Adapter::maybeToMono)))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Missing authorization code")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.postAbs(configuration.getAccessTokenUri()).rxSendForm(form)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<HttpResponse<Buffer>, MaybeSource<Token>>toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(httpResponse.bodyAsString())));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(new Token(httpResponse.bodyAsJsonObject().getString(ACCESS_TOKEN), TokenTypeHint.ACCESS_TOKEN)));
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(httpResponse.bodyAsString())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Token(httpResponse.bodyAsJsonObject().getString(ACCESS_TOKEN), TokenTypeHint.ACCESS_TOKEN)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.postAbs(configuration.getUserProfileUri()).rxSendForm(MultiMap.caseInsensitiveMultiMap().set(ACCESS_TOKEN, accessToken.getValue()).set(FIELDS, ALL_FIELDS_PARAM))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<HttpResponse<Buffer>, MaybeSource<User>>toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(httpResponse.bodyAsString())));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(convert(auth.getContext(), httpResponse.bodyAsJsonObject())));
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(httpResponse.bodyAsString())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(convert(auth.getContext(), httpResponse.bodyAsJsonObject())))
1 | Mono | block | METHOD_INVOCATION | (Request)RxJava2Adapter.maybeToMono(cut.asyncSignInUrl("https://gravitee.io", state)).block()
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(getClient().postAbs(getConfiguration().getRequestTokenUrl()).putHeader(HttpHeaders.AUTHORIZATION, authorization).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpResponse.statusMessage());
    }
    String body = httpResponse.bodyAsString();
    String[] tokenResponse = body.split("&");
    String token = null;
    String tokenSecret = null;
    String callbackState = null;
    for (String responsePair : tokenResponse) {
        String[] pair = responsePair.split("=");
        if (pair.length > 1) {
            if (OAUTH_TOKEN.equals(pair[0])) {
                token = pair[1];
            }
            if (OAUTH_TOKEN_SECRET.equals(pair[0])) {
                tokenSecret = pair[1];
            }
            if ("oauth_callback_confirmed".equals(pair[0])) {
                callbackState = pair[1];
            }
        }
    }
    if ("true".equalsIgnoreCase(callbackState)) {
        tokenMemory.put(token, tokenSecret);
        UriBuilder builder = UriBuilder.fromHttpUrl(configuration.getUserAuthorizationUri());
        builder.addParameter(OAUTH_TOKEN, token);
        Request request = new Request();
        request.setMethod(HttpMethod.GET);
        request.setUri(builder.build().toString());
        return request;
    }
    throw new BadCredentialsException("Token returned by Twitter mismatch");
})))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Missing OAuth Token")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Missing Token Verifier")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.postAbs(configuration.getAccessTokenUri()).putHeader(HttpHeaders.AUTHORIZATION, authorization).rxSendForm(form)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<HttpResponse<Buffer>, MaybeSource<Token>>toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(httpResponse.bodyAsString())));
    }
    String[] tokenInfo = httpResponse.bodyAsString().split("&");
    String token = "";
    String secret = "";
    for (String pairString : tokenInfo) {
        String[] pair = pairString.split("=");
        if (pair.length > 1) {
            if (pair[0].equalsIgnoreCase(OAUTH_TOKEN)) {
                token = pair[1];
            }
            if (pair[0].equalsIgnoreCase(OAUTH_TOKEN_SECRET)) {
                secret = pair[1];
            }
        }
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(new Token(token, secret, TokenTypeHint.ACCESS_TOKEN)));
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(httpResponse.bodyAsString())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Token(token, secret, TokenTypeHint.ACCESS_TOKEN)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.getAbs(configuration.getUserProfileUri() + "?include_email=true").putHeader(HttpHeaders.AUTHORIZATION, authorization).rxSend()).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<HttpResponse<Buffer>, MaybeSource<User>>toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(httpResponse.bodyAsString())));
    }
    JsonObject jsonObject = httpResponse.bodyAsJsonObject();
    DefaultUser user = new DefaultUser(jsonObject.getString(TWITTER_SCREEN_NAME));
    user.setId(jsonObject.getString(TWITTER_ID));
    Map<String, Object> additionalInfos = new HashMap<>();
    additionalInfos.putAll(applyUserMapping(authentication.getContext(), jsonObject.getMap()));
    user.setAdditionalInformation(additionalInfos);
    user.setRoles(applyRoleMapping(authentication.getContext(), jsonObject.getMap()));
    return RxJava2Adapter.monoToMaybe(Mono.just(user));
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException(httpResponse.bodyAsString())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | block | METHOD_INVOCATION | Request request = RxJava2Adapter.maybeToMono(provider.asyncSignInUrl("https://gravitee.io", RandomString.generate())).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(provider.asyncSignInUrl("https://gravitee.io", RandomString.generate())).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(provider.asyncSignInUrl("https://gravitee.io", RandomString.generate())).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(provider.asyncSignInUrl("https://gravitee.io", RandomString.generate())).block();
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Missing authorization code")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.postAbs(configuration.getAccessTokenUri()).putHeader(HttpHeaders.CONTENT_LENGTH, String.valueOf(bodyRequest.length())).putHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED).rxSendBuffer(Buffer.buffer(bodyRequest))).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpResponse.statusMessage());
    }
    JsonObject response = httpResponse.bodyAsJsonObject();
    String accessToken = response.getString(ACCESS_TOKEN_PARAMETER);
    String idToken = response.getString(ID_TOKEN_PARAMETER);
    if (!Strings.isNullOrEmpty(idToken)) {
        authentication.getContext().set(ID_TOKEN_PARAMETER, idToken);
    }
    return new Token(accessToken, TokenTypeHint.ACCESS_TOKEN);
})))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.getAbs(configuration.getUserProfileUri()).putHeader(HttpHeaders.AUTHORIZATION, "Bearer " + accessToken.getValue()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpClientResponse)->{
    if (httpClientResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpClientResponse.statusMessage());
    }
    return createUser(authentication.getContext(), httpClientResponse.bodyAsJsonObject().getMap());
})))
1 | Mono | subscribe | METHOD_INVOCATION | connectionPool.disposeLater().subscribe();
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(selectUserByMultipleField(username)).collectList().flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)));
    }
    return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users));
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate((result)->{
    String password = String.valueOf(result.get(configuration.getPasswordAttribute()));
    if (password == null) {
        LOGGER.debug("Authentication failed: password is null");
        return false;
    }
    if (configuration.isUseDedicatedSalt()) {
        String hash = String.valueOf(result.get(configuration.getPasswordSaltAttribute()));
        if (!passwordEncoder.matches(presentedPassword, password, hash)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    } else {
        if (!passwordEncoder.matches(presentedPassword, password)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    }
    return true;
})).collectList().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Map<String, Object>>, MaybeSource<User>>)(users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Bad credentials")));
    }
    if (users.size() > 1) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Bad credentials")));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(createUser(authentication.getContext(), users.get(0))));
}).apply(e)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(selectUserByMultipleField(username)).collectList().flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)));
    }
    return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users));
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate((result)->{
    String password = String.valueOf(result.get(configuration.getPasswordAttribute()));
    if (password == null) {
        LOGGER.debug("Authentication failed: password is null");
        return false;
    }
    if (configuration.isUseDedicatedSalt()) {
        String hash = String.valueOf(result.get(configuration.getPasswordSaltAttribute()));
        if (!passwordEncoder.matches(presentedPassword, password, hash)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    } else {
        if (!passwordEncoder.matches(presentedPassword, password)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    }
    return true;
})).collectList().flatMap
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(selectUserByMultipleField(username)).collectList().flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)));
    }
    return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users));
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate((result)->{
    String password = String.valueOf(result.get(configuration.getPasswordAttribute()));
    if (password == null) {
        LOGGER.debug("Authentication failed: password is null");
        return false;
    }
    if (configuration.isUseDedicatedSalt()) {
        String hash = String.valueOf(result.get(configuration.getPasswordSaltAttribute()));
        if (!passwordEncoder.matches(presentedPassword, password, hash)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    } else {
        if (!passwordEncoder.matches(presentedPassword, password)) {
            LOGGER.debug("Authentication failed: password does not match stored value");
            return false;
        }
    }
    return true;
})).collectList
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(selectUserByMultipleField(username)).collectList().flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((users)->{
    if (users.isEmpty()) {
        return RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)));
    }
    return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users));
})).filter
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(selectUserByMultipleField(username)).collectList().flatMapMany
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new UsernameNotFoundException(username)))
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(users))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Bad credentials")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Bad credentials")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(createUser(authentication.getContext(), users.get(0))))
1 | Flux | RETURN_TYPE
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(connectionPool.create()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((connection)->{
    Statement statement = connection.createStatement(sql);
    for (int i = 0; i < args.length; ++i) {
        statement = statement.bind(i, username);
    }
    return RxJava2Adapter.fluxToFlowable(Flux.from(statement.execute())).doFinally(()->RxJava2Adapter.monoToCompletable(Mono.from(connection.close())).subscribe());
})).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))))
1 | Flux | flatMap | METHOD_INVOCATION | Flux.from(connectionPool.create()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((connection)->{
    Statement statement = connection.createStatement(sql);
    for (int i = 0; i < args.length; ++i) {
        statement = statement.bind(i, username);
    }
    return RxJava2Adapter.fluxToFlowable(Flux.from(statement.execute())).doFinally(()->RxJava2Adapter.monoToCompletable(Mono.from(connection.close())).subscribe());
})).flatMap
1 | Flux | from | METHOD_INVOCATION | Flux.from(connectionPool.create()).flatMap
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(statement.execute()))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(connection.close()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(selectUserByUsername(username)).map(RxJavaReactorMigrationUtil.toJdkFunction((attributes)->createUser(new SimpleAuthenticationContext(), attributes))))
1 | Mono | RETURN_TYPE
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Flux.from(connectionPool.create()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((connection)->RxJava2Adapter.fluxToFlowable(Flux.from(connection.createStatement(sql).bind(0, username).execute())).doFinally(()->RxJava2Adapter.monoToCompletable(Mono.from(connection.close())).subscribe()))).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))).next())
1 | Flux | flatMap | METHOD_INVOCATION | Flux.from(connectionPool.create()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((connection)->RxJava2Adapter.fluxToFlowable(Flux.from(connection.createStatement(sql).bind(0, username).execute())).doFinally(()->RxJava2Adapter.monoToCompletable(Mono.from(connection.close())).subscribe()))).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))).next
1 | Flux | flatMap | METHOD_INVOCATION | Flux.from(connectionPool.create()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((connection)->RxJava2Adapter.fluxToFlowable(Flux.from(connection.createStatement(sql).bind(0, username).execute())).doFinally(()->RxJava2Adapter.monoToCompletable(Mono.from(connection.close())).subscribe()))).flatMap
1 | Flux | from | METHOD_INVOCATION | Flux.from(connectionPool.create()).flatMap
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(connection.createStatement(sql).bind(0, username).execute()))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(connection.close()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(Flux.just(tableExists(configuration.getProtocol(), configuration.getUsersTable()))).flatMapSingle((statement)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(statement, new Object[0])).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated))).first(0))).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((total)->{
    if (total == 0) {
        return RxJava2Adapter.fluxToFlowable(Flux.fromIterable(sqlStatements)).flatMapSingle((statement)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(statement, new Object[0])).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated))).first(0));
    } else {
        return RxJava2Adapter.fluxToFlowable(Flux.empty());
    }
})))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(tableExists(configuration.getProtocol(), configuration.getUsersTable())))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(statement, new Object[0])).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated)))
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(sqlStatements))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(statement, new Object[0])).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(selectUserByEmail(email)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::createUser)))
1 | Mono | RETURN_TYPE
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(query(sql, email)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))).next())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(query(sql, email)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))).next
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(selectUserByUsername(username)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::createUser)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.fromPublisher(connectionPool.create())).flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Connection, Single<User>>)(cnx)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(selectUserByUsername(cnx, user.getUsername())).hasElement().flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((isEmpty)->{
        if (!isEmpty) {
            return RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(user.getUsername())));
        } else {
            String sql;
            Object[] args;
            if (configuration.isUseDedicatedSalt()) {
                sql = String.format("INSERT INTO %s (%s, %s, %s, %s, %s, %s) VALUES (%s, %s, %s, %s, %s, %s)", configuration.getUsersTable(), configuration.getIdentifierAttribute(), configuration.getUsernameAttribute(), configuration.getPasswordAttribute(), configuration.getPasswordSaltAttribute(), configuration.getEmailAttribute(), configuration.getMetadataAttribute(), getIndexParameter(1, configuration.getIdentifierAttribute()), getIndexParameter(2, configuration.getUsernameAttribute()), getIndexParameter(3, configuration.getPasswordAttribute()), getIndexParameter(4, configuration.getPasswordSaltAttribute()), getIndexParameter(5, configuration.getEmailAttribute()), getIndexParameter(6, configuration.getMetadataAttribute()));
                args = new Object[6];
                byte[] salt = createSalt();
                args[0] = user.getId();
                args[1] = user.getUsername();
                args[2] = user.getCredentials() != null ? passwordEncoder.encode(user.getCredentials(), salt) : null;
                args[3] = user.getCredentials() != null ? binaryToTextEncoder.encode(salt) : null;
                args[4] = user.getEmail();
                args[5] = user.getAdditionalInformation() != null ? objectMapper.writeValueAsString(user.getAdditionalInformation()) : null;
            } else {
                sql = String.format("INSERT INTO %s (%s, %s, %s, %s, %s) VALUES (%s, %s, %s, %s, %s)", configuration.getUsersTable(), configuration.getIdentifierAttribute(), configuration.getUsernameAttribute(), configuration.getPasswordAttribute(), configuration.getEmailAttribute(), configuration.getMetadataAttribute(), getIndexParameter(1, configuration.getIdentifierAttribute()), getIndexParameter(2, configuration.getUsernameAttribute()), getIndexParameter(3, configuration.getPasswordAttribute()), getIndexParameter(4, configuration.getEmailAttribute()), getIndexParameter(5, configuration.getMetadataAttribute()));
                args = new Object[5];
                args[0] = user.getId();
                args[1] = user.getUsername();
                args[2] = user.getCredentials() != null ? passwordEncoder.encode(user.getCredentials()) : null;
                args[3] = user.getEmail();
                args[4] = user.getAdditionalInformation() != null ? objectMapper.writeValueAsString(user.getAdditionalInformation()) : null;
            }
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(cnx, sql, args)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated))).first(0)).map(RxJavaReactorMigrationUtil.toJdkFunction((result)->user)));
        }
    }).apply(x))))).doFinally(()->RxJava2Adapter.monoToCompletable(Mono.from(cnx.close())).subscribe());
}).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(selectUserByUsername(cnx, user.getUsername())).hasElement().flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Boolean, SingleSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    } else {
        String sql;
        Object[] args;
        if (configuration.isUseDedicatedSalt()) {
            sql = String.format("INSERT INTO %s (%s, %s, %s, %s, %s, %s) VALUES (%s, %s, %s, %s, %s, %s)", configuration.getUsersTable(), configuration.getIdentifierAttribute(), configuration.getUsernameAttribute(), configuration.getPasswordAttribute(), configuration.getPasswordSaltAttribute(), configuration.getEmailAttribute(), configuration.getMetadataAttribute(), getIndexParameter(1, configuration.getIdentifierAttribute()), getIndexParameter(2, configuration.getUsernameAttribute()), getIndexParameter(3, configuration.getPasswordAttribute()), getIndexParameter(4, configuration.getPasswordSaltAttribute()), getIndexParameter(5, configuration.getEmailAttribute()), getIndexParameter(6, configuration.getMetadataAttribute()));
            args = new Object[6];
            byte[] salt = createSalt();
            args[0] = user.getId();
            args[1] = user.getUsername();
            args[2] = user.getCredentials() != null ? passwordEncoder.encode(user.getCredentials(), salt) : null;
            args[3] = user.getCredentials() != null ? binaryToTextEncoder.encode(salt) : null;
            args[4] = user.getEmail();
            args[5] = user.getAdditionalInformation() != null ? objectMapper.writeValueAsString(user.getAdditionalInformation()) : null;
        } else {
            sql = String.format("INSERT INTO %s (%s, %s, %s, %s, %s) VALUES (%s, %s, %s, %s, %s)", configuration.getUsersTable(), configuration.getIdentifierAttribute(), configuration.getUsernameAttribute(), configuration.getPasswordAttribute(), configuration.getEmailAttribute(), configuration.getMetadataAttribute(), getIndexParameter(1, configuration.getIdentifierAttribute()), getIndexParameter(2, configuration.getUsernameAttribute()), getIndexParameter(3, configuration.getPasswordAttribute()), getIndexParameter(4, configuration.getEmailAttribute()), getIndexParameter(5, configuration.getMetadataAttribute()));
            args = new Object[5];
            args[0] = user.getId();
            args[1] = user.getUsername();
            args[2] = user.getCredentials() != null ? passwordEncoder.encode(user.getCredentials()) : null;
            args[3] = user.getEmail();
            args[4] = user.getAdditionalInformation() != null ? objectMapper.writeValueAsString(user.getAdditionalInformation()) : null;
        }
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(cnx, sql, args)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated))).first(0)).map(RxJavaReactorMigrationUtil.toJdkFunction((result)->user)));
    }
}).apply(x)))))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(selectUserByUsername(cnx, user.getUsername())).hasElement().flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(user.getUsername())))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(cnx, sql, args)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated))).first(0)).map(RxJavaReactorMigrationUtil.toJdkFunction((result)->user)))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(cnx, sql, args)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated)))
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(cnx.close()))
1 | Mono | RETURN_TYPE
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(query(cnx, sql, username)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))).next())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(query(cnx, sql, username)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))).next
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(sql, args)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated))).first(0)).flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Integer, Single<User>>)(rowsUpdated)->{
    if (rowsUpdated == 0) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(id)));
    }
    ((DefaultUser)updateUser).setId(id);
    return RxJava2Adapter.monoToSingle(Mono.just(updateUser));
}).apply(v))))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(query(sql, args)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(id)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updateUser))
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(query(sql, id)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated)).flatMap((y)->RxJava2Adapter.completableToMono(RxJavaReactorMigrationUtil.toJdkFunction((Function<Integer, Completable>)(rowsUpdated)->{
    if (rowsUpdated == 0) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserNotFoundException(id)));
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(query(sql, id)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated)).flatMap((y)->RxJava2Adapter.completableToMono(RxJavaReactorMigrationUtil.toJdkFunction((Function<Integer, Completable>)(rowsUpdated)->{
    if (rowsUpdated == 0) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserNotFoundException(id)));
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y))).then
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(query(sql, id)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(Result::getRowsUpdated)).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new UserNotFoundException(id)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.flowableToFlux(query(sql, username)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))).next())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(query(sql, username)).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((result)->result.map(ColumnMapRowMapper::mapRow))).next
1 | Flux | RETURN_TYPE
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(statement.execute()))
1 | Flux | RETURN_TYPE
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(Single.fromPublisher(connectionPool.create())).flux().flatMap(RxJavaReactorMigrationUtil.toJdkFunction((connection)->query(connection, sql, args).doFinally(()->RxJava2Adapter.monoToCompletable(Mono.from(connection.close())).subscribe()))))
1 | Mono | flux | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.fromPublisher(connectionPool.create())).flux().flatMap
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(connection.close()))
1 | Mono | block | METHOD_INVOCATION | User createdUser = RxJava2Adapter.singleToMono(userProvider.create(user)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userProvider.update(createdUser.getId(), updateUser)).block();
1 | Mono | block | METHOD_INVOCATION | User createdUser = RxJava2Adapter.singleToMono(userProvider.create(user)).block()
1 | Mono | IMPORT
1 | Mono | block | METHOD_INVOCATION | Connection connection = connectionPool.create().block()
1 | Mono | from | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.from(connection.close()))
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.fromPublisher(connection.createStatement("create table users(id varchar(256), username varchar(256), password varchar(256), email varchar(256), metadata text)").execute())).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.fromPublisher(connection.createStatement("insert into users values(\'1\', \'bob\', \'bobspassword\', null, null)").execute())).block();
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.fromPublisher(connection.createStatement("insert into users(id, username, password, email, metadata) values( @id, @username, @password, @email , @metadata)").bind("id", "2").bind("username", "user01").bind("password", "user01").bind("email", "user01@acme.com").bindNull("metadata", String.class).execute())).flatMap((rp)->RxJava2Adapter.singleToMono(Single.fromPublisher(rp.getRowsUpdated()))).block();
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.fromPublisher(connection.createStatement("insert into users(id, username, password, email, metadata) values( @id, @username, @password, @email , @metadata)").bind("id", "2").bind("username", "user01").bind("password", "user01").bind("email", "user01@acme.com").bindNull("metadata", String.class).execute())).flatMap((rp)->RxJava2Adapter.singleToMono(Single.fromPublisher(rp.getRowsUpdated()))).block
1 | Mono | block | METHOD_INVOCATION | (Request)RxJava2Adapter.maybeToMono(provider.asyncSignInUrl("https://gravitee.io", state)).block()
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException("Missing authorization code")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.postAbs(configuration.getAccessTokenUri()).putHeader(HttpHeaders.CONTENT_LENGTH, String.valueOf(bodyRequest.length())).putHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED).rxSendBuffer(Buffer.buffer(bodyRequest))).map(RxJavaReactorMigrationUtil.toJdkFunction((httpResponse)->{
    if (httpResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpResponse.statusMessage());
    }
    JsonObject response = httpResponse.bodyAsJsonObject();
    String accessToken = response.getString("access_token");
    return new Token(accessToken, TokenTypeHint.ACCESS_TOKEN);
})))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.getAbs(configuration.getUserProfileUri()).putHeader(HttpHeaders.AUTHORIZATION, "Bearer " + accessToken.getValue()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpClientResponse)->{
    if (httpClientResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpClientResponse.statusMessage());
    }
    return createUser(authentication.getContext(), httpClientResponse.bodyAsJsonObject());
})).flatMap((z)->RxJava2Adapter.maybeToMono(requestEmailAddress(accessToken)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Optional<java.lang.String> address)->{
    address.ifPresent((java.lang.String value)->{
        ((DefaultUser)z).setEmail(value);
        ((DefaultUser)z).setUsername(value);
        z.getAdditionalInformation().put(StandardClaims.EMAIL, value);
        z.getAdditionalInformation().put(StandardClaims.PREFERRED_USERNAME, value);
    });
    return z;
}))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(client.getAbs(configuration.getUserProfileUri()).putHeader(HttpHeaders.AUTHORIZATION, "Bearer " + accessToken.getValue()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpClientResponse)->{
    if (httpClientResponse.statusCode() != 200) {
        throw new BadCredentialsException(httpClientResponse.statusMessage());
    }
    return createUser(authentication.getContext(), httpClientResponse.bodyAsJsonObject());
})).flatMap
1 | Mono | map | METHOD_INVOCATION | (z)->RxJava2Adapter.maybeToMono(requestEmailAddress(accessToken)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Optional<java.lang.String> address)->{
    address.ifPresent((java.lang.String value)->{
        ((DefaultUser)z).setEmail(value);
        ((DefaultUser)z).setUsername(value);
        z.getAdditionalInformation().put(StandardClaims.EMAIL, value);
        z.getAdditionalInformation().put(StandardClaims.PREFERRED_USERNAME, value);
    });
    return z;
}))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.getAbs(configuration.getUserEmailAddressUri()).putHeader(HttpHeaders.AUTHORIZATION, "Bearer " + accessToken.getValue()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction((httpClientResponse)->{
    if (httpClientResponse.statusCode() == 200) {
        String email = null;
        JsonObject payload = httpClientResponse.bodyAsJsonObject();
        if (payload != null && payload.containsKey("elements")) {
            JsonArray elements = payload.getJsonArray("elements");
            for (int i = 0; i < elements.size(); ++i) {
                JsonObject emailPayload = elements.getJsonObject(i);
                if (emailPayload != null && emailPayload.containsKey("handle~")) {
                    JsonObject handle = emailPayload.getJsonObject("handle~");
                    email = handle.getString("emailAddress");
                    break;
                }
            }
        }
        return Optional.ofNullable(email);
    } else {
        LOGGER.warn("Unable to retrieve the LinkedIn email address : {}", httpClientResponse.statusMessage());
        return Optional.empty();
    }
})))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(Optional.empty()))
1 | Mono | block | METHOD_INVOCATION | Request request = RxJava2Adapter.maybeToMono(provider.asyncSignInUrl("https://gravitee.io", state)).block()
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, (String)context.get(KEY_ORGANIZATION_ID), username, "gravitee")).filter(RxJavaReactorMigrationUtil.toJdkPredicate((user)->{
    String presentedPassword = authentication.getCredentials().toString();
    if (user.getPassword() == null) {
        LOGGER.debug("Authentication failed: password is null");
        return false;
    }
    if (!passwordEncoder.matches(presentedPassword, user.getPassword())) {
        LOGGER.debug("Authentication failed: password does not match stored value");
        return false;
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    DefaultUser idpUser = new DefaultUser(user.getUsername());
    idpUser.setId(user.getId());
    idpUser.setCredentials(user.getPassword());
    idpUser.setEmail(user.getEmail());
    idpUser.setAdditionalInformation(user.getAdditionalInformation() == null ? new HashMap<>() : user.getAdditionalInformation());
    idpUser.setFirstName(user.getFirstName());
    idpUser.setLastName(user.getLastName());
    idpUser.setAccountExpired(!user.isAccountNonExpired());
    idpUser.setCreatedAt(user.getCreatedAt());
    idpUser.setEnabled(user.isEnabled());
    idpUser.setUpdatedAt(user.getUpdatedAt());
    return idpUser;
})))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, (String)context.get(KEY_ORGANIZATION_ID), username, "gravitee")).filter(RxJavaReactorMigrationUtil.toJdkPredicate((user)->{
    String presentedPassword = authentication.getCredentials().toString();
    if (user.getPassword() == null) {
        LOGGER.debug("Authentication failed: password is null");
        return false;
    }
    if (!passwordEncoder.matches(presentedPassword, user.getPassword())) {
        LOGGER.debug("Authentication failed: password does not match stored value");
        return false;
    }
    return true;
})).map
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updateUser))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(convert(nimbusJwk, true).collect(Collectors.toList())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificateKey))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificateKeys.stream().filter((c)->c.getFmt().equals(CertificateFormat.SSH_RSA)).map(CertificateKey::getPayload).findFirst().get()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificateKeys))
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(keys))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(convert(nimbusJwk, true).collect(Collectors.toList())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificateKey))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificateKeys.stream().filter((c)->c.getFmt().equals(CertificateFormat.SSH_RSA)).map(CertificateKey::getPayload).findFirst().get()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificateKeys))
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(keys))
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    try {
        JWT jwt = jwtParser.parse(assertion);
        return createUser(jwt);
    } catch (MalformedJWTException | ExpiredJWTException | PrematureJWTException | SignatureException ex) {
        LOGGER.debug(ex.getMessage(), ex.getCause());
        throw new InvalidGrantException(ex.getMessage(), ex);
    } catch (Exception ex) {
        LOGGER.error(ex.getMessage(), ex.getCause());
        throw new InvalidGrantException(ex.getMessage(), ex);
    }
})).flux().next())
1 | Mono | flux | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    try {
        JWT jwt = jwtParser.parse(assertion);
        return createUser(jwt);
    } catch (MalformedJWTException | ExpiredJWTException | PrematureJWTException | SignatureException ex) {
        LOGGER.debug(ex.getMessage(), ex.getCause());
        throw new InvalidGrantException(ex.getMessage(), ex);
    } catch (Exception ex) {
        LOGGER.error(ex.getMessage(), ex.getCause());
        throw new InvalidGrantException(ex.getMessage(), ex);
    }
})).flux().next
1 | Mono | fromSupplier | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    try {
        JWT jwt = jwtParser.parse(assertion);
        return createUser(jwt);
    } catch (MalformedJWTException | ExpiredJWTException | PrematureJWTException | SignatureException ex) {
        LOGGER.debug(ex.getMessage(), ex.getCause());
        throw new InvalidGrantException(ex.getMessage(), ex);
    } catch (Exception ex) {
        LOGGER.error(ex.getMessage(), ex.getCause());
        throw new InvalidGrantException(ex.getMessage(), ex);
    }
})).flux
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalArgumentException("Analytics [" + analyticsType + "] cannot be calculated")))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromPublisher(reportableCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, id))).first()), BackpressureStrategy.BUFFER).next().map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromPublisher(reportableCollection.find(and(eq(FIELD_REFERENCE_TYPE, referenceType.name()), eq(FIELD_REFERENCE_ID, referenceId), eq(FIELD_ID, id))).first()), BackpressureStrategy.BUFFER).next().map
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(bulkProcessor.buffer(configuration.getFlushInterval(), TimeUnit.SECONDS, configuration.getBulkActions())).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::bulk)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromPublisher(reportableCollection.aggregate(Arrays.asList(Aggregates.match(query), Aggregates.group(new BasicDBObject("_id", new BasicDBObject("$subtract", Arrays.asList(new BasicDBObject("$subtract", Arrays.asList("$timestamp", new Date(0))), new BasicDBObject("$mod", Arrays.asList(new BasicDBObject("$subtract", Arrays.asList("$timestamp", new Date(0))), criteria.interval()))))), Accumulators.sum(fieldSuccess, new BasicDBObject("$cond", Arrays.asList(new BasicDBObject("$eq", Arrays.asList("$outcome.status", Status.SUCCESS)), 1, 0))), Accumulators.sum(fieldFailure, new BasicDBObject("$cond", Arrays.asList(new BasicDBObject("$eq", Arrays.asList("$outcome.status", Status.FAILURE)), 1, 0))))), Document.class)).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((docs)->{
    Map<Long, Long> successResult = new HashMap<>();
    Map<Long, Long> failureResult = new HashMap<>();
    docs.forEach((document)->{
        Long timestamp = ((Number)((Document)document.get("_id")).get("_id")).longValue();
        Long successAttempts = ((Number)document.get(fieldSuccess)).longValue();
        Long failureAttempts = ((Number)document.get(fieldFailure)).longValue();
        successResult.put(timestamp, successAttempts);
        failureResult.put(timestamp, failureAttempts);
    });
    intervals.forEach((k,v)->{
        successResult.putIfAbsent(k, v);
        failureResult.putIfAbsent(k, v);
    });
    List<Long> successData = successResult.entrySet().stream().sorted(Map.Entry.comparingByKey()).map(Entry::getValue).collect(Collectors.toList());
    List<Long> failureData = failureResult.entrySet().stream().sorted(Map.Entry.comparingByKey()).map(Entry::getValue).collect(Collectors.toList());
    Map<Object, Object> result = new HashMap<>();
    result.put(fieldSuccess, successData);
    result.put(fieldFailure, failureData);
    return result;
})))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromPublisher(reportableCollection.aggregate(Arrays.asList(Aggregates.match(query), Aggregates.group(new BasicDBObject("_id", "$" + criteria.field()), Accumulators.sum("count", 1)), Aggregates.limit(criteria.size() != null ? criteria.size() : 50)), Document.class)).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((docs)->docs.stream().collect(Collectors.toMap((d)->((Document)d.get("_id")).get("_id"), (d)->d.get("count"))))))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromPublisher(reportableCollection.countDocuments(query)).first(0L)).map(RxJavaReactorMigrationUtil.toJdkFunction((data)->Collections.singletonMap("data", data))))
1 | Flux | RETURN_TYPE
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(reportableCollection.bulkWrite(this.convert(audits))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(histogram.fetch().all().collectList())
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.emptyList(), page, size)))
1 | Mono | LOCAL_VARIABLE
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(query.as(AuditJdbc.class).fetch().all().map(this::convert).concatMap(this::fillWithActor).concatMap(this::fillWithTarget).concatMap(this::fillWithAccessPoint).concatMap(this::fillWithOutcomes).collectList().flatMap((content)->total.map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long value)->new Page<Audit>(content, page, value)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve reports for referenceType {} and referenceId {}", referenceType, referenceId, error))))
1 | Mono | flatMap | METHOD_INVOCATION | query.as(AuditJdbc.class).fetch().all().map(this::convert).concatMap(this::fillWithActor).concatMap(this::fillWithTarget).concatMap(this::fillWithAccessPoint).concatMap(this::fillWithOutcomes).collectList().flatMap((content)->total.map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long value)->new Page<Audit>(content, page, value)))).doOnError
1 | Flux | collectList | METHOD_INVOCATION | query.as(AuditJdbc.class).fetch().all().map(this::convert).concatMap(this::fillWithActor).concatMap(this::fillWithTarget).concatMap(this::fillWithAccessPoint).concatMap(this::fillWithOutcomes).collectList().flatMap
1 | Flux | concatMap | METHOD_INVOCATION | query.as(AuditJdbc.class).fetch().all().map(this::convert).concatMap(this::fillWithActor).concatMap(this::fillWithTarget).concatMap(this::fillWithAccessPoint).concatMap(this::fillWithOutcomes).collectList
1 | Flux | concatMap | METHOD_INVOCATION | query.as(AuditJdbc.class).fetch().all().map(this::convert).concatMap(this::fillWithActor).concatMap(this::fillWithTarget).concatMap(this::fillWithAccessPoint).concatMap
1 | Flux | concatMap | METHOD_INVOCATION | query.as(AuditJdbc.class).fetch().all().map(this::convert).concatMap(this::fillWithActor).concatMap(this::fillWithTarget).concatMap
1 | Flux | concatMap | METHOD_INVOCATION | query.as(AuditJdbc.class).fetch().all().map(this::convert).concatMap(this::fillWithActor).concatMap
1 | Flux | map | METHOD_INVOCATION | query.as(AuditJdbc.class).fetch().all().map(this::convert).concatMap
1 | Mono | map | METHOD_INVOCATION | (content)->total.map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Long value)->new Page<Audit>(content, page, value)))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalArgumentException("Analytics [" + analyticsType + "] cannot be calculated")))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(result))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(dialectHelper.buildAndProcessHistogram(dbClient, referenceType, referenceId, criteria)).map(RxJavaReactorMigrationUtil.toJdkFunction((stats)->{
    Map<Long, Long> successResult = new TreeMap<>();
    Map<Long, Long> failureResult = new TreeMap<>();
    stats.forEach((slotValue)->{
        Long timestamp = ((Number)slotValue.get("slot")).longValue();
        Long attempts = ((Number)slotValue.get("attempts")).longValue();
        if (((String)slotValue.get("status")).equalsIgnoreCase("success")) {
            successResult.put(timestamp, attempts);
        } else {
            failureResult.put(timestamp, attempts);
        }
    });
    intervals.forEach((k,v)->{
        successResult.putIfAbsent(k, v);
        failureResult.putIfAbsent(k, v);
    });
    List<Long> successData = successResult.entrySet().stream().map(Entry::getValue).collect(Collectors.toList());
    List<Long> failureData = failureResult.entrySet().stream().map(Entry::getValue).collect(Collectors.toList());
    Map<Object, Object> result = new HashMap<>();
    result.put(fieldSuccess, successData);
    result.put(fieldFailure, failureData);
    return result;
})))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonMap("data", 0L)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(count.as(Long.class).fetch().first().switchIfEmpty(Mono.just(0L)).map(RxJavaReactorMigrationUtil.toJdkFunction((data)->Collections.singletonMap("data", data))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | count.as(Long.class).fetch().first().switchIfEmpty(Mono.just(0L)).map
1 | Mono | just | METHOD_INVOCATION | count.as(Long.class).fetch().first().switchIfEmpty(Mono.just(0L))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()))
1 | Flux | collectMap | METHOD_INVOCATION | monoToSingle(groupBy.fetch().all().collectMap((f)->f.get(convertFieldName(criteria)), (f)->f.get("counter")))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | LOCAL_VARIABLE
1 | Mono | flatMap | METHOD_INVOCATION | Mono<Audit> auditMono = dbClient.select().from(auditsTable).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())).and(where("id").is(id)))).as(AuditJdbc.class).fetch().first().map(this::convert).flatMap(this::fillWithActor).flatMap(this::fillWithTarget).flatMap(this::fillWithAccessPoint).flatMap(this::fillWithOutcomes)
1 | Mono | flatMap | METHOD_INVOCATION | dbClient.select().from(auditsTable).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())).and(where("id").is(id)))).as(AuditJdbc.class).fetch().first().map(this::convert).flatMap(this::fillWithActor).flatMap(this::fillWithTarget).flatMap(this::fillWithAccessPoint).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | dbClient.select().from(auditsTable).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())).and(where("id").is(id)))).as(AuditJdbc.class).fetch().first().map(this::convert).flatMap(this::fillWithActor).flatMap(this::fillWithTarget).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | dbClient.select().from(auditsTable).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())).and(where("id").is(id)))).as(AuditJdbc.class).fetch().first().map(this::convert).flatMap(this::fillWithActor).flatMap
1 | Mono | map | METHOD_INVOCATION | dbClient.select().from(auditsTable).matching(from(where("reference_id").is(referenceId).and(where("reference_type").is(referenceType.name())).and(where("id").is(id)))).as(AuditJdbc.class).fetch().first().map(this::convert).flatMap
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(auditMono.doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.error("Unable to retrieve the Report with referenceType {}, referenceId {} and id {}", referenceType, referenceId, id, error))))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | return dbClient.select().from(auditEntitiesTable).matching(from(where("audit_id").is(audit.getId()).and(where("audit_field").is("actor")))).as(AuditEntityJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty(Mono.just(audit));
1 | Mono | map | METHOD_INVOCATION | dbClient.select().from(auditEntitiesTable).matching(from(where("audit_id").is(audit.getId()).and(where("audit_field").is("actor")))).as(AuditEntityJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty
1 | Mono | just | METHOD_INVOCATION | dbClient.select().from(auditEntitiesTable).matching(from(where("audit_id").is(audit.getId()).and(where("audit_field").is("actor")))).as(AuditEntityJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty(Mono.just(audit))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | return dbClient.select().from(auditEntitiesTable).matching(from(where("audit_id").is(audit.getId()).and(where("audit_field").is("target")))).as(AuditEntityJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty(Mono.just(audit));
1 | Mono | map | METHOD_INVOCATION | dbClient.select().from(auditEntitiesTable).matching(from(where("audit_id").is(audit.getId()).and(where("audit_field").is("target")))).as(AuditEntityJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty
1 | Mono | just | METHOD_INVOCATION | dbClient.select().from(auditEntitiesTable).matching(from(where("audit_id").is(audit.getId()).and(where("audit_field").is("target")))).as(AuditEntityJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty(Mono.just(audit))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | return dbClient.select().from(auditAccessPointsTable).matching(from(where("audit_id").is(audit.getId()))).as(AuditAccessPointJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty(Mono.just(audit));
1 | Mono | map | METHOD_INVOCATION | dbClient.select().from(auditAccessPointsTable).matching(from(where("audit_id").is(audit.getId()))).as(AuditAccessPointJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty
1 | Mono | just | METHOD_INVOCATION | dbClient.select().from(auditAccessPointsTable).matching(from(where("audit_id").is(audit.getId()))).as(AuditAccessPointJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty(Mono.just(audit))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | return dbClient.select().from(auditOutcomesTable).matching(from(where("audit_id").is(audit.getId()))).as(AuditOutcomeJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty(Mono.just(audit));
1 | Mono | map | METHOD_INVOCATION | dbClient.select().from(auditOutcomesTable).matching(from(where("audit_id").is(audit.getId()))).as(AuditOutcomeJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty
1 | Mono | just | METHOD_INVOCATION | dbClient.select().from(auditOutcomesTable).matching(from(where("audit_id").is(audit.getId()))).as(AuditOutcomeJdbc.class).fetch().first().map((entity)->fillWith(audit, entity)).switchIfEmpty(Mono.just(audit))
1 | Flux | RETURN_TYPE
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | from | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.from(Flux.fromIterable(audits).flatMap(this::insertReport, 2)))
1 | Flux | flatMap | METHOD_INVOCATION | Flux.from(Flux.fromIterable(audits).flatMap(this::insertReport, 2))
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(audits).flatMap
1 | Mono | OTHER
1 | Mono | LOCAL_VARIABLE
1 | Mono | then | METHOD_INVOCATION | insertAction = insertAction.then(prepateInsertEntity(audit, actor, "actor"))
1 | Mono | then | METHOD_INVOCATION | insertAction = insertAction.then(prepateInsertEntity(audit, target, "target"))
1 | Mono | then | METHOD_INVOCATION | insertAction = insertAction.then(insertOutcomeSpec.fetch().rowsUpdated())
1 | Mono | then | METHOD_INVOCATION | insertAction = insertAction.then(insertAccessPointSpec.fetch().rowsUpdated())
1 | Mono | RETURN_TYPE
1 | Mono | subscribe | METHOD_INVOCATION | dbClient.execute(dialectHelper.tableExists(auditsTable)).as(Integer.class).fetch().first().switchIfEmpty(Mono.just(0)).flatMap((found)->{
    if (found == 0) {
        return Flux.fromIterable(sqlStatements).concatMap((statement)->dbClient.execute(statement).then()).then();
    } else {
        return Mono.empty();
    }
}).doOnError((error)->LOGGER.error("Unable to initialize Database", error)).doOnTerminate(this::initializeBulkProcessor).subscribe();
1 | Mono | doOnTerminate | METHOD_INVOCATION | dbClient.execute(dialectHelper.tableExists(auditsTable)).as(Integer.class).fetch().first().switchIfEmpty(Mono.just(0)).flatMap((found)->{
    if (found == 0) {
        return Flux.fromIterable(sqlStatements).concatMap((statement)->dbClient.execute(statement).then()).then();
    } else {
        return Mono.empty();
    }
}).doOnError((error)->LOGGER.error("Unable to initialize Database", error)).doOnTerminate(this::initializeBulkProcessor).subscribe
1 | Mono | doOnError | METHOD_INVOCATION | dbClient.execute(dialectHelper.tableExists(auditsTable)).as(Integer.class).fetch().first().switchIfEmpty(Mono.just(0)).flatMap((found)->{
    if (found == 0) {
        return Flux.fromIterable(sqlStatements).concatMap((statement)->dbClient.execute(statement).then()).then();
    } else {
        return Mono.empty();
    }
}).doOnError((error)->LOGGER.error("Unable to initialize Database", error)).doOnTerminate
1 | Mono | flatMap | METHOD_INVOCATION | dbClient.execute(dialectHelper.tableExists(auditsTable)).as(Integer.class).fetch().first().switchIfEmpty(Mono.just(0)).flatMap((found)->{
    if (found == 0) {
        return Flux.fromIterable(sqlStatements).concatMap((statement)->dbClient.execute(statement).then()).then();
    } else {
        return Mono.empty();
    }
}).doOnError
1 | Mono | switchIfEmpty | METHOD_INVOCATION | dbClient.execute(dialectHelper.tableExists(auditsTable)).as(Integer.class).fetch().first().switchIfEmpty(Mono.just(0)).flatMap
1 | Mono | just | METHOD_INVOCATION | dbClient.execute(dialectHelper.tableExists(auditsTable)).as(Integer.class).fetch().first().switchIfEmpty(Mono.just(0))
1 | Flux | then | METHOD_INVOCATION | return Flux.fromIterable(sqlStatements).concatMap((statement)->dbClient.execute(statement).then()).then();
1 | Flux | concatMap | METHOD_INVOCATION | Flux.fromIterable(sqlStatements).concatMap((statement)->dbClient.execute(statement).then()).then
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(sqlStatements).concatMap
1 | Mono | empty | METHOD_INVOCATION | return Mono.empty();
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(bulkProcessor.buffer(configuration.getFlushInterval(), TimeUnit.SECONDS, configuration.getBulkActions())).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(JdbcAuditReporter.this::bulk)))
1 | Mono | subscribe | METHOD_INVOCATION | connectionFactory.disposeLater().subscribe();
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Flux.fromIterable(intervals.keySet()).flatMap((slot)->{
    String beginSlot = dateTimeFormatter.format(LocalDateTime.ofInstant(Instant.ofEpochMilli(slot), ZoneId.of(ZoneOffset.UTC.getId())));
    String endSlot = dateTimeFormatter.format(LocalDateTime.ofInstant(Instant.ofEpochMilli(slot + criteria.interval()), ZoneId.of(ZoneOffset.UTC.getId())));
    String query = " SELECT " + slot + " as slot, o.status, COUNT(o.status) as attempts " + queryBuilder.toString() + whereClauseBuilder.toString() + " AND \'" + beginSlot + "\' <= a.timestamp and \'" + endSlot + "\' >= a.timestamp  GROUP BY o.status ORDER BY o.status ";
    for (Map.Entry<String, Object> bind : bindings.entrySet()) {
        Object value = bind.getValue();
        if (value instanceof List) {
            String types = ((List<String>)value).stream().collect(Collectors.joining("\',\'", "\'", "\'"));
            query = query.replaceAll(":" + bind.getKey(), types);
        } else if (value instanceof LocalDateTime) {
            query = query.replaceAll(":" + bind.getKey(), "\'" + dateTimeFormatter.format((LocalDateTime)value) + "\'");
        } else {
            query = query.replaceAll(":" + bind.getKey(), "\'" + String.valueOf(value) + "\'");
        }
    }
    return dbClient.execute(query).fetch().all();
}).collectList())
1 | Flux | flatMap | METHOD_INVOCATION | Flux.fromIterable(intervals.keySet()).flatMap((slot)->{
    String beginSlot = dateTimeFormatter.format(LocalDateTime.ofInstant(Instant.ofEpochMilli(slot), ZoneId.of(ZoneOffset.UTC.getId())));
    String endSlot = dateTimeFormatter.format(LocalDateTime.ofInstant(Instant.ofEpochMilli(slot + criteria.interval()), ZoneId.of(ZoneOffset.UTC.getId())));
    String query = " SELECT " + slot + " as slot, o.status, COUNT(o.status) as attempts " + queryBuilder.toString() + whereClauseBuilder.toString() + " AND \'" + beginSlot + "\' <= a.timestamp and \'" + endSlot + "\' >= a.timestamp  GROUP BY o.status ORDER BY o.status ";
    for (Map.Entry<String, Object> bind : bindings.entrySet()) {
        Object value = bind.getValue();
        if (value instanceof List) {
            String types = ((List<String>)value).stream().collect(Collectors.joining("\',\'", "\'", "\'"));
            query = query.replaceAll(":" + bind.getKey(), types);
        } else if (value instanceof LocalDateTime) {
            query = query.replaceAll(":" + bind.getKey(), "\'" + dateTimeFormatter.format((LocalDateTime)value) + "\'");
        } else {
            query = query.replaceAll(":" + bind.getKey(), "\'" + String.valueOf(value) + "\'");
        }
    }
    return dbClient.execute(query).fetch().all();
}).collectList
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(intervals.keySet()).flatMap
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | fromSupplier | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    final String key = SharedSecret.generate();
    final String barCode = QRCode.generate(QRCode.generateURI(key, otpFactorConfiguration.getIssuer(), account), 200, 200);
    return new Enrollment(key, barCode);
})))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | fromSupplier | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    final String key = enrolledFactor.getSecurity().getValue();
    final String username = user.getUsername();
    return QRCode.generate(QRCode.generateURI(key, otpFactorConfiguration.getIssuer(), username), 200, 200);
})))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authenticationProvider.loadUserByUsername(endUserAuthentication)).switchIfEmpty(Mono.error(new BadCredentialsException("Unable to authenticate social provider, authentication provider has returned empty value"))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticationProvider.loadUserByUsername(endUserAuthentication)).switchIfEmpty(Mono.error(new BadCredentialsException("Unable to authenticate social provider, authentication provider has returned empty value")))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(domainRepository.findAllByReferenceId(domain.getReferenceId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((d)->!domain.getId().equals(d.getId()))).collectList())
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRepository.findAllByReferenceId(domain.getReferenceId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((d)->!domain.getId().equals(d.getId()))).collectList
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(state, certificateManager.defaultCertificateProvider())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((stateJwt)->{
    final MultiMap initialQueryParams = RequestUtils.getQueryParams((String)stateJwt.getOrDefault("q", ""), false);
    context.put(ConstantKeys.PARAM_CONTEXT_KEY, initialQueryParams);
    context.put(ConstantKeys.PROVIDER_ID_PARAM_KEY, stateJwt.get("p"));
})))
1 | Mono | doOnError | METHOD_INVOCATION | authenticationFlowContextService.clearContext(context.session().get(ConstantKeys.TRANSACTION_ID_KEY)).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->logger.info("Deletion of some authentication flow data fails \'{}\'", error.getMessage()))).as
1 | Mono | IMPORT
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(getAuthorizeUrl(identityProvider.getId(), context)).map(RxJavaReactorMigrationUtil.toJdkFunction((authorizeUrl)->new SocialProviderData(identityProvider, authorizeUrl))).defaultIfEmpty(new SocialProviderData(identityProvider, null)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getAuthorizeUrl(identityProvider.getId(), context)).map(RxJavaReactorMigrationUtil.toJdkFunction((authorizeUrl)->new SocialProviderData(identityProvider, authorizeUrl))).defaultIfEmpty
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.get(identityProviderId)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<String>>toJdkFunction((authenticationProvider)->{
    final JWT stateJwt = new JWT();
    stateJwt.put("p", identityProviderId);
    stateJwt.put("q", context.request().query());
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.encode(stateJwt, certificateManager.defaultCertificateProvider())).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<String, MaybeSource<String>>toJdkFunction((state)->{
        String redirectUri = UriBuilderRequest.resolveProxyRequest(context.request(), context.get(CONTEXT_PATH) + "/login/callback");
        Maybe<Request> signInURL = ((SocialAuthenticationProvider)authenticationProvider).asyncSignInUrl(redirectUri, state);
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(signInURL).map(RxJavaReactorMigrationUtil.toJdkFunction((request)->{
            if (HttpMethod.GET == request.getMethod()) {
                return request.getUri();
            } else {
                final Map<String, String> queryParams = getParams(request.getBody());
                queryParams.put(ACTION_KEY, request.getUri());
                return UriBuilderRequest.resolveProxyRequest(context.request(), context.get(CONTEXT_PATH) + "/login/SSO/POST", queryParams);
            }
        })));
    }).apply(e)))));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.encode(stateJwt, certificateManager.defaultCertificateProvider())).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<String, MaybeSource<String>>toJdkFunction((state)->{
    String redirectUri = UriBuilderRequest.resolveProxyRequest(context.request(), context.get(CONTEXT_PATH) + "/login/callback");
    Maybe<Request> signInURL = ((SocialAuthenticationProvider)authenticationProvider).asyncSignInUrl(redirectUri, state);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(signInURL).map(RxJavaReactorMigrationUtil.toJdkFunction((request)->{
        if (HttpMethod.GET == request.getMethod()) {
            return request.getUri();
        } else {
            final Map<String, String> queryParams = getParams(request.getBody());
            queryParams.put(ACTION_KEY, request.getUri());
            return UriBuilderRequest.resolveProxyRequest(context.request(), context.get(CONTEXT_PATH) + "/login/SSO/POST", queryParams);
        }
    })));
}).apply(e)))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(signInURL).map(RxJavaReactorMigrationUtil.toJdkFunction((request)->{
    if (HttpMethod.GET == request.getMethod()) {
        return request.getUri();
    } else {
        final Map<String, String> queryParams = getParams(request.getBody());
        queryParams.put(ACTION_KEY, request.getUri());
        return UriBuilderRequest.resolveProxyRequest(context.request(), context.get(CONTEXT_PATH) + "/login/SSO/POST", queryParams);
    }
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(enrolledFactor).flatMap((factor)->RxJava2Adapter.singleToMono(userService.addFactor(user.getId(), factor, new DefaultUser(user)))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(entry.getValue().enroll(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction((enrollment)->new Factor(entry.getKey(), enrollment))))
1 | Mono | IMPORT
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(credentialService.findByUsername(ReferenceType.DOMAIN, domain.getId(), query.getUserName())).collectList())
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(credentialService.findByCredentialId(ReferenceType.DOMAIN, domain.getId(), query.getCredID())).collectList())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(fetchCredentials).flatMap((v)->RxJava2Adapter.singleToMono((Single<List<Authenticator>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Credential>, Single<List<Authenticator>>>)(credentials)->{
    if (credentials.isEmpty() && query.getUserName() != null) {
        return Single.zip(generateCredID(query.getUserName(), Claims.sub), generateCredID(query.getUserName(), StandardClaims.PREFERRED_USERNAME), (part1,part2)->{
            MessageDigest md = MessageDigest.getInstance("SHA-512");
            SecureRandom secureRandom = SecureRandom.getInstance("SHA1PRNG");
            secureRandom.setSeed(part1.getBytes());
            int nbDevices = secureRandom.nextInt(3) + 1;
            int deviceType = secureRandom.nextInt(2) + 1;
            List<Authenticator> authenticators = new ArrayList<>(nbDevices);
            for (int i = 0; i < nbDevices; i++) {
                byte[] salt = new byte[16];
                secureRandom.nextBytes(salt);
                md.update(salt);
                String initialValue = shiftValue(part2, i);
                Authenticator authenticator = new Authenticator();
                authenticator.setUserName(query.getUserName());
                if (deviceType == 1) {
                    if (i < 2) {
                        if (initialValue.length() > 27) {
                            initialValue = initialValue.substring(0, 27);
                        }
                        authenticator.setCredID(initialValue);
                    } else {
                        authenticator.setCredID(createCredID(md, initialValue, part1));
                    }
                } else {
                    if (i < 2) {
                        authenticator.setCredID(createCredID(md, initialValue, part1));
                    } else {
                        if (initialValue.length() > 27) {
                            initialValue = initialValue.substring(0, 27);
                        }
                        authenticator.setCredID(initialValue);
                    }
                }
                authenticators.add(authenticator);
            }
            return authenticators;
        });
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(credentials.stream().map(this::convert).collect(Collectors.toList())));
    }
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(credentials.stream().map(this::convert).collect(Collectors.toList())))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(credentialService.findByCredentialId(ReferenceType.DOMAIN, domain.getId(), authenticator.getCredID())).collectList().flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Credential>, CompletableSource>)(credentials)->{
    if (credentials.isEmpty()) {
        return create(authenticator);
    } else {
        return Observable.fromIterable(credentials).flatMapCompletable((credential)->{
            credential.setCounter(authenticator.getCounter());
            credential.setUpdatedAt(new Date());
            return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(credentialService.update(credential)).then());
        });
    }
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(credentialService.findByCredentialId(ReferenceType.DOMAIN, domain.getId(), authenticator.getCredID())).collectList().flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Credential>, CompletableSource>)(credentials)->{
    if (credentials.isEmpty()) {
        return create(authenticator);
    } else {
        return Observable.fromIterable(credentials).flatMapCompletable((credential)->{
            credential.setCounter(authenticator.getCounter());
            credential.setUpdatedAt(new Date());
            return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(credentialService.update(credential)).then());
        });
    }
}).apply(y)))).then
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(credentialService.findByCredentialId(ReferenceType.DOMAIN, domain.getId(), authenticator.getCredID())).collectList().flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(credentialService.update(credential)).then())
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(credentialService.create(credential)).then())
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(resourceService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException("Resource " + resourceId + " not found"))).map(RxJavaReactorMigrationUtil.toJdkFunction((res)->resourcePluginManager.create(res.getType(), res.getConfiguration()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourceService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException("Resource " + resourceId + " not found"))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourceService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourceNotFoundException("Resource " + resourceId + " not found")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | doOnError | METHOD_INVOCATION | authenticationFlowContextService.clearContext(routingContext.session().get(ConstantKeys.TRANSACTION_ID_KEY)).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.info("Deletion of some authentication flow data fails \'{}\'", error.getMessage()))).as
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(state, certificateManager.defaultCertificateProvider())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((stateJwt)->{
    final MultiMap initialQueryParams = RequestUtils.getQueryParams((String)stateJwt.getOrDefault("q", ""), false);
    context.put(ConstantKeys.PARAM_CONTEXT_KEY, initialQueryParams);
    context.put(ConstantKeys.PROVIDER_ID_PARAM_KEY, stateJwt.get("p"));
    context.put(Parameters.CLIENT_ID, stateJwt.get("c"));
})))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->jwtParser.parse(token))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<UserToken>>toJdkFunction((jwt)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(jwt.getSub())).zipWith(RxJava2Adapter.maybeToMono(Maybe.wrap(clientSource(jwt.getAud()))), RxJavaReactorMigrationUtil.toJdkBiFunction((user,optionalClient)->{
        return new UserToken(user, optionalClient.orElse(null), jwt);
    })));
}).apply(v)))))
1 | Mono | fromSupplier | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->jwtParser.parse(token))).flatMap
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(jwt.getSub())).zipWith(RxJava2Adapter.maybeToMono(Maybe.wrap(clientSource(jwt.getAud()))), RxJavaReactorMigrationUtil.toJdkBiFunction((user,optionalClient)->{
    return new UserToken(user, optionalClient.orElse(null), jwt);
})))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(user)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))).flatMapSingle((userProvider)->userProvider.create(convert(user)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setSource(source);
    user.setReferenceType(ReferenceType.DOMAIN);
    user.setReferenceId(domain.getId());
    user.setInternal(true);
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    user.setCreatedAt(new Date());
    user.setUpdatedAt(user.getCreatedAt());
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.create(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->new RegistrationResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterRegistration() : null, accountSettings != null && accountSettings.isAutoLoginAfterRegistration()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((registrationResponse)->{
    final User user1 = registrationResponse.getUser();
    io.gravitee.am.identityprovider.api.User principal1 = reloadPrincipal(principal, user1);
    auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(client).principal(principal1).type(EventType.USER_REGISTERED));
})).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(user.getClient()).principal(principal).type(EventType.USER_REGISTERED).throwable(throwable))))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userValidator.validate(user)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))).flatMapSingle((userProvider)->userProvider.create(convert(user)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setSource(source);
    user.setReferenceType(ReferenceType.DOMAIN);
    user.setReferenceId(domain.getId());
    user.setInternal(true);
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    user.setCreatedAt(new Date());
    user.setUpdatedAt(user.getCreatedAt());
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.create(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->new RegistrationResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterRegistration() : null, accountSettings != null && accountSettings.isAutoLoginAfterRegistration()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((registrationResponse)->{
    final User user1 = registrationResponse.getUser();
    io.gravitee.am.identityprovider.api.User principal1 = reloadPrincipal(principal, user1);
    auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(client).principal(principal1).type(EventType.USER_REGISTERED));
})).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(user.getClient()).principal(principal).type(EventType.USER_REGISTERED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))).flatMapSingle((userProvider)->userProvider.create(convert(user)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setSource(source);
    user.setReferenceType(ReferenceType.DOMAIN);
    user.setReferenceId(domain.getId());
    user.setInternal(true);
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    user.setCreatedAt(new Date());
    user.setUpdatedAt(user.getCreatedAt());
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.create(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->new RegistrationResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterRegistration() : null, accountSettings != null && accountSettings.isAutoLoginAfterRegistration()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((registrationResponse)->{
    final User user1 = registrationResponse.getUser();
    io.gravitee.am.identityprovider.api.User principal1 = reloadPrincipal(principal, user1);
    auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(client).principal(principal1).type(EventType.USER_REGISTERED));
})).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))).flatMapSingle((userProvider)->userProvider.create(convert(user)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setSource(source);
    user.setReferenceType(ReferenceType.DOMAIN);
    user.setReferenceId(domain.getId());
    user.setInternal(true);
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    user.setCreatedAt(new Date());
    user.setUpdatedAt(user.getCreatedAt());
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.create(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->new RegistrationResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterRegistration() : null, accountSettings != null && accountSettings.isAutoLoginAfterRegistration()))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))).flatMapSingle((userProvider)->userProvider.create(convert(user)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setSource(source);
    user.setReferenceType(ReferenceType.DOMAIN);
    user.setReferenceId(domain.getId());
    user.setInternal(true);
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    user.setCreatedAt(new Date());
    user.setUpdatedAt(user.getCreatedAt());
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.create(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))).flatMapSingle((userProvider)->userProvider.create(convert(user)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setSource(source);
    user.setReferenceType(ReferenceType.DOMAIN);
    user.setReferenceId(domain.getId());
    user.setInternal(true);
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    user.setCreatedAt(new Date());
    user.setUpdatedAt(user.getCreatedAt());
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.create(user);
}).apply(v)))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), user.getUsername(), source)).hasElement().flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Boolean, MaybeSource<UserProvider>>toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new UserAlreadyExistsException(user.getUsername())));
    }
    return identityProviderManager.getUserProvider(source);
}).apply(e)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->userProvider.update(idpUser.getId(), convert(user))).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setRegistrationCompleted(true);
    user.setEnabled(true);
    user.setExternalId(idpUser.getId());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->{
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    return new RegistrationResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterRegistration() : null, accountSettings != null ? accountSettings.isAutoLoginAfterRegistration() : false);
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((response)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(user.getClient()).principal(principal).type(EventType.REGISTRATION_CONFIRMATION)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(user.getClient()).principal(principal).type(EventType.REGISTRATION_CONFIRMATION).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->userProvider.update(idpUser.getId(), convert(user))).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setRegistrationCompleted(true);
    user.setEnabled(true);
    user.setExternalId(idpUser.getId());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->{
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    return new RegistrationResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterRegistration() : null, accountSettings != null ? accountSettings.isAutoLoginAfterRegistration() : false);
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((response)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(user.getClient()).principal(principal).type(EventType.REGISTRATION_CONFIRMATION)))).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->userProvider.update(idpUser.getId(), convert(user))).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setRegistrationCompleted(true);
    user.setEnabled(true);
    user.setExternalId(idpUser.getId());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->{
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    return new RegistrationResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterRegistration() : null, accountSettings != null ? accountSettings.isAutoLoginAfterRegistration() : false);
})).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->userProvider.update(idpUser.getId(), convert(user))).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setRegistrationCompleted(true);
    user.setEnabled(true);
    user.setExternalId(idpUser.getId());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->userProvider.update(idpUser.getId(), convert(user))).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    user.setPassword(null);
    user.setRegistrationCompleted(true);
    user.setEnabled(true);
    user.setExternalId(idpUser.getId());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (accountSettings != null && accountSettings.isAutoLoginAfterRegistration()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(1L);
    }
    return userService.update(user);
}).apply(v)))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new AccountInactiveException("User needs to complete the activation process")))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(user.getPassword());
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    if (accountSettings != null && accountSettings.isAutoLoginAfterResetPassword()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(user.getLoginsCount() + 1);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user1.getReferenceId()).client(user1.getClient()).username(user1.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(Mono.just(user1)));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    if (accountSettings != null && accountSettings.isDeletePasswordlessDevicesAfterResetPassword()) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(credentialService.deleteByUserId(user1.getReferenceType(), user1.getReferenceId(), user1.getId())).then(Mono.just(user1)));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user1));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->new ResetPasswordResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterResetPassword() : null, accountSettings != null ? accountSettings.isAutoLoginAfterResetPassword() : false))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((response)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(user.getClient()).principal(principal).type(EventType.USER_PASSWORD_RESET)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(user.getClient()).principal(principal).type(EventType.USER_PASSWORD_RESET).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(user.getPassword());
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    if (accountSettings != null && accountSettings.isAutoLoginAfterResetPassword()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(user.getLoginsCount() + 1);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user1.getReferenceId()).client(user1.getClient()).username(user1.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(Mono.just(user1)));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    if (accountSettings != null && accountSettings.isDeletePasswordlessDevicesAfterResetPassword()) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(credentialService.deleteByUserId(user1.getReferenceType(), user1.getReferenceId(), user1.getId())).then(Mono.just(user1)));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user1));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->new ResetPasswordResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterResetPassword() : null, accountSettings != null ? accountSettings.isAutoLoginAfterResetPassword() : false))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((response)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(user.getClient()).principal(principal).type(EventType.USER_PASSWORD_RESET)))).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(user.getPassword());
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    if (accountSettings != null && accountSettings.isAutoLoginAfterResetPassword()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(user.getLoginsCount() + 1);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user1.getReferenceId()).client(user1.getClient()).username(user1.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(Mono.just(user1)));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    if (accountSettings != null && accountSettings.isDeletePasswordlessDevicesAfterResetPassword()) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(credentialService.deleteByUserId(user1.getReferenceType(), user1.getReferenceId(), user1.getId())).then(Mono.just(user1)));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user1));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->new ResetPasswordResponse(user1, accountSettings != null ? accountSettings.getRedirectUriAfterResetPassword() : null, accountSettings != null ? accountSettings.isAutoLoginAfterResetPassword() : false))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(user.getPassword());
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    if (accountSettings != null && accountSettings.isAutoLoginAfterResetPassword()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(user.getLoginsCount() + 1);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user1.getReferenceId()).client(user1.getClient()).username(user1.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(Mono.just(user1)));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    if (accountSettings != null && accountSettings.isDeletePasswordlessDevicesAfterResetPassword()) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(credentialService.deleteByUserId(user1.getReferenceType(), user1.getReferenceId(), user1.getId())).then(Mono.just(user1)));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user1));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(user.getPassword());
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    if (accountSettings != null && accountSettings.isAutoLoginAfterResetPassword()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(user.getLoginsCount() + 1);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user1.getReferenceId()).client(user1.getClient()).username(user1.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(Mono.just(user1)));
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    if (accountSettings != null && accountSettings.isDeletePasswordlessDevicesAfterResetPassword()) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(credentialService.deleteByUserId(user1.getReferenceType(), user1.getReferenceId(), user1.getId())).then(Mono.just(user1)));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user1));
}).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(user.getPassword());
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    if (accountSettings != null && accountSettings.isAutoLoginAfterResetPassword()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(user.getLoginsCount() + 1);
    }
    return userService.update(user);
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user1)->{
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user1.getReferenceId()).client(user1.getClient()).username(user1.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(Mono.just(user1)));
}).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(user.getPassword());
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    extractAdditionalInformation(user, idpUser.getAdditionalInformation());
    if (accountSettings != null && accountSettings.isAutoLoginAfterResetPassword()) {
        user.setLoggedAt(new Date());
        user.setLoginsCount(user.getLoginsCount() + 1);
    }
    return userService.update(user);
}).apply(v)))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(Mono.just(user1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(Mono.just(user1))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(credentialService.deleteByUserId(user1.getReferenceType(), user1.getReferenceId(), user1.getId())).then(Mono.just(user1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(credentialService.deleteByUserId(user1.getReferenceType(), user1.getReferenceId(), user1.getId())).then(Mono.just(user1))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user1))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new EmailFormatInvalidException(email)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(userService.findByDomainAndCriteria(domain.getId(), params.buildCriteria())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<io.gravitee.am.model.User>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((users)->{
    List<User> foundUsers = new ArrayList<>(users);
    if (users.size() > 1) {
        if (client.getIdentities() != null && !client.getIdentities().isEmpty()) {
            foundUsers = users.stream().filter((u)->client.getIdentities().contains(u.getSource())).collect(Collectors.toList());
        }
        if (foundUsers.size() > 1) {
            List<User> filteredSourceUsers = users.stream().filter((u)->u.getClient() == null || client.getId().equals(u.getClient())).collect(Collectors.toList());
            if (!filteredSourceUsers.isEmpty()) {
                foundUsers = new ArrayList<>(filteredSourceUsers);
            }
        }
    }
    if (foundUsers.size() == 1 || (foundUsers.size() > 1 && !params.isConfirmIdentityEnabled())) {
        User user = foundUsers.get(0);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserInvalidException("User [ " + user.getUsername() + " ] cannot be updated because its identity provider does not support user provisioning"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userProvider)->{
            if (user.isInactive() && !forceUserRegistration(domain, client)) {
                return RxJava2Adapter.monoToSingle(Mono.error(new AccountInactiveException("User [ " + user.getUsername() + " ] needs to complete the activation process")));
            }
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optUser)->{
                if (!optUser.isPresent()) {
                    return RxJava2Adapter.monoToSingle(Mono.just(user));
                }
                return userService.update(enhanceUser(user, optUser.get()));
            });
        }).apply(a)))));
    }
    if (foundUsers.size() > 1) {
        throw new EnforceUserIdentityException();
    }
    if (client.getIdentities() == null || client.getIdentities().isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    if (StringUtils.isEmpty(params.getEmail()) & StringUtils.isEmpty(params.getUsername())) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(client.getIdentities()).flatMapMaybe((authProvider)->{
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(authProvider)).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, MaybeSource<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>>>toJdkFunction((userProvider)->{
            final String username = params.getUsername();
            final Maybe<io.gravitee.am.identityprovider.api.User> findQuery = StringUtils.isEmpty(email) ? userProvider.findByUsername(username) : userProvider.findByEmail(email);
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty())).onErrorReturnItem(Optional.empty());
        }).apply(a)))).defaultIfEmpty(Optional.empty()));
    }).takeUntil((Predicate<? super Optional<UserAuthentication>>)Optional::isPresent).lastOrError()).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((optional)->{
        if (!optional.isPresent()) {
            return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException()));
        }
        final UserAuthentication idpUser = optional.get();
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optEndUser)->{
            if (!optEndUser.isPresent()) {
                return userService.create(convert(idpUser.getUser(), idpUser.getSource()));
            }
            return userService.update(enhanceUser(optEndUser.get(), idpUser.getUser()));
        });
    }).apply(a))))).onErrorResumeNext(RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email != null ? email : params.getUsername()))));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->new Thread(()->emailService.send(Template.RESET_PASSWORD, user, client)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->{
    io.gravitee.am.identityprovider.api.User principal1 = reloadPrincipal(principal, user1);
    auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(client).principal(principal1).type(EventType.FORGOT_PASSWORD_REQUESTED));
})).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(client).principal(principal).type(EventType.FORGOT_PASSWORD_REQUESTED).throwable(throwable)))).then())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.findByDomainAndCriteria(domain.getId(), params.buildCriteria())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<io.gravitee.am.model.User>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((users)->{
    List<User> foundUsers = new ArrayList<>(users);
    if (users.size() > 1) {
        if (client.getIdentities() != null && !client.getIdentities().isEmpty()) {
            foundUsers = users.stream().filter((u)->client.getIdentities().contains(u.getSource())).collect(Collectors.toList());
        }
        if (foundUsers.size() > 1) {
            List<User> filteredSourceUsers = users.stream().filter((u)->u.getClient() == null || client.getId().equals(u.getClient())).collect(Collectors.toList());
            if (!filteredSourceUsers.isEmpty()) {
                foundUsers = new ArrayList<>(filteredSourceUsers);
            }
        }
    }
    if (foundUsers.size() == 1 || (foundUsers.size() > 1 && !params.isConfirmIdentityEnabled())) {
        User user = foundUsers.get(0);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserInvalidException("User [ " + user.getUsername() + " ] cannot be updated because its identity provider does not support user provisioning"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userProvider)->{
            if (user.isInactive() && !forceUserRegistration(domain, client)) {
                return RxJava2Adapter.monoToSingle(Mono.error(new AccountInactiveException("User [ " + user.getUsername() + " ] needs to complete the activation process")));
            }
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optUser)->{
                if (!optUser.isPresent()) {
                    return RxJava2Adapter.monoToSingle(Mono.just(user));
                }
                return userService.update(enhanceUser(user, optUser.get()));
            });
        }).apply(a)))));
    }
    if (foundUsers.size() > 1) {
        throw new EnforceUserIdentityException();
    }
    if (client.getIdentities() == null || client.getIdentities().isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    if (StringUtils.isEmpty(params.getEmail()) & StringUtils.isEmpty(params.getUsername())) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(client.getIdentities()).flatMapMaybe((authProvider)->{
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(authProvider)).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, MaybeSource<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>>>toJdkFunction((userProvider)->{
            final String username = params.getUsername();
            final Maybe<io.gravitee.am.identityprovider.api.User> findQuery = StringUtils.isEmpty(email) ? userProvider.findByUsername(username) : userProvider.findByEmail(email);
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty())).onErrorReturnItem(Optional.empty());
        }).apply(a)))).defaultIfEmpty(Optional.empty()));
    }).takeUntil((Predicate<? super Optional<UserAuthentication>>)Optional::isPresent).lastOrError()).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((optional)->{
        if (!optional.isPresent()) {
            return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException()));
        }
        final UserAuthentication idpUser = optional.get();
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optEndUser)->{
            if (!optEndUser.isPresent()) {
                return userService.create(convert(idpUser.getUser(), idpUser.getSource()));
            }
            return userService.update(enhanceUser(optEndUser.get(), idpUser.getUser()));
        });
    }).apply(a))))).onErrorResumeNext(RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email != null ? email : params.getUsername()))));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->new Thread(()->emailService.send(Template.RESET_PASSWORD, user, client)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->{
    io.gravitee.am.identityprovider.api.User principal1 = reloadPrincipal(principal, user1);
    auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(client).principal(principal1).type(EventType.FORGOT_PASSWORD_REQUESTED));
})).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(client).principal(principal).type(EventType.FORGOT_PASSWORD_REQUESTED).throwable(throwable)))).then
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.findByDomainAndCriteria(domain.getId(), params.buildCriteria())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<io.gravitee.am.model.User>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((users)->{
    List<User> foundUsers = new ArrayList<>(users);
    if (users.size() > 1) {
        if (client.getIdentities() != null && !client.getIdentities().isEmpty()) {
            foundUsers = users.stream().filter((u)->client.getIdentities().contains(u.getSource())).collect(Collectors.toList());
        }
        if (foundUsers.size() > 1) {
            List<User> filteredSourceUsers = users.stream().filter((u)->u.getClient() == null || client.getId().equals(u.getClient())).collect(Collectors.toList());
            if (!filteredSourceUsers.isEmpty()) {
                foundUsers = new ArrayList<>(filteredSourceUsers);
            }
        }
    }
    if (foundUsers.size() == 1 || (foundUsers.size() > 1 && !params.isConfirmIdentityEnabled())) {
        User user = foundUsers.get(0);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserInvalidException("User [ " + user.getUsername() + " ] cannot be updated because its identity provider does not support user provisioning"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userProvider)->{
            if (user.isInactive() && !forceUserRegistration(domain, client)) {
                return RxJava2Adapter.monoToSingle(Mono.error(new AccountInactiveException("User [ " + user.getUsername() + " ] needs to complete the activation process")));
            }
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optUser)->{
                if (!optUser.isPresent()) {
                    return RxJava2Adapter.monoToSingle(Mono.just(user));
                }
                return userService.update(enhanceUser(user, optUser.get()));
            });
        }).apply(a)))));
    }
    if (foundUsers.size() > 1) {
        throw new EnforceUserIdentityException();
    }
    if (client.getIdentities() == null || client.getIdentities().isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    if (StringUtils.isEmpty(params.getEmail()) & StringUtils.isEmpty(params.getUsername())) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(client.getIdentities()).flatMapMaybe((authProvider)->{
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(authProvider)).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, MaybeSource<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>>>toJdkFunction((userProvider)->{
            final String username = params.getUsername();
            final Maybe<io.gravitee.am.identityprovider.api.User> findQuery = StringUtils.isEmpty(email) ? userProvider.findByUsername(username) : userProvider.findByEmail(email);
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty())).onErrorReturnItem(Optional.empty());
        }).apply(a)))).defaultIfEmpty(Optional.empty()));
    }).takeUntil((Predicate<? super Optional<UserAuthentication>>)Optional::isPresent).lastOrError()).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((optional)->{
        if (!optional.isPresent()) {
            return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException()));
        }
        final UserAuthentication idpUser = optional.get();
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optEndUser)->{
            if (!optEndUser.isPresent()) {
                return userService.create(convert(idpUser.getUser(), idpUser.getSource()));
            }
            return userService.update(enhanceUser(optEndUser.get(), idpUser.getUser()));
        });
    }).apply(a))))).onErrorResumeNext(RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email != null ? email : params.getUsername()))));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->new Thread(()->emailService.send(Template.RESET_PASSWORD, user, client)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->{
    io.gravitee.am.identityprovider.api.User principal1 = reloadPrincipal(principal, user1);
    auditService.report(AuditBuilder.builder(UserAuditBuilder.class).domain(domain.getId()).client(client).principal(principal1).type(EventType.FORGOT_PASSWORD_REQUESTED));
})).doOnError
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.findByDomainAndCriteria(domain.getId(), params.buildCriteria())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<io.gravitee.am.model.User>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((users)->{
    List<User> foundUsers = new ArrayList<>(users);
    if (users.size() > 1) {
        if (client.getIdentities() != null && !client.getIdentities().isEmpty()) {
            foundUsers = users.stream().filter((u)->client.getIdentities().contains(u.getSource())).collect(Collectors.toList());
        }
        if (foundUsers.size() > 1) {
            List<User> filteredSourceUsers = users.stream().filter((u)->u.getClient() == null || client.getId().equals(u.getClient())).collect(Collectors.toList());
            if (!filteredSourceUsers.isEmpty()) {
                foundUsers = new ArrayList<>(filteredSourceUsers);
            }
        }
    }
    if (foundUsers.size() == 1 || (foundUsers.size() > 1 && !params.isConfirmIdentityEnabled())) {
        User user = foundUsers.get(0);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserInvalidException("User [ " + user.getUsername() + " ] cannot be updated because its identity provider does not support user provisioning"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userProvider)->{
            if (user.isInactive() && !forceUserRegistration(domain, client)) {
                return RxJava2Adapter.monoToSingle(Mono.error(new AccountInactiveException("User [ " + user.getUsername() + " ] needs to complete the activation process")));
            }
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optUser)->{
                if (!optUser.isPresent()) {
                    return RxJava2Adapter.monoToSingle(Mono.just(user));
                }
                return userService.update(enhanceUser(user, optUser.get()));
            });
        }).apply(a)))));
    }
    if (foundUsers.size() > 1) {
        throw new EnforceUserIdentityException();
    }
    if (client.getIdentities() == null || client.getIdentities().isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    if (StringUtils.isEmpty(params.getEmail()) & StringUtils.isEmpty(params.getUsername())) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(client.getIdentities()).flatMapMaybe((authProvider)->{
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(authProvider)).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, MaybeSource<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>>>toJdkFunction((userProvider)->{
            final String username = params.getUsername();
            final Maybe<io.gravitee.am.identityprovider.api.User> findQuery = StringUtils.isEmpty(email) ? userProvider.findByUsername(username) : userProvider.findByEmail(email);
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty())).onErrorReturnItem(Optional.empty());
        }).apply(a)))).defaultIfEmpty(Optional.empty()));
    }).takeUntil((Predicate<? super Optional<UserAuthentication>>)Optional::isPresent).lastOrError()).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((optional)->{
        if (!optional.isPresent()) {
            return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException()));
        }
        final UserAuthentication idpUser = optional.get();
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optEndUser)->{
            if (!optEndUser.isPresent()) {
                return userService.create(convert(idpUser.getUser(), idpUser.getSource()));
            }
            return userService.update(enhanceUser(optEndUser.get(), idpUser.getUser()));
        });
    }).apply(a))))).onErrorResumeNext(RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email != null ? email : params.getUsername()))));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->new Thread(()->emailService.send(Template.RESET_PASSWORD, user, client)).start())).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.findByDomainAndCriteria(domain.getId(), params.buildCriteria())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<io.gravitee.am.model.User>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((users)->{
    List<User> foundUsers = new ArrayList<>(users);
    if (users.size() > 1) {
        if (client.getIdentities() != null && !client.getIdentities().isEmpty()) {
            foundUsers = users.stream().filter((u)->client.getIdentities().contains(u.getSource())).collect(Collectors.toList());
        }
        if (foundUsers.size() > 1) {
            List<User> filteredSourceUsers = users.stream().filter((u)->u.getClient() == null || client.getId().equals(u.getClient())).collect(Collectors.toList());
            if (!filteredSourceUsers.isEmpty()) {
                foundUsers = new ArrayList<>(filteredSourceUsers);
            }
        }
    }
    if (foundUsers.size() == 1 || (foundUsers.size() > 1 && !params.isConfirmIdentityEnabled())) {
        User user = foundUsers.get(0);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserInvalidException("User [ " + user.getUsername() + " ] cannot be updated because its identity provider does not support user provisioning"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userProvider)->{
            if (user.isInactive() && !forceUserRegistration(domain, client)) {
                return RxJava2Adapter.monoToSingle(Mono.error(new AccountInactiveException("User [ " + user.getUsername() + " ] needs to complete the activation process")));
            }
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optUser)->{
                if (!optUser.isPresent()) {
                    return RxJava2Adapter.monoToSingle(Mono.just(user));
                }
                return userService.update(enhanceUser(user, optUser.get()));
            });
        }).apply(a)))));
    }
    if (foundUsers.size() > 1) {
        throw new EnforceUserIdentityException();
    }
    if (client.getIdentities() == null || client.getIdentities().isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    if (StringUtils.isEmpty(params.getEmail()) & StringUtils.isEmpty(params.getUsername())) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(client.getIdentities()).flatMapMaybe((authProvider)->{
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(authProvider)).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, MaybeSource<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>>>toJdkFunction((userProvider)->{
            final String username = params.getUsername();
            final Maybe<io.gravitee.am.identityprovider.api.User> findQuery = StringUtils.isEmpty(email) ? userProvider.findByUsername(username) : userProvider.findByEmail(email);
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty())).onErrorReturnItem(Optional.empty());
        }).apply(a)))).defaultIfEmpty(Optional.empty()));
    }).takeUntil((Predicate<? super Optional<UserAuthentication>>)Optional::isPresent).lastOrError()).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((optional)->{
        if (!optional.isPresent()) {
            return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException()));
        }
        final UserAuthentication idpUser = optional.get();
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optEndUser)->{
            if (!optEndUser.isPresent()) {
                return userService.create(convert(idpUser.getUser(), idpUser.getSource()));
            }
            return userService.update(enhanceUser(optEndUser.get(), idpUser.getUser()));
        });
    }).apply(a))))).onErrorResumeNext(RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email != null ? email : params.getUsername()))));
}).apply(v)))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserInvalidException("User [ " + user.getUsername() + " ] cannot be updated because its identity provider does not support user provisioning"))).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, SingleSource<io.gravitee.am.model.User>>toJdkFunction((userProvider)->{
    if (user.isInactive() && !forceUserRegistration(domain, client)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new AccountInactiveException("User [ " + user.getUsername() + " ] needs to complete the activation process")));
    }
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optUser)->{
        if (!optUser.isPresent()) {
            return RxJava2Adapter.monoToSingle(Mono.just(user));
        }
        return userService.update(enhanceUser(user, optUser.get()));
    });
}).apply(a)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserInvalidException("User [ " + user.getUsername() + " ] cannot be updated because its identity provider does not support user provisioning"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserInvalidException("User [ " + user.getUsername() + " ] cannot be updated because its identity provider does not support user provisioning")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new AccountInactiveException("User [ " + user.getUsername() + " ] needs to complete the activation process")))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(client.getIdentities()).flatMapMaybe((authProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(authProvider)).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, MaybeSource<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>>>toJdkFunction((userProvider)->{
        final String username = params.getUsername();
        final Maybe<io.gravitee.am.identityprovider.api.User> findQuery = StringUtils.isEmpty(email) ? userProvider.findByUsername(username) : userProvider.findByEmail(email);
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty())).onErrorReturnItem(Optional.empty());
    }).apply(a)))).defaultIfEmpty(Optional.empty()));
}).takeUntil((Predicate<? super Optional<UserAuthentication>>)Optional::isPresent).lastOrError()).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>, SingleSource<io.gravitee.am.model.User>>toJdkFunction((optional)->{
    if (!optional.isPresent()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException()));
    }
    final UserAuthentication idpUser = optional.get();
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty())).flatMapSingle((optEndUser)->{
        if (!optEndUser.isPresent()) {
            return userService.create(convert(idpUser.getUser(), idpUser.getSource()));
        }
        return userService.update(enhanceUser(optEndUser.get(), idpUser.getUser()));
    });
}).apply(a)))))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(authProvider)).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, MaybeSource<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>>>toJdkFunction((userProvider)->{
    final String username = params.getUsername();
    final Maybe<io.gravitee.am.identityprovider.api.User> findQuery = StringUtils.isEmpty(email) ? userProvider.findByUsername(username) : userProvider.findByEmail(email);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty())).onErrorReturnItem(Optional.empty());
}).apply(a)))).defaultIfEmpty(Optional.empty()))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(authProvider)).flatMap((a)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.UserProvider, MaybeSource<Optional<io.gravitee.am.gateway.handler.root.service.user.impl.UserServiceImpl.UserAuthentication>>>toJdkFunction((userProvider)->{
    final String username = params.getUsername();
    final Maybe<io.gravitee.am.identityprovider.api.User> findQuery = StringUtils.isEmpty(email) ? userProvider.findByUsername(username) : userProvider.findByEmail(email);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty())).onErrorReturnItem(Optional.empty());
}).apply(a)))).defaultIfEmpty
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(findQuery).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Optional.of(new UserAuthentication(user, authProvider)))).defaultIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException()))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource())))).map
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUser().getUsername(), idpUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByDomainAndExternalIdAndSource(domain.getId(), idpUser.getUser().getId(), idpUser.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserNotFoundException(email != null ? email : params.getUsername())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(Optional.empty()))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientSyncService.findById(audience)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientSyncService.findById(audience)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | doOnError | METHOD_INVOCATION | authenticationFlowContextService.clearContext(context.session().get(ConstantKeys.TRANSACTION_ID_KEY)).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.info("Deletion of some authentication flow data fails \'{}\'", error.getMessage()))).as
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.decode(idToken)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<Client>>toJdkFunction((jwt)->clientSyncService.findByClientId(jwt.getAud())).apply(e)))).flatMap((z)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(idToken, z)).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.common.jwt.JWT __)->z))).onErrorResumeNext((java.lang.Throwable ex)->(ex instanceof ExpiredJWTException) ? RxJava2Adapter.monoToMaybe(Mono.just(z)) : RxJava2Adapter.monoToMaybe(Mono.error(ex))).as(RxJava2Adapter::maybeToMono)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jwtService.decode(idToken)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<Client>>toJdkFunction((jwt)->clientSyncService.findByClientId(jwt.getAud())).apply(e)))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(idToken, z)).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.common.jwt.JWT __)->z)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(z))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(ex))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientSyncService.findById(endUser.getClient())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(endUser.getClient())))))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientSyncService.findById(endUser.getClient())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(endUser.getClient()))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authenticationProviderMaybe).filter(RxJavaReactorMigrationUtil.toJdkPredicate((provider)->provider instanceof SocialAuthenticationProvider)).flatMap((z)->((SocialAuthenticationProvider)z).signOutUrl(authentication).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Optional<Request>, MaybeSource<Optional<String>>>toJdkFunction((optLogoutRequest)->{
    if (optLogoutRequest.isPresent()) {
        return generateLogoutCallback(routingContext, endUser, optLogoutRequest.get());
    } else {
        LOGGER.debug("No logout endpoint has been found in the Identity Provider configuration");
        return RxJava2Adapter.monoToMaybe(Mono.just(Optional.<String>empty()));
    }
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((endpoint)->handler.handle(Future.succeededFuture(endpoint)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((err)->{
    LOGGER.warn("Unable to sign the end user out of the external OIDC \'{}\', only sign out of AM", client.getClientId(), err);
    handler.handle(Future.succeededFuture(Optional.empty()));
})))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticationProviderMaybe).filter(RxJavaReactorMigrationUtil.toJdkPredicate((provider)->provider instanceof SocialAuthenticationProvider)).flatMap((z)->((SocialAuthenticationProvider)z).signOutUrl(authentication).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Optional<Request>, MaybeSource<Optional<String>>>toJdkFunction((optLogoutRequest)->{
    if (optLogoutRequest.isPresent()) {
        return generateLogoutCallback(routingContext, endUser, optLogoutRequest.get());
    } else {
        LOGGER.debug("No logout endpoint has been found in the Identity Provider configuration");
        return RxJava2Adapter.monoToMaybe(Mono.just(Optional.<String>empty()));
    }
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((endpoint)->handler.handle(Future.succeededFuture(endpoint)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticationProviderMaybe).filter(RxJavaReactorMigrationUtil.toJdkPredicate((provider)->provider instanceof SocialAuthenticationProvider)).flatMap((z)->((SocialAuthenticationProvider)z).signOutUrl(authentication).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Optional<Request>, MaybeSource<Optional<String>>>toJdkFunction((optLogoutRequest)->{
    if (optLogoutRequest.isPresent()) {
        return generateLogoutCallback(routingContext, endUser, optLogoutRequest.get());
    } else {
        LOGGER.debug("No logout endpoint has been found in the Identity Provider configuration");
        return RxJava2Adapter.monoToMaybe(Mono.just(Optional.<String>empty()));
    }
}).apply(v)))).doOnSuccess
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticationProviderMaybe).filter(RxJavaReactorMigrationUtil.toJdkPredicate((provider)->provider instanceof SocialAuthenticationProvider)).flatMap((z)->((SocialAuthenticationProvider)z).signOutUrl(authentication).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty())).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticationProviderMaybe).filter(RxJavaReactorMigrationUtil.toJdkPredicate((provider)->provider instanceof SocialAuthenticationProvider)).flatMap((z)->((SocialAuthenticationProvider)z).signOutUrl(authentication).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticationProviderMaybe).filter(RxJavaReactorMigrationUtil.toJdkPredicate((provider)->provider instanceof SocialAuthenticationProvider)).flatMap((z)->((SocialAuthenticationProvider)z).signOutUrl(authentication).as(RxJava2Adapter::maybeToMono)).map
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticationProviderMaybe).filter(RxJavaReactorMigrationUtil.toJdkPredicate((provider)->provider instanceof SocialAuthenticationProvider)).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticationProviderMaybe).filter(RxJavaReactorMigrationUtil.toJdkPredicate((provider)->provider instanceof SocialAuthenticationProvider)).flatMap((z)->((SocialAuthenticationProvider)z).signOutUrl(authentication).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(Optional.<String>empty()))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.encode(stateJwt, certificateManager.defaultCertificateProvider())).map(RxJavaReactorMigrationUtil.toJdkFunction((state)->{
    String redirectUri = UriBuilderRequest.resolveProxyRequest(routingContext.request(), routingContext.get(CONTEXT_PATH) + "/logout/callback");
    UriBuilder builder = UriBuilder.fromHttpUrl(endpoint.getUri());
    builder.addParameter(Parameters.POST_LOGOUT_REDIRECT_URI, redirectUri);
    builder.addParameter(Parameters.ID_TOKEN_HINT, (String)endUser.getAdditionalInformation().get(ConstantKeys.OIDC_PROVIDER_ID_TOKEN_KEY));
    builder.addParameter(io.gravitee.am.common.oauth2.Parameters.STATE, state);
    return Optional.of(builder.buildString());
})))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ResetPasswordResponse()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(resetPasswordResponse))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("jwtstatevalue"))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(req))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(authProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("jwtstatevalue"))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(req))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(authProvider))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Client()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(user)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Arrays.asList(user, user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Arrays.asList(user, user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | IMPORT
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(credential))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(BadCredentialsException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(appClient))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new RegistrationResponse()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(registrationResponse))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new RegistrationResponse()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(registrationResponse))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException("test")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidUserException("Username invalid")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new EmailFormatInvalidException("test")))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new UserNotFoundException("email@test.com")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new EmailFormatInvalidException("email.test.com")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new EnforceUserIdentityException()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new EnforceUserIdentityException()))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalException("Resource referenced can\'t be used for MultiFactor Authentication  with type SMS")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Enrollment(this.configuration.countries())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalException("Resource referenced can\'t be used for MultiFactor Authentication  with type SMS")))
1 | Mono | IMPORT
1 | Mono | fromSupplier | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->new Enrollment(SharedSecret.generate()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalException("Resource referenced can\'t be used for MultiFactor Authentication with type EMAIL")))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(provider.sendMessage(emailWrapper.getEmail())).then(Mono.just(enrolledFactor).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<EnrolledFactor, SingleSource<io.gravitee.am.model.User>>toJdkFunction((ef)->{
    ef.setPrimary(true);
    ef.setStatus(FactorStatus.ACTIVATED);
    ef.getSecurity().putData(FactorDataKeys.KEY_EXPIRE_AT, emailWrapper.getExpireAt());
    return userService.addFactor(context.getUser().getId(), ef, new DefaultUser(context.getUser()));
}).apply(v)))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(provider.sendMessage(emailWrapper.getEmail())).then(Mono.just(enrolledFactor).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<EnrolledFactor, SingleSource<io.gravitee.am.model.User>>toJdkFunction((ef)->{
    ef.setPrimary(true);
    ef.setStatus(FactorStatus.ACTIVATED);
    ef.getSecurity().putData(FactorDataKeys.KEY_EXPIRE_AT, emailWrapper.getExpireAt());
    return userService.addFactor(context.getUser().getId(), ef, new DefaultUser(context.getUser()));
}).apply(v)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(enrolledFactor).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<EnrolledFactor, SingleSource<io.gravitee.am.model.User>>toJdkFunction((ef)->{
    ef.setPrimary(true);
    ef.setStatus(FactorStatus.ACTIVATED);
    ef.getSecurity().putData(FactorDataKeys.KEY_EXPIRE_AT, emailWrapper.getExpireAt());
    return userService.addFactor(context.getUser().getId(), ef, new DefaultUser(context.getUser()));
}).apply(v)))).then
1 | Mono | just | METHOD_INVOCATION | Mono.just(enrolledFactor).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalException("Code can\'t be sent")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalException("Email can\'t be sent")))
1 | Mono | fromSupplier | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->{
    int counter = factor.getSecurity().getData(FactorDataKeys.KEY_MOVING_FACTOR, Integer.class);
    factor.getSecurity().putData(FactorDataKeys.KEY_MOVING_FACTOR, counter + 1);
    factor.getSecurity().removeData(FactorDataKeys.KEY_EXPIRE_AT);
    return factor;
})))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(reporter).map(RxJavaReactorMigrationUtil.toJdkFunction((result)->{
    if (Objects.isNull(result) || Objects.isNull(result.getData())) {
        return new Page<>(new ArrayList<>(), 0, 0);
    }
    return result;
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(user)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    if (user.getExternalId() == null) {
        return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("User does not exist in upstream IDP")));
    } else {
        return userProvider.update(user.getExternalId(), convert(user));
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    return userRepository.update(user);
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof UserNotFoundException || ex instanceof UserInvalidException) {
        user.setPassword(null);
        return userRepository.update(user);
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
}))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    if (user.getExternalId() == null) {
        return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("User does not exist in upstream IDP")));
    } else {
        return userProvider.update(user.getExternalId(), convert(user));
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    return userRepository.update(user);
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("User does not exist in upstream IDP")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(factorService.findByDomain(domain)).collectList())
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(credentialService.findByUserId(ReferenceType.DOMAIN, user.getReferenceId(), user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((credential)->{
    removeSensitiveData(credential);
    return credential;
})).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(credentialService.findByUserId(ReferenceType.DOMAIN, user.getReferenceId(), user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((credential)->{
    removeSensitiveData(credential);
    return credential;
})).collectList
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(credentialService.findById(id)).switchIfEmpty(Mono.error(new CredentialNotFoundException(id))).map(RxJavaReactorMigrationUtil.toJdkFunction((credential)->{
    removeSensitiveData(credential);
    return credential;
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(credentialService.findById(id)).switchIfEmpty(Mono.error(new CredentialNotFoundException(id))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(credentialService.findById(id)).switchIfEmpty(Mono.error(new CredentialNotFoundException(id)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(accountService.update(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((nestedResult)->AccountResponseHandler.handleUpdateUserResponse(routingContext))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((er)->AccountResponseHandler.handleUpdateUserResponse(routingContext, er.getMessage()))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(accountService.update(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((nestedResult)->AccountResponseHandler.handleUpdateUserResponse(routingContext))).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(factorProvider.enroll(endUser.getUsername())).map(RxJavaReactorMigrationUtil.toJdkFunction((enrollment)->{
    final EnrolledFactor enrolledFactor = buildEnrolledFactor(factor, enrollment, account, endUser);
    if (factorProvider.checkSecurityFactor(enrolledFactor)) {
        return enrolledFactor;
    }
    throw new InvalidFactorAttributeException("Invalid account information");
})))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidScopeException("Invalid scope(s): " + invalidScopes.stream().collect(Collectors.joining(SCOPE_DELIMITER)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidScopeException("Invalid scope(s): " + requestScopes.stream().collect(Collectors.joining(SCOPE_DELIMITER)))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(subject)).switchIfEmpty(Mono.error(new InvalidTokenException("No user found for this token")))).flatMapSingle((user)->enhance(user, accessToken))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->processClaims(user, accessToken))).flatMap((v)->RxJava2Adapter.singleToMono((Single<String>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Map<String, Object>, Single<String>>)(claims)->{
    if (!expectSignedOrEncryptedUserInfo(client)) {
        context.response().putHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON);
        return RxJava2Adapter.monoToSingle(Mono.just(Json.encodePrettily(claims)));
    } else {
        context.response().putHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JWT);
        JWT jwt = new JWT(claims);
        jwt.setIss(openIDDiscoveryService.getIssuer(UriBuilderRequest.resolveProxyRequest(context)));
        jwt.setSub(accessToken.getSub());
        jwt.setAud(accessToken.getAud());
        jwt.setIat(new Date().getTime() / 1000L);
        jwt.setExp(accessToken.getExp() / 1000L);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encodeUserinfo(jwt, client)).flatMap((userinfo)->RxJava2Adapter.singleToMono(jweService.encryptUserinfo(userinfo, client))));
    }
}).apply(v))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(subject)).switchIfEmpty(Mono.error(new InvalidTokenException("No user found for this token")))).flatMapSingle((user)->enhance(user, accessToken))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->processClaims(user, accessToken))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(subject)).switchIfEmpty(Mono.error(new InvalidTokenException("No user found for this token"))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(subject)).switchIfEmpty(Mono.error(new InvalidTokenException("No user found for this token")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Json.encodePrettily(claims)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encodeUserinfo(jwt, client)).flatMap((userinfo)->RxJava2Adapter.singleToMono(jweService.encryptUserinfo(userinfo, client))))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.enhance(user)).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->{
    Map<String, Object> userClaims = user.getAdditionalInformation() == null ? new HashMap<>() : new HashMap<>(user.getAdditionalInformation());
    if (user.getRolesPermissions() != null && !user.getRolesPermissions().isEmpty()) {
        userClaims.putIfAbsent(CustomClaims.ROLES, user.getRolesPermissions().stream().map(Role::getName).collect(Collectors.toList()));
    }
    if (user.getGroups() != null && !user.getGroups().isEmpty()) {
        userClaims.putIfAbsent(CustomClaims.GROUPS, user.getGroups());
    }
    user1.setAdditionalInformation(userClaims);
    return user1;
})))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(token, client).onErrorResumeNext((ex)->{
    if (ex instanceof JWTException) {
        return RxJava2Adapter.monoToSingle(Mono.error(new InvalidTokenException(ex.getMessage(), ex)));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).flatMap((e)->RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(e.getJti())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.oauth2.model.AccessToken accessToken)->convertAccessToken(e)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidTokenException(ex.getMessage(), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | map | METHOD_INVOCATION | (e)->RxJava2Adapter.maybeToMono(accessTokenRepository.findByToken(e.getJti())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.oauth2.model.AccessToken accessToken)->convertAccessToken(e)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(refreshToken, client).onErrorResumeNext((ex)->{
    if (ex instanceof JWTException) {
        return RxJava2Adapter.monoToSingle(Mono.error(new InvalidTokenException(ex.getMessage(), ex)));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).flatMap((e)->RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken(e.getJti())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.oauth2.model.RefreshToken refreshToken1)->convertRefreshToken(e)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidTokenException(ex.getMessage(), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | map | METHOD_INVOCATION | (e)->RxJava2Adapter.maybeToMono(refreshTokenRepository.findByToken(e.getJti())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.repository.oauth2.model.RefreshToken refreshToken1)->convertRefreshToken(e)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(introspectionTokenService.introspect(token, false)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convertAccessToken)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->createExecutionContext(oAuth2Request, client, endUser))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Token>)RxJavaReactorMigrationUtil.toJdkFunction((Function<ExecutionContext, Single<Token>>)(executionContext)->{
    JWT accessToken = createAccessTokenJWT(oAuth2Request, client, endUser, executionContext);
    JWT refreshToken = oAuth2Request.isSupportRefreshToken() ? createRefreshTokenJWT(oAuth2Request, client, endUser, accessToken) : null;
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.zip(jwtService.encode(accessToken, client), (refreshToken != null ? RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encode(refreshToken, client)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of))) : RxJava2Adapter.monoToSingle(Mono.just(Optional.<String>empty()))), (encodedAccessToken,optionalEncodedRefreshToken)->convert(accessToken, encodedAccessToken, optionalEncodedRefreshToken.orElse(null), oAuth2Request))).flatMap((accessToken1)->RxJava2Adapter.singleToMono(tokenEnhancer.enhance(accessToken1, oAuth2Request, client, endUser, executionContext))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((token)->storeTokens(accessToken, refreshToken, oAuth2Request))));
}).apply(v))))
1 | Mono | fromSupplier | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->createExecutionContext(oAuth2Request, client, endUser))).flatMap
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.zip(jwtService.encode(accessToken, client), (refreshToken != null ? RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encode(refreshToken, client)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of))) : RxJava2Adapter.monoToSingle(Mono.just(Optional.<String>empty()))), (encodedAccessToken,optionalEncodedRefreshToken)->convert(accessToken, encodedAccessToken, optionalEncodedRefreshToken.orElse(null), oAuth2Request))).flatMap((accessToken1)->RxJava2Adapter.singleToMono(tokenEnhancer.enhance(accessToken1, oAuth2Request, client, endUser, executionContext))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((token)->storeTokens(accessToken, refreshToken, oAuth2Request))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.zip(jwtService.encode(accessToken, client), (refreshToken != null ? RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encode(refreshToken, client)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of))) : RxJava2Adapter.monoToSingle(Mono.just(Optional.<String>empty()))), (encodedAccessToken,optionalEncodedRefreshToken)->convert(accessToken, encodedAccessToken, optionalEncodedRefreshToken.orElse(null), oAuth2Request))).flatMap((accessToken1)->RxJava2Adapter.singleToMono(tokenEnhancer.enhance(accessToken1, oAuth2Request, client, endUser, executionContext))).doOnSuccess
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encode(refreshToken, client)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Optional.<String>empty()))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(getRefreshToken(refreshToken, client)).switchIfEmpty(Mono.error(new InvalidGrantException("Refresh token is invalid"))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Token>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Token, Single<Token>>)(refreshToken1)->{
    if (refreshToken1.getExpireAt().before(new Date())) {
        throw new InvalidGrantException("Refresh token is expired");
    }
    if (!refreshToken1.getClientId().equals(tokenRequest.getClientId())) {
        throw new InvalidGrantException("Refresh token was issued to another client");
    }
    if (refreshToken1.getAdditionalInformation().get("permissions") != null) {
        tokenRequest.setPermissions((List<PermissionRequest>)refreshToken1.getAdditionalInformation().get("permissions"));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(refreshTokenRepository.delete(refreshToken1.getValue())).then(Mono.just(refreshToken1)));
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getRefreshToken(refreshToken, client)).switchIfEmpty(Mono.error(new InvalidGrantException("Refresh token is invalid"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getRefreshToken(refreshToken, client)).switchIfEmpty(Mono.error(new InvalidGrantException("Refresh token is invalid")))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(refreshTokenRepository.delete(refreshToken1.getValue())).then(Mono.just(refreshToken1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(refreshTokenRepository.delete(refreshToken1.getValue())).then(Mono.just(refreshToken1))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Flux.fromIterable(certificateManager.providers()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((certificateProvider)->certificateProvider.getProvider().keys())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((keys)->{
    JWKSet jwkSet = new JWKSet();
    jwkSet.setKeys(keys);
    return jwkSet;
})))
1 | Flux | collectList | METHOD_INVOCATION | Flux.fromIterable(certificateManager.providers()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((certificateProvider)->certificateProvider.getProvider().keys())).collectList().map
1 | Flux | flatMap | METHOD_INVOCATION | Flux.fromIterable(certificateManager.providers()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((certificateProvider)->certificateProvider.getProvider().keys())).collectList
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(certificateManager.providers()).flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client.getJwks()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Flux.fromIterable(certificateManager.providers()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((provider)->provider.getProvider().privateKey())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((keys)->{
    JWKSet jwkSet = new JWKSet();
    jwkSet.setKeys(keys);
    return jwkSet;
})))
1 | Flux | collectList | METHOD_INVOCATION | Flux.fromIterable(certificateManager.providers()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((provider)->provider.getProvider().privateKey())).collectList().map
1 | Flux | flatMap | METHOD_INVOCATION | Flux.fromIterable(certificateManager.providers()).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((provider)->provider.getProvider().privateKey())).collectList
1 | Flux | fromIterable | METHOD_INVOCATION | Flux.fromIterable(certificateManager.providers()).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(client.getAbs(UriBuilder.fromHttpUrl(jwksUri).build().toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).map(RxJavaReactorMigrationUtil.toJdkFunction(new JWKSetDeserializer()::convert)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<JWKSet>, MaybeSource<JWKSet>>)(jwkSet)->{
    if (jwkSet != null && jwkSet.isPresent()) {
        return RxJava2Adapter.monoToMaybe(Mono.just(jwkSet.get()));
    }
    return RxJava2Adapter.monoToMaybe(Mono.empty());
}).apply(e)))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(client.getAbs(UriBuilder.fromHttpUrl(jwksUri).build().toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).map(RxJavaReactorMigrationUtil.toJdkFunction(new JWKSetDeserializer()::convert)).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(client.getAbs(UriBuilder.fromHttpUrl(jwksUri).build().toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).map
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(jwkSet.get()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientMetadataException("Unable to parse jwks from : " + jwksUri)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientMetadataException(jwksUri + " is not valid.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(ex))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(jwk.get()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(jwk.get()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(code)).switchIfEmpty(RxJava2Adapter.maybeToMono(handleInvalidCode(code))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthorizationCode, MaybeSource<AuthorizationCode>>toJdkFunction((authorizationCode)->{
    if (!authorizationCode.getClientId().equals(client.getClientId())) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidGrantException("The authorization code " + code + " does not belong to the client " + client.getClientId() + ".")));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(authorizationCode));
}).apply(v)))).flatMap((z)->authorizationCodeRepository.delete(z.getId()).as(RxJava2Adapter::maybeToMono)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(code)).switchIfEmpty(RxJava2Adapter.maybeToMono(handleInvalidCode(code))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthorizationCode, MaybeSource<AuthorizationCode>>toJdkFunction((authorizationCode)->{
    if (!authorizationCode.getClientId().equals(client.getClientId())) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidGrantException("The authorization code " + code + " does not belong to the client " + client.getClientId() + ".")));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(authorizationCode));
}).apply(v)))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authorizationCodeRepository.findByCode(code)).switchIfEmpty(RxJava2Adapter.maybeToMono(handleInvalidCode(code))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidGrantException("The authorization code " + code + " does not belong to the client " + client.getClientId() + ".")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(authorizationCode))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.completableToMono(accessTokenRepository.findByAuthorizationCode(code).flatMapCompletable((accessToken)->{
    Completable deleteAccessTokenAction = accessTokenRepository.delete(accessToken.getToken());
    if (accessToken.getRefreshToken() != null) {
        RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(deleteAccessTokenAction).then(RxJava2Adapter.completableToMono(refreshTokenRepository.delete(accessToken.getRefreshToken()))));
    }
    return deleteAccessTokenAction;
})).then(Mono.error(new InvalidGrantException("The authorization code " + code + " is invalid."))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(deleteAccessTokenAction).then(RxJava2Adapter.completableToMono(refreshTokenRepository.delete(accessToken.getRefreshToken()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.completableToMono(accessTokenRepository.findByAuthorizationCode(code).flatMapCompletable((accessToken)->{
    Completable deleteAccessTokenAction = accessTokenRepository.delete(accessToken.getToken());
    if (accessToken.getRefreshToken() != null) {
        RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(deleteAccessTokenAction).then(RxJava2Adapter.completableToMono(refreshTokenRepository.delete(accessToken.getRefreshToken()))));
    }
    return deleteAccessTokenAction;
})).then(Mono.error(new InvalidGrantException("The authorization code " + code + " is invalid.")))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(idTokenService.create(oAuth2Request, client, endUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((idToken)->{
    IDTokenResponse response = new IDTokenResponse();
    response.setRedirectUri(authorizationRequest.getRedirectUri());
    response.setIdToken(idToken);
    response.setState(authorizationRequest.getState());
    return response;
})))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tokenService.create(oAuth2Request, client, endUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->{
    ImplicitResponse response = new ImplicitResponse();
    response.setRedirectUri(authorizationRequest.getRedirectUri());
    response.setAccessToken(accessToken);
    response.setState(authorizationRequest.getState());
    return response;
})))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(prepareResponse(authorizationRequest, client, endUser)).flatMap((response)->RxJava2Adapter.singleToMono(processResponse(response, authorizationRequest, client, endUser))))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encodeAuthorization(jwtAuthorizationResponse.build(), client)).flatMap((authorization)->RxJava2Adapter.singleToMono(jweService.encryptAuthorization(authorization, client))).map(RxJavaReactorMigrationUtil.toJdkFunction((token)->{
    jwtAuthorizationResponse.setResponseType(authorizationRequest.getResponseType());
    jwtAuthorizationResponse.setResponseMode(authorizationRequest.getResponseMode());
    jwtAuthorizationResponse.setToken(token);
    return jwtAuthorizationResponse;
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jwtService.encodeAuthorization(jwtAuthorizationResponse.build(), client)).flatMap((authorization)->RxJava2Adapter.singleToMono(jweService.encryptAuthorization(authorization, client))).map
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(scopeManager.findAll()))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("A refresh token must be supplied.")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(super.parseRequest(tokenRequest, client)).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(getTokenService().refresh(refreshToken, tokenRequest, client)).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.gateway.handler.oauth2.service.token.Token refreshToken1)->{
    if (refreshToken1.getSubject() != null) {
        tokenRequest1.setSubject(refreshToken1.getSubject());
    }
    final Set<String> originalScopes = (refreshToken1.getScope() != null ? new HashSet(Arrays.asList(refreshToken1.getScope().split("\\s+"))) : null);
    final Set<String> requestedScopes = tokenRequest1.getScopes();
    if (requestedScopes == null || requestedScopes.isEmpty()) {
        tokenRequest1.setScopes(originalScopes);
    } else if (originalScopes != null && !originalScopes.isEmpty()) {
        Set<String> filteredScopes = requestedScopes.stream().filter(originalScopes::contains).collect(Collectors.toSet());
        tokenRequest1.setScopes(filteredScopes);
    }
    tokenRequest1.setRefreshToken(refreshToken1.getAdditionalInformation());
    return tokenRequest1;
}))))
1 | Mono | map | METHOD_INVOCATION | (tokenRequest1)->RxJava2Adapter.singleToMono(getTokenService().refresh(refreshToken, tokenRequest, client)).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.gateway.handler.oauth2.service.token.Token refreshToken1)->{
    if (refreshToken1.getSubject() != null) {
        tokenRequest1.setSubject(refreshToken1.getSubject());
    }
    final Set<String> originalScopes = (refreshToken1.getScope() != null ? new HashSet(Arrays.asList(refreshToken1.getScope().split("\\s+"))) : null);
    final Set<String> requestedScopes = tokenRequest1.getScopes();
    if (requestedScopes == null || requestedScopes.isEmpty()) {
        tokenRequest1.setScopes(originalScopes);
    } else if (originalScopes != null && !originalScopes.isEmpty()) {
        Set<String> filteredScopes = requestedScopes.stream().filter(originalScopes::contains).collect(Collectors.toSet());
        tokenRequest1.setScopes(filteredScopes);
    }
    tokenRequest1.setRefreshToken(refreshToken1.getAdditionalInformation());
    return tokenRequest1;
}))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidGrantException()))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tokenRequest))
1 | Mono | IMPORT
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(parseRequest(tokenRequest, client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<TokenRequest, MaybeSource<User>>toJdkFunction((tokenRequest1)->resolveResourceOwner(tokenRequest1, client)).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(parseRequest(tokenRequest, client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<TokenRequest, MaybeSource<User>>toJdkFunction((tokenRequest1)->resolveResourceOwner(tokenRequest1, client)).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(parseRequest(tokenRequest, client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<TokenRequest, MaybeSource<User>>toJdkFunction((tokenRequest1)->resolveResourceOwner(tokenRequest1, client)).apply(e)))).map
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tokenRequest))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resolveRequest(tokenRequest, client, endUser)).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(createOAuth2Request(tokenRequest1, client, endUser))).flatMap((oAuth2Request)->RxJava2Adapter.singleToMono(createAccessToken(oAuth2Request, client, endUser))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(resolveRequest(tokenRequest, client, endUser)).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(createOAuth2Request(tokenRequest1, client, endUser))).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tokenRequest.createOAuth2Request()).map(RxJavaReactorMigrationUtil.toJdkFunction((oAuth2Request)->{
    if (endUser != null) {
        oAuth2Request.setSubject(endUser.getId());
    }
    oAuth2Request.setSupportRefreshToken(isSupportRefreshToken(client));
    return oAuth2Request;
})))
1 | Mono | just | METHOD_INVOCATION | Mono.just(tokenRequest.createOAuth2Request()).map
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(authorizationCodeService.create(authorizationRequest, endUser)).flatMap((v)->RxJava2Adapter.singleToMono((Single<AuthorizationResponse>)RxJavaReactorMigrationUtil.toJdkFunction((Function<AuthorizationCode, Single<AuthorizationResponse>>)(code)->{
    HybridResponse hybridResponse = new HybridResponse();
    hybridResponse.setRedirectUri(authorizationRequest.getRedirectUri());
    hybridResponse.setState(authorizationRequest.getState());
    hybridResponse.setCode(code.getCode());
    OAuth2Request oAuth2Request = authorizationRequest.createOAuth2Request();
    oAuth2Request.setGrantType(GrantType.HYBRID);
    oAuth2Request.setSubject(endUser.getId());
    oAuth2Request.getContext().put(Claims.c_hash, code.getCode());
    oAuth2Request.getContext().put(Claims.s_hash, authorizationRequest.getState());
    switch (authorizationRequest.getResponseType()) {
    case ResponseType.CODE_ID_TOKEN: 
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(idTokenService.create(oAuth2Request, client, endUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((idToken)->{
            hybridResponse.setIdToken(idToken);
            return hybridResponse;
        })));
    
    default: 
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tokenService.create(oAuth2Request, client, endUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->{
            hybridResponse.setAccessToken(accessToken);
            return hybridResponse;
        })));
    
    }
}).apply(v))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(idTokenService.create(oAuth2Request, client, endUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((idToken)->{
    hybridResponse.setIdToken(idToken);
    return hybridResponse;
})))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tokenService.create(oAuth2Request, client, endUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((accessToken)->{
    hybridResponse.setAccessToken(accessToken);
    return hybridResponse;
})))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resolveAuthorizedScopes(authorizationRequest, client, endUser)).flatMap((request)->RxJava2Adapter.singleToMono(resolveRedirectUri(request, client))))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationRequest))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(throwable))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(throwable))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(throwable))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(throwable))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(tokenService.getAccessToken(token, client)).switchIfEmpty(Mono.error(new InvalidTokenException("Unknown access token"))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Token, CompletableSource>)(accessToken)->{
    String tokenClientId = accessToken.getClientId();
    if (!client.getClientId().equals(tokenClientId)) {
        logger.debug("Revoke FAILED: requesting client = {}, token\'s client = {}.", client.getClientId(), tokenClientId);
        return RxJava2Adapter.monoToCompletable(Mono.error(new InvalidGrantException("Cannot revoke tokens issued to other clients.")));
    }
    return tokenService.deleteAccessToken(accessToken.getValue());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tokenService.getAccessToken(token, client)).switchIfEmpty(Mono.error(new InvalidTokenException("Unknown access token"))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Token, CompletableSource>)(accessToken)->{
    String tokenClientId = accessToken.getClientId();
    if (!client.getClientId().equals(tokenClientId)) {
        logger.debug("Revoke FAILED: requesting client = {}, token\'s client = {}.", client.getClientId(), tokenClientId);
        return RxJava2Adapter.monoToCompletable(Mono.error(new InvalidGrantException("Cannot revoke tokens issued to other clients.")));
    }
    return tokenService.deleteAccessToken(accessToken.getValue());
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tokenService.getAccessToken(token, client)).switchIfEmpty(Mono.error(new InvalidTokenException("Unknown access token"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tokenService.getAccessToken(token, client)).switchIfEmpty(Mono.error(new InvalidTokenException("Unknown access token")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidGrantException("Cannot revoke tokens issued to other clients.")))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(tokenService.getRefreshToken(token, client)).switchIfEmpty(Mono.error(new InvalidTokenException("Unknown refresh token"))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Token, CompletableSource>)(refreshToken)->{
    String tokenClientId = refreshToken.getClientId();
    if (!client.getClientId().equals(tokenClientId)) {
        logger.debug("Revoke FAILED: requesting client = {}, token\'s client = {}.", client.getClientId(), tokenClientId);
        return RxJava2Adapter.monoToCompletable(Mono.error(new InvalidGrantException("Cannot revoke tokens issued to other clients.")));
    }
    return tokenService.deleteRefreshToken(refreshToken.getValue());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tokenService.getRefreshToken(token, client)).switchIfEmpty(Mono.error(new InvalidTokenException("Unknown refresh token"))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Token, CompletableSource>)(refreshToken)->{
    String tokenClientId = refreshToken.getClientId();
    if (!client.getClientId().equals(tokenClientId)) {
        logger.debug("Revoke FAILED: requesting client = {}, token\'s client = {}.", client.getClientId(), tokenClientId);
        return RxJava2Adapter.monoToCompletable(Mono.error(new InvalidGrantException("Cannot revoke tokens issued to other clients.")));
    }
    return tokenService.deleteRefreshToken(refreshToken.getValue());
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tokenService.getRefreshToken(token, client)).switchIfEmpty(Mono.error(new InvalidTokenException("Unknown refresh token"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tokenService.getRefreshToken(token, client)).switchIfEmpty(Mono.error(new InvalidTokenException("Unknown refresh token")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidGrantException("Cannot revoke tokens issued to other clients.")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encodeAuthorization(jwtException.build(), client)).flatMap((authorization)->RxJava2Adapter.singleToMono(jweService.encryptAuthorization(authorization, client))))
1 | Mono | IMPORT
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(resourceService.findAccessPolicies(domain.getId(), client.getId(), accessToken.getSub(), resource)).map(RxJavaReactorMigrationUtil.toJdkFunction(AccessPolicy::getId)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findAccessPolicies(domain.getId(), client.getId(), accessToken.getSub(), resource)).map(RxJavaReactorMigrationUtil.toJdkFunction(AccessPolicy::getId)).collectList
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(resourceService.findAccessPolicy(domain.getId(), client.getId(), accessToken.getSub(), resource, accessPolicyId)).switchIfEmpty(Mono.error(new AccessPolicyNotFoundException(accessPolicyId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourceService.findAccessPolicy(domain.getId(), client.getId(), accessToken.getSub(), resource, accessPolicyId)).switchIfEmpty(Mono.error(new AccessPolicyNotFoundException(accessPolicyId)))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userConsentService.checkConsent(client, user)).flatMap((v)->RxJava2Adapter.singleToMono((Single<List<Scope>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Set<String>, Single<List<Scope>>>)(approvedConsent)->{
    if (approvedConsent.containsAll(requestedConsents)) {
        return RxJava2Adapter.monoToSingle(Mono.just(Collections.<Scope>emptyList()));
    }
    Set<String> requiredConsent = requestedConsents.stream().filter((requestedScope)->!approvedConsent.contains(requestedScope)).collect(Collectors.toSet());
    return userConsentService.getConsentInformation(requiredConsent);
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.<Scope>emptyList()))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(Observable.fromIterable(flows), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((flow)->flow.handle(authorizationRequest.getResponseType()))))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(unsupportedAssertionType))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.validateJWT(assertion, basePath)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<Client>>toJdkFunction(new Function<JWT, MaybeSource<Client>>(){
    
    () {
        super();
    }
    
    @Override()
    public MaybeSource<Client> apply(JWT jwt) throws Exception {
        if (JWSAlgorithm.Family.HMAC_SHA.contains(jwt.getHeader().getAlgorithm())) {
            return validateSignatureWithHMAC(jwt);
        } else {
            return validateSignatureWithPublicKey(jwt);
        }
    }
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(unsupportedAssertionType))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(NOT_VALID))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("assertion has expired")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new ServerErrorException("Unable to retrieve discovery token endpoint.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(NOT_VALID))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("JWT Assertion must be signed with PS256")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(jwt))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(NOT_VALID))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new InvalidClientException("Missing or invalid client"))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Client, MaybeSource<Client>>toJdkFunction((client)->{
    if (client.getTokenEndpointAuthMethod() == null || ClientAuthenticationMethod.PRIVATE_KEY_JWT.equalsIgnoreCase(client.getTokenEndpointAuthMethod())) {
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.getClientJwkSet(client)).switchIfEmpty(Mono.error(new InvalidClientException("No jwk keys available on client"))).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new InvalidClientException("Unable to validate client, no matching key."))).flatMap((t)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWK, MaybeSource<Client>>toJdkFunction((jwk)->{
            if (jwsService.isValidSignature(signedJWT, jwk)) {
                return RxJava2Adapter.monoToMaybe(Mono.just(client));
            }
            return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Unable to validate client, assertion signature is not valid.")));
        }).apply(t)))));
    } else {
        return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Invalid client: missing or unsupported authentication method")));
    }
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new InvalidClientException("Missing or invalid client"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new InvalidClientException("Missing or invalid client")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.getClientJwkSet(client)).switchIfEmpty(Mono.error(new InvalidClientException("No jwk keys available on client"))).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new InvalidClientException("Unable to validate client, no matching key."))).flatMap((t)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWK, MaybeSource<Client>>toJdkFunction((jwk)->{
    if (jwsService.isValidSignature(signedJWT, jwk)) {
        return RxJava2Adapter.monoToMaybe(Mono.just(client));
    }
    return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Unable to validate client, assertion signature is not valid.")));
}).apply(t)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getClientJwkSet(client)).switchIfEmpty(Mono.error(new InvalidClientException("No jwk keys available on client"))).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new InvalidClientException("Unable to validate client, no matching key."))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getClientJwkSet(client)).switchIfEmpty(Mono.error(new InvalidClientException("No jwk keys available on client"))).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getClientJwkSet(client)).switchIfEmpty(Mono.error(new InvalidClientException("No jwk keys available on client"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getClientJwkSet(client)).switchIfEmpty(Mono.error(new InvalidClientException("No jwk keys available on client")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getClientJwkSet(client)).switchIfEmpty(Mono.error(new InvalidClientException("No jwk keys available on client"))).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new InvalidClientException("Unable to validate client, no matching key.")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Unable to validate client, assertion signature is not valid.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Invalid client: missing or unsupported authentication method")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(NOT_VALID))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException(ex.getMessage())))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Unable to validate client, assertion signature is not valid.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Unable to validate client, assertion signature is not valid.")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new InvalidClientException("Missing or invalid client"))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Client, MaybeSource<Client>>toJdkFunction((client)->{
    try {
        if (client.getTokenEndpointAuthMethod() == null || ClientAuthenticationMethod.CLIENT_SECRET_JWT.equalsIgnoreCase(client.getTokenEndpointAuthMethod())) {
            JWSVerifier verifier = new MACVerifier(client.getClientSecret());
            if (signedJWT.verify(verifier)) {
                return RxJava2Adapter.monoToMaybe(Mono.just(client));
            }
        } else {
            return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Invalid client: missing or unsupported authentication method")));
        }
    } catch (JOSEException josee) {
    }
    return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Unable to validate client, assertion signature is not valid.")));
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new InvalidClientException("Missing or invalid client"))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new InvalidClientException("Missing or invalid client")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Invalid client: missing or unsupported authentication method")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Unable to validate client, assertion signature is not valid.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(NOT_VALID))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException(ex.getMessage())))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client.getJwks()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(requestObjectService.readRequestObject(request, context.get(CLIENT_CONTEXT_KEY), domain.useFapiBrazilProfile())).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->preserveRequestObject(context, jwt))).flatMap((jwt)->RxJava2Adapter.singleToMono(validateRequestObjectClaims(context, jwt))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(requestObjectService.readRequestObject(request, context.get(CLIENT_CONTEXT_KEY), domain.useFapiBrazilProfile())).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->preserveRequestObject(context, jwt))).flatMap
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(e))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(parService.readFromURI(requestUri, context.get(CLIENT_CONTEXT_KEY), context.get(PROVIDER_METADATA_CONTEXT_KEY))).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->preserveRequestObject(context, jwt))).flatMap((jwt)->RxJava2Adapter.singleToMono(validateRequestObjectClaims(context, jwt))).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->{
    final String uriIdentifier = requestUri.substring(PushedAuthorizationRequestService.PAR_URN_PREFIX.length());
    context.put(REQUEST_URI_ID_KEY, uriIdentifier);
    return jwt;
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(parService.readFromURI(requestUri, context.get(CLIENT_CONTEXT_KEY), context.get(PROVIDER_METADATA_CONTEXT_KEY))).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->preserveRequestObject(context, jwt))).flatMap((jwt)->RxJava2Adapter.singleToMono(validateRequestObjectClaims(context, jwt))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(parService.readFromURI(requestUri, context.get(CLIENT_CONTEXT_KEY), context.get(PROVIDER_METADATA_CONTEXT_KEY))).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->preserveRequestObject(context, jwt))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(requestObjectService.readRequestObjectFromURI(requestUri, context.get(CLIENT_CONTEXT_KEY))).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->preserveRequestObject(context, jwt))).flatMap((jwt)->RxJava2Adapter.singleToMono(validateRequestObjectClaims(context, jwt))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(requestObjectService.readRequestObjectFromURI(requestUri, context.get(CLIENT_CONTEXT_KEY))).map(RxJavaReactorMigrationUtil.toJdkFunction((jwt)->preserveRequestObject(context, jwt))).flatMap
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(tokenService.introspect(introspectionRequest.getToken())).flatMap((v)->RxJava2Adapter.singleToMono((Single<IntrospectionResponse>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Token, Single<IntrospectionResponse>>)(token)->{
    AccessToken accessToken = (AccessToken)token;
    if (accessToken.getSubject() != null && !accessToken.getSubject().equals(accessToken.getClientId())) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findById(accessToken.getSubject())).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->convert(accessToken, user))).defaultIfEmpty(convert(accessToken, null)).single());
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(convert(accessToken, null)));
    }
}).apply(v))))
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findById(accessToken.getSubject())).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->convert(accessToken, user))).defaultIfEmpty(convert(accessToken, null)).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(accessToken.getSubject())).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->convert(accessToken, user))).defaultIfEmpty(convert(accessToken, null)).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(accessToken.getSubject())).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->convert(accessToken, user))).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(convert(accessToken, null)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new IntrospectionResponse(false)))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(dcrService.create(request, UriBuilderRequest.resolveProxyRequest(context)))).map(RxJavaReactorMigrationUtil.toJdkFunction(clientSyncService::addDynamicClientRegistred)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(dcrService.create(request, UriBuilderRequest.resolveProxyRequest(context)))).map
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(context.getBodyAsJson().mapTo(DynamicClientRegistrationRequest.class)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException(ex.getMessage())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException(sanitizedMessage)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | IMPORT
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(this.resourceService.listByDomainAndClientAndUser(domain.getId(), client.getId(), accessToken.getSub())).map(RxJavaReactorMigrationUtil.toJdkFunction(Resource::getId)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(this.resourceService.create(request, domain.getId(), client.getId(), accessToken.getSub()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(this.resourceService.findByDomainAndClientAndUserAndResource(domain.getId(), client.getId(), accessToken.getSub(), resource_id)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource_id))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.resourceService.findByDomainAndClientAndUserAndResource(domain.getId(), client.getId(), accessToken.getSub(), resource_id)).switchIfEmpty(Mono.error(new ResourceNotFoundException(resource_id)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(this.resourceService.update(request, domain.getId(), client.getId(), accessToken.getSub(), resource_id))))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(context.getBodyAsJson()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<JsonObject, SingleSource<JsonObject>>toJdkFunction(this::bodyValidation).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((body)->body.mapTo(NewResource.class))))
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(context.getBodyAsJson()).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<JsonObject, SingleSource<JsonObject>>toJdkFunction(this::bodyValidation).apply(v)))).map
1 | Mono | just | METHOD_INVOCATION | Mono.just(context.getBodyAsJson()).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("missing resource_scopes")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(body))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(introspectionService.introspect(createRequest(context))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((introspectionResponse)->context.response().putHeader(HttpHeaders.CACHE_CONTROL, "no-store").putHeader(HttpHeaders.PRAGMA, "no-cache").putHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON).end(Json.encodePrettily(introspectionResponse)))))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(parRepository.findById(identifier)).switchIfEmpty(Mono.error(new InvalidRequestUriException())).flatMap((v)->RxJava2Adapter.singleToMono((Single<JWT>)RxJavaReactorMigrationUtil.toJdkFunction((Function<PushedAuthorizationRequest, Single<JWT>>)(Function<PushedAuthorizationRequest, Single<JWT>>)(req)->{
    if (req.getParameters() != null && req.getExpireAt() != null && req.getExpireAt().after(new Date())) {
        final String request = req.getParameters().getFirst(io.gravitee.am.common.oidc.Parameters.REQUEST);
        if (request != null) {
            return readRequestObject(client, request);
        } else if (this.domain.usePlainFapiProfile()) {
            return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("request parameter is missing")));
        } else {
            final JWTClaimsSet.Builder builder = new JWTClaimsSet.Builder().audience(oidcMetadata.getIssuer()).expirationTime(req.getExpireAt());
            req.getParameters().toSingleValueMap().forEach(builder::claim);
            return RxJava2Adapter.monoToSingle(Mono.just(new PlainJWT(builder.build())));
        }
    }
    return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestUriException()));
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(parRepository.findById(identifier)).switchIfEmpty(Mono.error(new InvalidRequestUriException())).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(parRepository.findById(identifier)).switchIfEmpty(Mono.error(new InvalidRequestUriException()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("request parameter is missing")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new PlainJWT(builder.build())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestUriException()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("Invalid request_uri")))
1 | Mono | fromRunnable | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.fromRunnable(RxJavaReactorMigrationUtil.toRunnable(()->{
    String clientId = jwtClientAssertion(par) ? getClientIdFromAssertion(par) : par.getParameters().getFirst(Parameters.CLIENT_ID);
    if (!client.getClientId().equals(clientId)) {
        throw new InvalidRequestException();
    }
    if (par.getParameters().getFirst(io.gravitee.am.common.oidc.Parameters.REQUEST_URI) != null) {
        throw new InvalidRequestException("request_uri not authorized");
    }
})))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(registrationValidation).then(Mono.defer(()->RxJava2Adapter.singleToMono(readRequestObject(client, request)).map(RxJavaReactorMigrationUtil.toJdkFunction((com.nimbusds.jwt.JWT jwt)->checkRedirectUriParameter(jwt, client))))).then())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(registrationValidation).then(Mono.defer(()->RxJava2Adapter.singleToMono(readRequestObject(client, request)).map(RxJavaReactorMigrationUtil.toJdkFunction((com.nimbusds.jwt.JWT jwt)->checkRedirectUriParameter(jwt, client))))).then
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(registrationValidation).then(Mono.defer(()->RxJava2Adapter.singleToMono(readRequestObject(client, request)).map(RxJavaReactorMigrationUtil.toJdkFunction((com.nimbusds.jwt.JWT jwt)->checkRedirectUriParameter(jwt, client)))))
1 | Mono | map | METHOD_INVOCATION | ()->RxJava2Adapter.singleToMono(readRequestObject(client, request)).map(RxJavaReactorMigrationUtil.toJdkFunction((com.nimbusds.jwt.JWT jwt)->checkRedirectUriParameter(jwt, client)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(registrationValidation).then(Mono.fromRunnable(RxJavaReactorMigrationUtil.toRunnable(()->checkRedirectUriParameter(par, client)))))
1 | Mono | fromRunnable | METHOD_INVOCATION | RxJava2Adapter.completableToMono(registrationValidation).then(Mono.fromRunnable(RxJavaReactorMigrationUtil.toRunnable(()->checkRedirectUriParameter(par, client))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(registrationValidation).then(Mono.defer(()->RxJava2Adapter.singleToMono(parRepository.create(par)))).map(RxJavaReactorMigrationUtil.toJdkFunction((parPersisted)->{
    final PushedAuthorizationRequestResponse response = new PushedAuthorizationRequestResponse();
    response.setRequestUri(PAR_URN_PREFIX + parPersisted.getId());
    final long exp = (parPersisted.getExpireAt().getTime() - Instant.now().toEpochMilli()) / 1000;
    response.setExp(exp);
    return response;
})))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(registrationValidation).then(Mono.defer(()->RxJava2Adapter.singleToMono(parRepository.create(par)))).map
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(registrationValidation).then(Mono.defer(()->RxJava2Adapter.singleToMono(parRepository.create(par))))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jweService.decrypt(request, false).onErrorResumeNext((ex)->{
    if (ex instanceof OAuth2Exception) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.debug("JWT invalid for the request parameter", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException()));
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::checkRequestObjectClaims)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::checkRequestObjectAlgorithm)).flatMap((jwt)->RxJava2Adapter.singleToMono(validateSignature((SignedJWT)jwt, client))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jweService.decrypt(request, false).onErrorResumeNext((ex)->{
    if (ex instanceof OAuth2Exception) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.debug("JWT invalid for the request parameter", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException()));
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::checkRequestObjectClaims)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::checkRequestObjectAlgorithm)).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jweService.decrypt(request, false).onErrorResumeNext((ex)->{
    if (ex instanceof OAuth2Exception) {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
    LOGGER.debug("JWT invalid for the request parameter", ex);
    return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException()));
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::checkRequestObjectClaims)).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException()))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWKSet, MaybeSource<JWK>>toJdkFunction(new Function<JWKSet, MaybeSource<JWK>>(){
    
    () {
        super();
    }
    
    @Override()
    public MaybeSource<JWK> apply(JWKSet jwkSet) throws Exception {
        return jwkService.getKey(jwkSet, jwt.getHeader().getKeyID());
    }
}).apply(v)))).switchIfEmpty(Mono.error(new InvalidRequestObjectException("Invalid key ID"))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWKSet, MaybeSource<JWK>>toJdkFunction(new Function<JWKSet, MaybeSource<JWK>>(){
    
    () {
        super();
    }
    
    @Override()
    public MaybeSource<JWK> apply(JWKSet jwkSet) throws Exception {
        return jwkService.getKey(jwkSet, jwt.getHeader().getKeyID());
    }
}).apply(v)))).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWKSet, MaybeSource<JWK>>toJdkFunction(new Function<JWKSet, MaybeSource<JWK>>(){
    
    () {
        super();
    }
    
    @Override()
    public MaybeSource<JWK> apply(JWKSet jwkSet) throws Exception {
        return jwkService.getKey(jwkSet, jwt.getHeader().getKeyID());
    }
}).apply(v)))).switchIfEmpty(Mono.error(new InvalidRequestObjectException("Invalid key ID")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException("Invalid request object signing algorithm")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException("Invalid signature")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(signedJwt))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(throwable))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ServerErrorException("Unable to encrypt id_token")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(signedJwt))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(throwable))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ServerErrorException("Unable to encrypt userinfo")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(JWTParser.parse(jwt) instanceof EncryptedJWT))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException("Request object must be encrypted using RSA-OAEP with A256GCM")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ServerErrorException("Unable to perform Json Web Decryption, unsupported algorithm: " + algorithm.getName())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException("Request Object must be encrypted")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(parsedJwt))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwk.getUse() == null || jwk.getUse().equals(KeyUse.ENCRYPTION.getValue()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwe.getHeader().getKeyID() == null || jwe.getHeader().getKeyID().equals(jwk.getKid()))).map(RxJavaReactorMigrationUtil.toJdkFunction(function::apply)).map(RxJavaReactorMigrationUtil.toJdkFunction((decrypter)->{
    try {
        jwe.decrypt(decrypter);
        return Optional.<JWT>ofNullable(jwe.getPayload().toSignedJWT());
    } catch (Exception e) {
        return Optional.<JWT>empty();
    }
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Optional::isPresent)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::get)).next().single())
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwk.getUse() == null || jwk.getUse().equals(KeyUse.ENCRYPTION.getValue()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwe.getHeader().getKeyID() == null || jwe.getHeader().getKeyID().equals(jwk.getKid()))).map(RxJavaReactorMigrationUtil.toJdkFunction(function::apply)).map(RxJavaReactorMigrationUtil.toJdkFunction((decrypter)->{
    try {
        jwe.decrypt(decrypter);
        return Optional.<JWT>ofNullable(jwe.getPayload().toSignedJWT());
    } catch (Exception e) {
        return Optional.<JWT>empty();
    }
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Optional::isPresent)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::get)).next().single
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwk.getUse() == null || jwk.getUse().equals(KeyUse.ENCRYPTION.getValue()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwe.getHeader().getKeyID() == null || jwe.getHeader().getKeyID().equals(jwk.getKid()))).map(RxJavaReactorMigrationUtil.toJdkFunction(function::apply)).map(RxJavaReactorMigrationUtil.toJdkFunction((decrypter)->{
    try {
        jwe.decrypt(decrypter);
        return Optional.<JWT>ofNullable(jwe.getPayload().toSignedJWT());
    } catch (Exception e) {
        return Optional.<JWT>empty();
    }
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Optional::isPresent)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::get)).next
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwk.getUse() == null || jwk.getUse().equals(KeyUse.ENCRYPTION.getValue()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwe.getHeader().getKeyID() == null || jwe.getHeader().getKeyID().equals(jwk.getKid()))).map(RxJavaReactorMigrationUtil.toJdkFunction(function::apply)).map(RxJavaReactorMigrationUtil.toJdkFunction((decrypter)->{
    try {
        jwe.decrypt(decrypter);
        return Optional.<JWT>ofNullable(jwe.getPayload().toSignedJWT());
    } catch (Exception e) {
        return Optional.<JWT>empty();
    }
})).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Optional::isPresent)).map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwk.getUse() == null || jwk.getUse().equals(KeyUse.ENCRYPTION.getValue()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwe.getHeader().getKeyID() == null || jwe.getHeader().getKeyID().equals(jwk.getKid()))).map(RxJavaReactorMigrationUtil.toJdkFunction(function::apply)).map(RxJavaReactorMigrationUtil.toJdkFunction((decrypter)->{
    try {
        jwe.decrypt(decrypter);
        return Optional.<JWT>ofNullable(jwe.getPayload().toSignedJWT());
    } catch (Exception e) {
        return Optional.<JWT>empty();
    }
})).filter
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwk.getUse() == null || jwk.getUse().equals(KeyUse.ENCRYPTION.getValue()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwe.getHeader().getKeyID() == null || jwe.getHeader().getKeyID().equals(jwk.getKid()))).map(RxJavaReactorMigrationUtil.toJdkFunction(function::apply)).map
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwk.getUse() == null || jwk.getUse().equals(KeyUse.ENCRYPTION.getValue()))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwe.getHeader().getKeyID() == null || jwe.getHeader().getKeyID().equals(jwk.getKid()))).map
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwk.getUse() == null || jwk.getUse().equals(KeyUse.ENCRYPTION.getValue()))).filter
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(jwks.flatMapPublisher((jwkset)->RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys())))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(filter::test)).filter
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(jwkset.getKeys()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(signedJwt))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(throwable))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ServerErrorException("Unable to encrypt authorization")))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ServerErrorException("Unable to perform Json Web Encryption, unsupported algorithm: " + algorithm.getName())))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).flatMap((z)->jwkService.filter(z, filter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new InvalidClientMetadataException("no matching key found to encrypt")))).flatMapSingle((jwk)->RxJava2Adapter.monoToSingle(Mono.just(function.apply(jwk))))).map(RxJavaReactorMigrationUtil.toJdkFunction((encrypter)->{
    jwe.encrypt(encrypter);
    return jwe.serialize();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).flatMap((z)->jwkService.filter(z, filter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new InvalidClientMetadataException("no matching key found to encrypt"))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).flatMap((z)->jwkService.filter(z, filter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).flatMap((z)->jwkService.filter(z, filter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new InvalidClientMetadataException("no matching key found to encrypt")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(function.apply(jwk)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(parService.deleteRequestUri(uriIdentifier).onErrorResumeNext((err)->{
    logger.warn("Deletion of Pushed Authorization Request with id \'{}\' failed", uriIdentifier, err);
    return RxJava2Adapter.monoToCompletable(Mono.empty());
})).then(RxJava2Adapter.singleToMono(flow.run(request, client, endUser))))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.observableToFlux(Observable.fromIterable(tokenGranters.values()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((tokenGranter)->tokenGranter.handle(tokenRequest.getGrantType(), client))).next().switchIfEmpty(Mono.error(new UnsupportedGrantTypeException("Unsupported grant type: " + tokenRequest.getGrantType()))))
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromIterable(tokenGranters.values()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((tokenGranter)->tokenGranter.handle(tokenRequest.getGrantType(), client))).next().switchIfEmpty
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromIterable(tokenGranters.values()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((tokenGranter)->tokenGranter.handle(tokenRequest.getGrantType(), client))).next
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(Observable.fromIterable(tokenGranters.values()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((tokenGranter)->tokenGranter.handle(tokenRequest.getGrantType(), client))).next().switchIfEmpty(Mono.error(new UnsupportedGrantTypeException("Unsupported grant type: " + tokenRequest.getGrantType())))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(parseRequest(tokenRequest, client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<TokenRequest, MaybeSource<User>>toJdkFunction((tokenRequest1)->resolveResourceOwner(tokenRequest, client)).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(parseRequest(tokenRequest, client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<TokenRequest, MaybeSource<User>>toJdkFunction((tokenRequest1)->resolveResourceOwner(tokenRequest, client)).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(parseRequest(tokenRequest, client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<TokenRequest, MaybeSource<User>>toJdkFunction((tokenRequest1)->resolveResourceOwner(tokenRequest, client)).apply(e)))).map
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidGrantException("Missing parameter: ticket")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(UmaException.needInfoBuilder(ticket).requiredClaims(Arrays.asList(new RequiredClaims(CLAIM_TOKEN).setFriendlyName("Requesting party token"), new RequiredClaims(CLAIM_TOKEN_FORMAT).setFriendlyName("supported claims token format").setClaimTokenFormat(CLAIM_TOKEN_FORMAT_SUPPORTED))).build()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(UmaException.needInfoBuilder(ticket).requiredClaims(Arrays.asList(new RequiredClaims(CLAIM_TOKEN_FORMAT).setFriendlyName("supported claims token format").setClaimTokenFormat(CLAIM_TOKEN_FORMAT_SUPPORTED))).build()))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(tokenRequest.getClaimToken(), client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<User>>toJdkFunction((jwt)->userAuthenticationManager.loadPreAuthenticatedUser(jwt.getSub(), tokenRequest)).apply(e)))).switchIfEmpty(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(UserInvalidException::new))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(tokenRequest.getClaimToken(), client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<User>>toJdkFunction((jwt)->userAuthenticationManager.loadPreAuthenticatedUser(jwt.getSub(), tokenRequest)).apply(e)))).switchIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(tokenRequest.getClaimToken(), client)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWT, MaybeSource<User>>toJdkFunction((jwt)->userAuthenticationManager.loadPreAuthenticatedUser(jwt.getSub(), tokenRequest)).apply(e)))).switchIfEmpty(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(UserInvalidException::new)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(UmaException.needInfoBuilder(tokenRequest.getTicket()).requiredClaims(Arrays.asList(new RequiredClaims(CLAIM_TOKEN).setFriendlyName("Malformed or expired claim_token"))).build()))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resolveRequestedScopes(tokenRequest, client)).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.resolvePermissions(tokenRequest1, client, endUser))).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.createOAuth2Request(tokenRequest1, client, endUser))).flatMap((oAuth2Request)->RxJava2Adapter.singleToMono(this.executePolicies(oAuth2Request, client, endUser))).flatMap((oAuth2Request)->RxJava2Adapter.singleToMono(getTokenService().create(oAuth2Request, client, endUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((token)->this.handleUpgradedToken(tokenRequest, token))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(resolveRequestedScopes(tokenRequest, client)).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.resolvePermissions(tokenRequest1, client, endUser))).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.createOAuth2Request(tokenRequest1, client, endUser))).flatMap((oAuth2Request)->RxJava2Adapter.singleToMono(this.executePolicies(oAuth2Request, client, endUser))).flatMap((oAuth2Request)->RxJava2Adapter.singleToMono(getTokenService().create(oAuth2Request, client, endUser))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(resolveRequestedScopes(tokenRequest, client)).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.resolvePermissions(tokenRequest1, client, endUser))).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.createOAuth2Request(tokenRequest1, client, endUser))).flatMap((oAuth2Request)->RxJava2Adapter.singleToMono(this.executePolicies(oAuth2Request, client, endUser))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(resolveRequestedScopes(tokenRequest, client)).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.resolvePermissions(tokenRequest1, client, endUser))).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.createOAuth2Request(tokenRequest1, client, endUser))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(resolveRequestedScopes(tokenRequest, client)).flatMap((tokenRequest1)->RxJava2Adapter.singleToMono(this.resolvePermissions(tokenRequest1, client, endUser))).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidScopeException("At least one of the scopes included in the request does not match client pre-registered scopes")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tokenRequest))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.permissionTicketService.remove(tokenRequest.getTicket())).map(RxJavaReactorMigrationUtil.toJdkFunction(PermissionTicket::getPermissionRequest)).flatMap((v)->RxJava2Adapter.singleToMono((Single<TokenRequest>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<PermissionRequest>, Single<TokenRequest>>)(permissionRequests)->{
    List<String> resourceIds = permissionRequests.stream().map(PermissionRequest::getResourceId).collect(Collectors.toList());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(resourceService.findByResources(resourceIds)).collectList().flatMap((resourceSet)->RxJava2Adapter.singleToMono(this.checkRequestedScopesMatchResource(tokenRequest, resourceSet))).flatMap((resourceMap)->RxJava2Adapter.singleToMono(this.resolveScopeRequestAssessment(tokenRequest, permissionRequests, resourceMap))).flatMap((resolvedPermissionRequests)->RxJava2Adapter.singleToMono(this.extendPermissionWithRPT(tokenRequest, client, endUser, resolvedPermissionRequests))).map(RxJavaReactorMigrationUtil.toJdkFunction((extendedPermissionRequests)->{
        tokenRequest.setPermissions(extendedPermissionRequests);
        return tokenRequest;
    })));
}).apply(v))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.permissionTicketService.remove(tokenRequest.getTicket())).map(RxJavaReactorMigrationUtil.toJdkFunction(PermissionTicket::getPermissionRequest)).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(resourceService.findByResources(resourceIds)).collectList().flatMap((resourceSet)->RxJava2Adapter.singleToMono(this.checkRequestedScopesMatchResource(tokenRequest, resourceSet))).flatMap((resourceMap)->RxJava2Adapter.singleToMono(this.resolveScopeRequestAssessment(tokenRequest, permissionRequests, resourceMap))).flatMap((resolvedPermissionRequests)->RxJava2Adapter.singleToMono(this.extendPermissionWithRPT(tokenRequest, client, endUser, resolvedPermissionRequests))).map(RxJavaReactorMigrationUtil.toJdkFunction((extendedPermissionRequests)->{
    tokenRequest.setPermissions(extendedPermissionRequests);
    return tokenRequest;
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findByResources(resourceIds)).collectList().flatMap((resourceSet)->RxJava2Adapter.singleToMono(this.checkRequestedScopesMatchResource(tokenRequest, resourceSet))).flatMap((resourceMap)->RxJava2Adapter.singleToMono(this.resolveScopeRequestAssessment(tokenRequest, permissionRequests, resourceMap))).flatMap((resolvedPermissionRequests)->RxJava2Adapter.singleToMono(this.extendPermissionWithRPT(tokenRequest, client, endUser, resolvedPermissionRequests))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findByResources(resourceIds)).collectList().flatMap((resourceSet)->RxJava2Adapter.singleToMono(this.checkRequestedScopesMatchResource(tokenRequest, resourceSet))).flatMap((resourceMap)->RxJava2Adapter.singleToMono(this.resolveScopeRequestAssessment(tokenRequest, permissionRequests, resourceMap))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findByResources(resourceIds)).collectList().flatMap((resourceSet)->RxJava2Adapter.singleToMono(this.checkRequestedScopesMatchResource(tokenRequest, resourceSet))).flatMap
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findByResources(resourceIds)).collectList().flatMap
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidScopeException("At least one of the scopes included in the request does not match resource registered scopes")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(resourceSet.stream().collect(Collectors.toMap(Resource::getId, (resource)->resource))))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(requestedPermissions))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(requestedPermissions.stream().map((permissionRequest)->{
    Set<String> registeredScopes = new HashSet(fetchedResources.get(permissionRequest.getResourceId()).getResourceScopes());
    permissionRequest.getResourceScopes().addAll(tokenRequest.getScopes().stream().filter(registeredScopes::contains).collect(Collectors.toSet()));
    return permissionRequest;
}).collect(Collectors.toList())))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(tokenRequest.getRequestingPartyToken(), client)).flatMap((rpt)->RxJava2Adapter.singleToMono(this.checkRequestingPartyToken(rpt, client, endUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((rpt)->this.mergePermissions(rpt, requestedPermissions))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(tokenRequest.getRequestingPartyToken(), client)).flatMap((rpt)->RxJava2Adapter.singleToMono(this.checkRequestingPartyToken(rpt, client, endUser))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidGrantException("Requesting Party Token (rpt) not valid")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(requestedPermissions))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(InvalidTokenException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(rpt))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(oAuth2Request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException("Should not be used")))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(oAuth2Request))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(resourceService.findAccessPoliciesByResources(resourceIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((accessPolicy)->{
    Rule rule = new DefaultRule(accessPolicy);
    Optional<PermissionRequest> permission = permissionRequests.stream().filter((permissionRequest)->permissionRequest.getResourceId().equals(accessPolicy.getResource())).findFirst();
    if (permission.isPresent()) {
        ((DefaultRule)rule).setMetadata(Collections.singletonMap("permissionRequest", permission.get()));
    }
    return rule;
})).collectList().flatMap((v)->RxJava2Adapter.singleToMono((Single<OAuth2Request>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Rule>, Single<OAuth2Request>>)(rules)->{
    if (rules.isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.just(oAuth2Request));
    }
    ExecutionContext simpleExecutionContext = new SimpleExecutionContext(oAuth2Request, oAuth2Request.getHttpResponse());
    ExecutionContext executionContext = executionContextFactory.create(simpleExecutionContext);
    executionContext.setAttribute("client", new ClientProperties(client));
    if (endUser != null) {
        executionContext.setAttribute("user", new UserProperties(endUser));
    }
    return rulesEngine.fire(rules, executionContext).toSingleDefault(oAuth2Request).onErrorResumeNext((ex)->RxJava2Adapter.monoToSingle(Mono.error(new InvalidGrantException("Policy conditions are not met for actual request parameters"))));
}).apply(v))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findAccessPoliciesByResources(resourceIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((accessPolicy)->{
    Rule rule = new DefaultRule(accessPolicy);
    Optional<PermissionRequest> permission = permissionRequests.stream().filter((permissionRequest)->permissionRequest.getResourceId().equals(accessPolicy.getResource())).findFirst();
    if (permission.isPresent()) {
        ((DefaultRule)rule).setMetadata(Collections.singletonMap("permissionRequest", permission.get()));
    }
    return rule;
})).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findAccessPoliciesByResources(resourceIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((accessPolicy)->{
    Rule rule = new DefaultRule(accessPolicy);
    Optional<PermissionRequest> permission = permissionRequests.stream().filter((permissionRequest)->permissionRequest.getResourceId().equals(accessPolicy.getResource())).findFirst();
    if (permission.isPresent()) {
        ((DefaultRule)rule).setMetadata(Collections.singletonMap("permissionRequest", permission.get()));
    }
    return rule;
})).collectList
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(oAuth2Request))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidGrantException("Policy conditions are not met for actual request parameters")))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jweService.decrypt(request, encRequired).onErrorResumeNext((err)->{
    if (err instanceof InvalidRequestObjectException) {
        return RxJava2Adapter.monoToSingle(Mono.error(err));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException("Malformed request object")));
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<JWT, SingleSource<JWT>>toJdkFunction((Function<JWT, SingleSource<JWT>>)(jwt)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRequestObjectAlgorithm(jwt)).then(Mono.defer(()->RxJava2Adapter.singleToMono(validateSignature((SignedJWT)jwt, client)))));
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(err))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException("Malformed request object")))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRequestObjectAlgorithm(jwt)).then(Mono.defer(()->RxJava2Adapter.singleToMono(validateSignature((SignedJWT)jwt, client)))))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRequestObjectAlgorithm(jwt)).then(Mono.defer(()->RxJava2Adapter.singleToMono(validateSignature((SignedJWT)jwt, client))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(requestObjectRepository.findById(identifier)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap((v)->RxJava2Adapter.singleToMono((Single<JWT>)RxJavaReactorMigrationUtil.toJdkFunction((Function<RequestObject, Single<JWT>>)(Function<RequestObject, Single<JWT>>)(req)->{
    if (req.getExpireAt().after(new Date())) {
        return readRequestObject(req.getPayload(), client, false);
    }
    return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException()));
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(requestObjectRepository.findById(identifier)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(requestObjectRepository.findById(identifier)).switchIfEmpty(Mono.error(new InvalidRequestObjectException()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException()))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(webClient.getAbs(UriBuilder.fromHttpUrl(requestUri).build().toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).flatMap((v)->RxJava2Adapter.singleToMono((Single<JWT>)RxJavaReactorMigrationUtil.toJdkFunction((Function<String, Single<JWT>>)(Function<String, Single<JWT>>)(s)->readRequestObject(s, client, false)).apply(v))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(webClient.getAbs(UriBuilder.fromHttpUrl(requestUri).build().toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException(requestUri + " is not valid.")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRequestObjectAlgorithm(jwt)).then(Mono.defer(()->RxJava2Adapter.singleToMono(validateSignature((SignedJWT)jwt, client)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<JWT, SingleSource<RequestObject>>toJdkFunction(new Function<JWT, SingleSource<RequestObject>>(){
    
    () {
        super();
    }
    
    @Override()
    public SingleSource<RequestObject> apply(JWT jwt) throws Exception {
        RequestObject requestObject = new RequestObject();
        requestObject.setId(UUID.random().toString());
        requestObject.setClient(client.getId());
        requestObject.setDomain(client.getDomain());
        requestObject.setCreatedAt(new Date());
        Instant expirationInst = requestObject.getCreatedAt().toInstant().plus(Duration.ofDays(1));
        requestObject.setExpireAt(Date.from(expirationInst));
        requestObject.setPayload(request.getRequest());
        return requestObjectRepository.create(requestObject);
    }
}).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<RequestObject, SingleSource<RequestObjectRegistrationResponse>>toJdkFunction((Function<RequestObject, SingleSource<RequestObjectRegistrationResponse>>)(requestObject)->{
    RequestObjectRegistrationResponse response = new RequestObjectRegistrationResponse();
    response.setIss(openIDDiscoveryService.getIssuer(request.getOrigin()));
    response.setAud(client.getClientId());
    response.setRequestUri(RESOURCE_OBJECT_URN_PREFIX + requestObject.getId());
    response.setExp(requestObject.getExpireAt().getTime());
    return RxJava2Adapter.monoToSingle(Mono.just(response));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRequestObjectAlgorithm(jwt)).then(Mono.defer(()->RxJava2Adapter.singleToMono(validateSignature((SignedJWT)jwt, client)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<JWT, SingleSource<RequestObject>>toJdkFunction(new Function<JWT, SingleSource<RequestObject>>(){
    
    () {
        super();
    }
    
    @Override()
    public SingleSource<RequestObject> apply(JWT jwt) throws Exception {
        RequestObject requestObject = new RequestObject();
        requestObject.setId(UUID.random().toString());
        requestObject.setClient(client.getId());
        requestObject.setDomain(client.getDomain());
        requestObject.setCreatedAt(new Date());
        Instant expirationInst = requestObject.getCreatedAt().toInstant().plus(Duration.ofDays(1));
        requestObject.setExpireAt(Date.from(expirationInst));
        requestObject.setPayload(request.getRequest());
        return requestObjectRepository.create(requestObject);
    }
}).apply(v)))).flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRequestObjectAlgorithm(jwt)).then(Mono.defer(()->RxJava2Adapter.singleToMono(validateSignature((SignedJWT)jwt, client)))).flatMap
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRequestObjectAlgorithm(jwt)).then(Mono.defer(()->RxJava2Adapter.singleToMono(validateSignature((SignedJWT)jwt, client))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(response))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException()))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWKSet, MaybeSource<JWK>>toJdkFunction(new Function<JWKSet, MaybeSource<JWK>>(){
    
    () {
        super();
    }
    
    @Override()
    public MaybeSource<JWK> apply(JWKSet jwkSet) throws Exception {
        return jwkService.getKey(jwkSet, jwt.getHeader().getKeyID());
    }
}).apply(v)))).switchIfEmpty(Mono.error(new InvalidRequestObjectException("Invalid key ID"))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWKSet, MaybeSource<JWK>>toJdkFunction(new Function<JWKSet, MaybeSource<JWK>>(){
    
    () {
        super();
    }
    
    @Override()
    public MaybeSource<JWK> apply(JWKSet jwkSet) throws Exception {
        return jwkService.getKey(jwkSet, jwt.getHeader().getKeyID());
    }
}).apply(v)))).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(client)).switchIfEmpty(Mono.error(new InvalidRequestObjectException())).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<JWKSet, MaybeSource<JWK>>toJdkFunction(new Function<JWKSet, MaybeSource<JWK>>(){
    
    () {
        super();
    }
    
    @Override()
    public MaybeSource<JWK> apply(JWKSet jwkSet) throws Exception {
        return jwkService.getKey(jwkSet, jwt.getHeader().getKeyID());
    }
}).apply(v)))).switchIfEmpty(Mono.error(new InvalidRequestObjectException("Invalid key ID")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException("Invalid request object signing algorithm")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestObjectException("Invalid signature")))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidRequestObjectException("Request object must be signed")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidRequestObjectException("Request object must be signed with PS256")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(authorizationCodeService.create(authorizationRequest, endUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((code)->{
    AuthorizationCodeResponse response = new AuthorizationCodeResponse();
    response.setRedirectUri(authorizationRequest.getRedirectUri());
    response.setCode(code.getCode());
    response.setState(authorizationRequest.getState());
    return response;
})))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(idTokenService.create(oAuth2Request, client, user, executionContext)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Token>)RxJavaReactorMigrationUtil.toJdkFunction((Function<String, Single<Token>>)(idToken)->{
    Map<String, Object> additionalInformation = new HashMap<>(accessToken.getAdditionalInformation());
    additionalInformation.put(ResponseType.ID_TOKEN, idToken);
    accessToken.setAdditionalInformation(additionalInformation);
    return RxJava2Adapter.monoToSingle(Mono.just(accessToken));
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("Missing parameter: username")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("Missing parameter: password")))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidGrantException(ex.getMessage())))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("Missing parameter: code")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(super.parseRequest(tokenRequest, client)).flatMap((tokenRequest1)->RxJava2Adapter.maybeToMono(authorizationCodeService.remove(code, client)).flatMap((z)->RxJava2Adapter.maybeToMono(authenticationFlowContextService.removeContext(z.getTransactionId(), z.getContextVersion()).onErrorResumeNext((java.lang.Throwable error)->(exitOnError) ? RxJava2Adapter.monoToMaybe(Mono.error(error)) : RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationFlowContext())))).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.AuthenticationFlowContext ctx)->{
    checkRedirectUris(tokenRequest1, z);
    checkPKCE(tokenRequest1, z);
    tokenRequest1.setSubject(z.getSubject());
    tokenRequest1.setScopes(z.getScopes());
    if (z.getRequestParameters() != null) {
        z.getRequestParameters().forEach((java.lang.String key, java.util.List<java.lang.String> value)->tokenRequest1.parameters().putIfAbsent(key, value));
    }
    Map<String, Object> decodedAuthorizationCode = new HashMap<>();
    decodedAuthorizationCode.put("code", z.getCode());
    decodedAuthorizationCode.put("transactionId", z.getTransactionId());
    tokenRequest1.setAuthorizationCode(decodedAuthorizationCode);
    tokenRequest1.getContext().put(ConstantKeys.AUTH_FLOW_CONTEXT_ATTRIBUTES_KEY, ctx.getData());
    return tokenRequest1;
}))).single()))
1 | Mono | single | METHOD_INVOCATION | (tokenRequest1)->RxJava2Adapter.maybeToMono(authorizationCodeService.remove(code, client)).flatMap((z)->RxJava2Adapter.maybeToMono(authenticationFlowContextService.removeContext(z.getTransactionId(), z.getContextVersion()).onErrorResumeNext((java.lang.Throwable error)->(exitOnError) ? RxJava2Adapter.monoToMaybe(Mono.error(error)) : RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationFlowContext())))).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.AuthenticationFlowContext ctx)->{
    checkRedirectUris(tokenRequest1, z);
    checkPKCE(tokenRequest1, z);
    tokenRequest1.setSubject(z.getSubject());
    tokenRequest1.setScopes(z.getScopes());
    if (z.getRequestParameters() != null) {
        z.getRequestParameters().forEach((java.lang.String key, java.util.List<java.lang.String> value)->tokenRequest1.parameters().putIfAbsent(key, value));
    }
    Map<String, Object> decodedAuthorizationCode = new HashMap<>();
    decodedAuthorizationCode.put("code", z.getCode());
    decodedAuthorizationCode.put("transactionId", z.getTransactionId());
    tokenRequest1.setAuthorizationCode(decodedAuthorizationCode);
    tokenRequest1.getContext().put(ConstantKeys.AUTH_FLOW_CONTEXT_ATTRIBUTES_KEY, ctx.getData());
    return tokenRequest1;
}))).single()
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authorizationCodeService.remove(code, client)).flatMap((z)->RxJava2Adapter.maybeToMono(authenticationFlowContextService.removeContext(z.getTransactionId(), z.getContextVersion()).onErrorResumeNext((java.lang.Throwable error)->(exitOnError) ? RxJava2Adapter.monoToMaybe(Mono.error(error)) : RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationFlowContext())))).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.AuthenticationFlowContext ctx)->{
    checkRedirectUris(tokenRequest1, z);
    checkPKCE(tokenRequest1, z);
    tokenRequest1.setSubject(z.getSubject());
    tokenRequest1.setScopes(z.getScopes());
    if (z.getRequestParameters() != null) {
        z.getRequestParameters().forEach((java.lang.String key, java.util.List<java.lang.String> value)->tokenRequest1.parameters().putIfAbsent(key, value));
    }
    Map<String, Object> decodedAuthorizationCode = new HashMap<>();
    decodedAuthorizationCode.put("code", z.getCode());
    decodedAuthorizationCode.put("transactionId", z.getTransactionId());
    tokenRequest1.setAuthorizationCode(decodedAuthorizationCode);
    tokenRequest1.getContext().put(ConstantKeys.AUTH_FLOW_CONTEXT_ATTRIBUTES_KEY, ctx.getData());
    return tokenRequest1;
}))).single
1 | Mono | map | METHOD_INVOCATION | (z)->RxJava2Adapter.maybeToMono(authenticationFlowContextService.removeContext(z.getTransactionId(), z.getContextVersion()).onErrorResumeNext((java.lang.Throwable error)->(exitOnError) ? RxJava2Adapter.monoToMaybe(Mono.error(error)) : RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationFlowContext())))).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.AuthenticationFlowContext ctx)->{
    checkRedirectUris(tokenRequest1, z);
    checkPKCE(tokenRequest1, z);
    tokenRequest1.setSubject(z.getSubject());
    tokenRequest1.setScopes(z.getScopes());
    if (z.getRequestParameters() != null) {
        z.getRequestParameters().forEach((java.lang.String key, java.util.List<java.lang.String> value)->tokenRequest1.parameters().putIfAbsent(key, value));
    }
    Map<String, Object> decodedAuthorizationCode = new HashMap<>();
    decodedAuthorizationCode.put("code", z.getCode());
    decodedAuthorizationCode.put("transactionId", z.getTransactionId());
    tokenRequest1.setAuthorizationCode(decodedAuthorizationCode);
    tokenRequest1.getContext().put(ConstantKeys.AUTH_FLOW_CONTEXT_ATTRIBUTES_KEY, ctx.getData());
    return tokenRequest1;
}))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(error))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new AuthenticationFlowContext()))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidGrantException()))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tokenRequest))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwkService.getKeys()).map(RxJavaReactorMigrationUtil.toJdkFunction(JWKConverter::convert)))
1 | Mono | block | METHOD_INVOCATION | authenticationProvider = RxJava2Adapter.maybeToMono(identityProviderManager.get(extensionGrant.getIdentityProvider())).block()
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tokenRequest))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantProvider.grant(convert(tokenRequest))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, MaybeSource<User>>toJdkFunction((endUser)->{
    if (extensionGrant.isCreateUser()) {
        Map<String, Object> additionalInformation = endUser.getAdditionalInformation() == null ? new HashMap<>() : new HashMap<>(endUser.getAdditionalInformation());
        additionalInformation.put("source", extensionGrant.getIdentityProvider() != null ? extensionGrant.getIdentityProvider() : extensionGrant.getId());
        additionalInformation.put("client_id", client.getId());
        ((DefaultUser)endUser).setAdditionalInformation(additionalInformation);
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(userAuthenticationManager.connect(endUser, false)));
    } else {
        if (extensionGrant.isUserExists()) {
            if (extensionGrant.getIdentityProvider() == null) {
                return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidGrantException("No identity_provider provided")));
            }
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.get(extensionGrant.getIdentityProvider())).flatMap((t)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((Function<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>)(authProvider)->{
                SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(tokenRequest);
                final Authentication authentication = new EndUserAuthentication(convert(endUser), null, authenticationContext);
                return authProvider.loadPreAuthenticatedUser(authentication);
            }).apply(t)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
                User user = new User();
                user.setId(idpUser.getId());
                user.setUsername(endUser.getUsername());
                Map<String, Object> extraInformation = new HashMap<>(idpUser.getAdditionalInformation());
                if (user.getLoggedAt() != null) {
                    extraInformation.put(Claims.auth_time, user.getLoggedAt().getTime() / 1000);
                }
                extraInformation.put(StandardClaims.PREFERRED_USERNAME, user.getUsername());
                user.setAdditionalInformation(extraInformation);
                user.setCreatedAt(idpUser.getCreatedAt());
                user.setUpdatedAt(idpUser.getUpdatedAt());
                user.setRoles(idpUser.getRoles());
                return user;
            })).switchIfEmpty(Mono.error(new InvalidGrantException("Unknown user: " + endUser.getId()))));
        } else {
            User user = new User();
            user.setId(endUser.getId());
            user.setUsername(endUser.getUsername());
            user.setAdditionalInformation(endUser.getAdditionalInformation());
            return RxJava2Adapter.monoToMaybe(Mono.just(user));
        }
    }
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidGrantException("No identity_provider provided")))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.get(extensionGrant.getIdentityProvider())).flatMap((t)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((Function<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>)(authProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(tokenRequest);
    final Authentication authentication = new EndUserAuthentication(convert(endUser), null, authenticationContext);
    return authProvider.loadPreAuthenticatedUser(authentication);
}).apply(t)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    User user = new User();
    user.setId(idpUser.getId());
    user.setUsername(endUser.getUsername());
    Map<String, Object> extraInformation = new HashMap<>(idpUser.getAdditionalInformation());
    if (user.getLoggedAt() != null) {
        extraInformation.put(Claims.auth_time, user.getLoggedAt().getTime() / 1000);
    }
    extraInformation.put(StandardClaims.PREFERRED_USERNAME, user.getUsername());
    user.setAdditionalInformation(extraInformation);
    user.setCreatedAt(idpUser.getCreatedAt());
    user.setUpdatedAt(idpUser.getUpdatedAt());
    user.setRoles(idpUser.getRoles());
    return user;
})).switchIfEmpty(Mono.error(new InvalidGrantException("Unknown user: " + endUser.getId()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(extensionGrant.getIdentityProvider())).flatMap((t)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((Function<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>)(authProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(tokenRequest);
    final Authentication authentication = new EndUserAuthentication(convert(endUser), null, authenticationContext);
    return authProvider.loadPreAuthenticatedUser(authentication);
}).apply(t)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    User user = new User();
    user.setId(idpUser.getId());
    user.setUsername(endUser.getUsername());
    Map<String, Object> extraInformation = new HashMap<>(idpUser.getAdditionalInformation());
    if (user.getLoggedAt() != null) {
        extraInformation.put(Claims.auth_time, user.getLoggedAt().getTime() / 1000);
    }
    extraInformation.put(StandardClaims.PREFERRED_USERNAME, user.getUsername());
    user.setAdditionalInformation(extraInformation);
    user.setCreatedAt(idpUser.getCreatedAt());
    user.setUpdatedAt(idpUser.getUpdatedAt());
    user.setRoles(idpUser.getRoles());
    return user;
})).switchIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(extensionGrant.getIdentityProvider())).flatMap((t)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((Function<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>)(authProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(tokenRequest);
    final Authentication authentication = new EndUserAuthentication(convert(endUser), null, authenticationContext);
    return authProvider.loadPreAuthenticatedUser(authentication);
}).apply(t)))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(extensionGrant.getIdentityProvider())).flatMap((t)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>toJdkFunction((Function<AuthenticationProvider, MaybeSource<io.gravitee.am.identityprovider.api.User>>)(authProvider)->{
    SimpleAuthenticationContext authenticationContext = new SimpleAuthenticationContext(tokenRequest);
    final Authentication authentication = new EndUserAuthentication(convert(endUser), null, authenticationContext);
    return authProvider.loadPreAuthenticatedUser(authentication);
}).apply(t)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    User user = new User();
    user.setId(idpUser.getId());
    user.setUsername(endUser.getUsername());
    Map<String, Object> extraInformation = new HashMap<>(idpUser.getAdditionalInformation());
    if (user.getLoggedAt() != null) {
        extraInformation.put(Claims.auth_time, user.getLoggedAt().getTime() / 1000);
    }
    extraInformation.put(StandardClaims.PREFERRED_USERNAME, user.getUsername());
    user.setAdditionalInformation(extraInformation);
    user.setCreatedAt(idpUser.getCreatedAt());
    user.setUpdatedAt(idpUser.getUpdatedAt());
    user.setRoles(idpUser.getRoles());
    return user;
})).switchIfEmpty(Mono.error(new InvalidGrantException("Unknown user: " + endUser.getId())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidGrantException(ex.getMessage())))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(scopeApprovalService.findByDomainAndUserAndClient(domain.getId(), user.getId(), client.getClientId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((approval)->{
    Date today = new Date();
    return (approval.getExpiresAt().after(today) && approval.getStatus() == ScopeApproval.ApprovalStatus.APPROVED);
})).map(RxJavaReactorMigrationUtil.toJdkFunction(ScopeApproval::getScope)))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(scopeApprovalService.findByDomainAndUserAndClient(domain.getId(), user.getId(), client.getClientId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((approval)->{
    Date today = new Date();
    return (approval.getExpiresAt().after(today) && approval.getStatus() == ScopeApproval.ApprovalStatus.APPROVED);
})).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(scopeService.getAll()).map(RxJavaReactorMigrationUtil.toJdkFunction((scopes)->{
    List<Scope> requestedScopes = new ArrayList<>();
    for (String requestScope : consent) {
        Scope requestedScope = scopes.stream().filter((scope)->scope.getKey().equalsIgnoreCase(requestScope)).findAny().orElse(new Scope(requestScope));
        requestedScopes.add(requestedScope);
    }
    return requestedScopes;
})))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->executionContext != null ? executionContext : createExecution(oAuth2Request, client, user))).flatMap((v)->RxJava2Adapter.singleToMono((Single<String>)RxJavaReactorMigrationUtil.toJdkFunction((Function<ExecutionContext, Single<String>>)(executionContext1)->{
    IDToken idToken = createIDTokenJWT(oAuth2Request, client, user, executionContext);
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.findByAlgorithm(client.getIdTokenSignedResponseAlg())).switchIfEmpty(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate()))).defaultIfEmpty(certificateManager.defaultCertificateProvider())).flatMapSingle((certificateProvider)->{
        if (oAuth2Request.getContext() != null && !oAuth2Request.getContext().isEmpty()) {
            oAuth2Request.getContext().forEach((claimName,claimValue)->{
                if (claimValue != null) {
                    CertificateMetadata certificateMetadata = certificateProvider.getProvider().certificateMetadata();
                    String digestAlgorithm = defaultDigestAlgorithm;
                    if (certificateMetadata != null && certificateMetadata.getMetadata() != null && certificateMetadata.getMetadata().get(CertificateMetadata.DIGEST_ALGORITHM_NAME) != null) {
                        digestAlgorithm = (String)certificateMetadata.getMetadata().get(CertificateMetadata.DIGEST_ALGORITHM_NAME);
                    }
                    idToken.addAdditionalClaim(claimName, getHashValue((String)claimValue, digestAlgorithm));
                }
            });
        }
        return jwtService.encode(idToken, certificateProvider);
    })).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<String, SingleSource<String>>toJdkFunction((signedIdToken)->{
        if (client.getIdTokenEncryptedResponseAlg() != null) {
            return jweService.encryptIdToken(signedIdToken, client);
        }
        return RxJava2Adapter.monoToSingle(Mono.just(signedIdToken));
    }).apply(z)))));
}).apply(v))))
1 | Mono | fromSupplier | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->executionContext != null ? executionContext : createExecution(oAuth2Request, client, user))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.findByAlgorithm(client.getIdTokenSignedResponseAlg())).switchIfEmpty(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate()))).defaultIfEmpty(certificateManager.defaultCertificateProvider())).flatMapSingle((certificateProvider)->{
    if (oAuth2Request.getContext() != null && !oAuth2Request.getContext().isEmpty()) {
        oAuth2Request.getContext().forEach((claimName,claimValue)->{
            if (claimValue != null) {
                CertificateMetadata certificateMetadata = certificateProvider.getProvider().certificateMetadata();
                String digestAlgorithm = defaultDigestAlgorithm;
                if (certificateMetadata != null && certificateMetadata.getMetadata() != null && certificateMetadata.getMetadata().get(CertificateMetadata.DIGEST_ALGORITHM_NAME) != null) {
                    digestAlgorithm = (String)certificateMetadata.getMetadata().get(CertificateMetadata.DIGEST_ALGORITHM_NAME);
                }
                idToken.addAdditionalClaim(claimName, getHashValue((String)claimValue, digestAlgorithm));
            }
        });
    }
    return jwtService.encode(idToken, certificateProvider);
})).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<String, SingleSource<String>>toJdkFunction((signedIdToken)->{
    if (client.getIdTokenEncryptedResponseAlg() != null) {
        return jweService.encryptIdToken(signedIdToken, client);
    }
    return RxJava2Adapter.monoToSingle(Mono.just(signedIdToken));
}).apply(z)))))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.findByAlgorithm(client.getIdTokenSignedResponseAlg())).switchIfEmpty(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate()))).defaultIfEmpty(certificateManager.defaultCertificateProvider()))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificateManager.findByAlgorithm(client.getIdTokenSignedResponseAlg())).switchIfEmpty(RxJava2Adapter.maybeToMono(certificateManager.get(client.getCertificate()))).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(signedIdToken))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.decodeAndVerify(idToken, client)).flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<JWT, Single<User>>)(jwt)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findById(jwt.getSub())).switchIfEmpty(Mono.error(new UserNotFoundException(jwt.getSub()))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
        if (!user.getReferenceId().equals(domain.getId())) {
            throw new UserNotFoundException(jwt.getSub());
        }
        return user;
    })));
}).apply(v))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findById(jwt.getSub())).switchIfEmpty(Mono.error(new UserNotFoundException(jwt.getSub()))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    if (!user.getReferenceId().equals(domain.getId())) {
        throw new UserNotFoundException(jwt.getSub());
    }
    return user;
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(jwt.getSub())).switchIfEmpty(Mono.error(new UserNotFoundException(jwt.getSub()))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(jwt.getSub())).switchIfEmpty(Mono.error(new UserNotFoundException(jwt.getSub())))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationService.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction((application)->{
    Client client = application.toClient();
    if (client.getAuthorizedGrantTypes() == null) {
        client.setAuthorizedGrantTypes(Collections.emptyList());
    }
    return client;
})))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("No domain set on client")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.create(convert(client))).map(RxJavaReactorMigrationUtil.toJdkFunction(Application::toClient)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("No domain set on client")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.update(convert(client))).map(RxJavaReactorMigrationUtil.toJdkFunction(Application::toClient)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.renewClientSecret(domain, id, principal)).map(RxJavaReactorMigrationUtil.toJdkFunction(Application::toClient)))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.getClient(context)).map(RxJavaReactorMigrationUtil.toJdkFunction(DynamicClientRegistrationResponse::fromClient)).map(RxJavaReactorMigrationUtil.toJdkFunction((response)->{
    response.setRegistrationAccessToken(null);
    response.setRegistrationClientUri(null);
    return response;
})))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getClient(context)).map(RxJavaReactorMigrationUtil.toJdkFunction(DynamicClientRegistrationResponse::fromClient)).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.getClient(context).flatMapSingle(Single::just)).flatMap((client)->RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(dcrService.patch(client, request, UriBuilderRequest.resolveProxyRequest(context)))).map(RxJavaReactorMigrationUtil.toJdkFunction(clientSyncService::addDynamicClientRegistred))))
1 | Mono | map | METHOD_INVOCATION | (client)->RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(dcrService.patch(client, request, UriBuilderRequest.resolveProxyRequest(context)))).map(RxJavaReactorMigrationUtil.toJdkFunction(clientSyncService::addDynamicClientRegistred))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(dcrService.patch(client, request, UriBuilderRequest.resolveProxyRequest(context)))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.getClient(context).flatMapSingle(Single::just)).flatMap((client)->RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(dcrService.update(client, request, UriBuilderRequest.resolveProxyRequest(context)))).map(RxJavaReactorMigrationUtil.toJdkFunction(clientSyncService::addDynamicClientRegistred))))
1 | Mono | map | METHOD_INVOCATION | (client)->RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(dcrService.update(client, request, UriBuilderRequest.resolveProxyRequest(context)))).map(RxJavaReactorMigrationUtil.toJdkFunction(clientSyncService::addDynamicClientRegistred))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((request)->RxJava2Adapter.singleToMono(dcrService.update(client, request, UriBuilderRequest.resolveProxyRequest(context)))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.getClient(context).flatMapSingle(dcrService::delete)).map(RxJavaReactorMigrationUtil.toJdkFunction(this.clientSyncService::removeDynamicClientRegistred)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.getClient(context).flatMapSingle(Single::just)).flatMap((toRenew)->RxJava2Adapter.singleToMono(dcrService.renewSecret(toRenew, UriBuilderRequest.resolveProxyRequest(context)))).map(RxJavaReactorMigrationUtil.toJdkFunction(clientSyncService::addDynamicClientRegistred)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.getClient(context).flatMapSingle(Single::just)).flatMap((toRenew)->RxJava2Adapter.singleToMono(dcrService.renewSecret(toRenew, UriBuilderRequest.resolveProxyRequest(context)))).map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new ResourceNotFoundException("client not found"))).map(RxJavaReactorMigrationUtil.toJdkFunction(Client::clone)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new ResourceNotFoundException("client not found"))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.clientSyncService.findByClientId(clientId)).switchIfEmpty(Mono.error(new ResourceNotFoundException("client not found")))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientAssertionService.assertClient(clientAssertionType, clientAssertion, basePath)).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Client, MaybeSource<Client>>toJdkFunction((client1)->{
    if (clientId != null && !clientId.equals(client1.getClientId())) {
        return RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("client_id parameter does not match with assertion")));
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(client1));
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("client_id parameter does not match with assertion")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client1))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.validateClientPatchRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(toPatch))).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Client>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Client, Single<Client>>)clientService::update).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientPatchRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(toPatch))).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientPatchRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(toPatch))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(toUpdate))).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Client>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Client, Single<Client>>)clientService::update).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(toUpdate))).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(toUpdate))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(clientService.renewClientSecret(domain.getId(), toRenew.getId())).flatMap((client)->RxJava2Adapter.singleToMono(applyRegistrationAccessToken(basePath, client))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Client>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Client, Single<Client>>)clientService::update).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(clientService.renewClientSecret(domain.getId(), toRenew.getId())).flatMap((client)->RxJava2Adapter.singleToMono(applyRegistrationAccessToken(basePath, client))).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(client))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultIdentityProvider).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultCertificateProvider).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyAccessTokenValidity).apply(v)))).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Client>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Client, Single<Client>>)clientService::create).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(client))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultIdentityProvider).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultCertificateProvider).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyAccessTokenValidity).apply(v)))).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(client))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultIdentityProvider).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultCertificateProvider).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyAccessTokenValidity).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(client))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultIdentityProvider).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultCertificateProvider).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(client))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(this::applyDefaultIdentityProvider).apply(v)))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateClientRegistrationRequest(request)).map(RxJavaReactorMigrationUtil.toJdkFunction((req)->req.patch(client))).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(client))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientService.findById(request.getSoftwareId().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No template found for software_id " + request.getSoftwareId().get())))).flatMapSingle(this::sanitizeTemplate)).map(RxJavaReactorMigrationUtil.toJdkFunction(request::patch)).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(clientService::create).apply(v)))).flatMap((client)->RxJava2Adapter.singleToMono(copyForms(request.getSoftwareId().get(), client))).flatMap((client)->RxJava2Adapter.singleToMono(copyEmails(request.getSoftwareId().get(), client))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientService.findById(request.getSoftwareId().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No template found for software_id " + request.getSoftwareId().get())))).flatMapSingle(this::sanitizeTemplate)).map(RxJavaReactorMigrationUtil.toJdkFunction(request::patch)).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(clientService::create).apply(v)))).flatMap((client)->RxJava2Adapter.singleToMono(copyForms(request.getSoftwareId().get(), client))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientService.findById(request.getSoftwareId().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No template found for software_id " + request.getSoftwareId().get())))).flatMapSingle(this::sanitizeTemplate)).map(RxJavaReactorMigrationUtil.toJdkFunction(request::patch)).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Client, SingleSource<Client>>toJdkFunction(clientService::create).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientService.findById(request.getSoftwareId().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No template found for software_id " + request.getSoftwareId().get())))).flatMapSingle(this::sanitizeTemplate)).map(RxJavaReactorMigrationUtil.toJdkFunction(request::patch)).flatMap((app)->RxJava2Adapter.singleToMono(this.applyRegistrationAccessToken(basePath, app))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientService.findById(request.getSoftwareId().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No template found for software_id " + request.getSoftwareId().get())))).flatMapSingle(this::sanitizeTemplate)).map(RxJavaReactorMigrationUtil.toJdkFunction(request::patch)).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(clientService.findById(request.getSoftwareId().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No template found for software_id " + request.getSoftwareId().get()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientService.findById(request.getSoftwareId().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No template found for software_id " + request.getSoftwareId().get())))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Client behind software_id is not a template")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(template))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(formService.copyFromClient(domain.getId(), sourceId, client.getId())).flatMap((irrelevant)->Mono.just(client)))
1 | Mono | just | METHOD_INVOCATION | (irrelevant)->Mono.just(client)
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(emailTemplateService.copyFromClient(domain.getId(), sourceId, client.getId())).collectList().flatMap((irrelevant)->Mono.just(client)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(emailTemplateService.copyFromClient(domain.getId(), sourceId, client.getId())).collectList().flatMap
1 | Mono | just | METHOD_INVOCATION | (irrelevant)->Mono.just(client)
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(client.getDomain())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((identityProviders)->{
    if (identityProviders != null && !identityProviders.isEmpty()) {
        client.setIdentities(Collections.singleton(identityProviders.get(0).getId()));
    }
    return client;
})))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityProviderService.findByDomain(client.getDomain())).collectList().map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(certificateService.findByDomain(client.getDomain())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((certificates)->{
    if (certificates != null && !certificates.isEmpty()) {
        client.setCertificate(certificates.get(0).getId());
    }
    return client;
})))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(certificateService.findByDomain(client.getDomain())).collectList().map
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(jwtService.encode(jwt, client)).map(RxJavaReactorMigrationUtil.toJdkFunction((token)->{
    client.setRegistrationAccessToken(token);
    client.setRegistrationClientUri(openIDProviderMetadata.getRegistrationEndpoint() + "/" + client.getClientId());
    return client;
})))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException()))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateTlsClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSelfSignedClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestObjectSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestObjectEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono((Single<DynamicClientRegistrationRequest>)RxJavaReactorMigrationUtil.toJdkFunction((Function<DynamicClientRegistrationRequest, Single<DynamicClientRegistrationRequest>>)this::enforceWithSoftwareStatement).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateTlsClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSelfSignedClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestObjectSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestObjectEncryptionAlgorithm).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateTlsClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSelfSignedClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestObjectSigningAlgorithm).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateTlsClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSelfSignedClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationEncryptionAlgorithm).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateTlsClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSelfSignedClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateAuthorizationSigningAlgorithm).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateTlsClientAuth).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSelfSignedClientAuth).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateTlsClientAuth).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenEncryptionAlgorithm).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateIdTokenSigningAlgorithm).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoEncryptionAlgorithm).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateUserinfoSigningAlgorithm).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateJKWs).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSectorIdentifierUri).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateRequestUri).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateSubjectType).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateResponseType).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateGrantType).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.validateRedirectUri(request, isPatch)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<DynamicClientRegistrationRequest, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction(this::validateScopes).apply(v)))).flatMap
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("software_statement is required")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("No jwks_uri for OpenBanking Directory, unable to validate software_statement")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(jwkService.getKeys(directoryJwksUri)).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new TechnicalManagementException("Invalid jwks_uri for OpenBanking Directory"))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwsService.isValidSignature(signedJWT, jwk))).switchIfEmpty(Mono.error(new InvalidClientMetadataException("Invalid signature for software_statement"))).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->{
    LOGGER.debug("software_statement is valid, check claims regarding the registration request information");
    JSONObject softwareStatement = signedJWT.getPayload().toJSONObject();
    final Number iat = softwareStatement.getAsNumber("iat");
    if (iat == null || (Instant.now().getEpochSecond() - (iat.longValue())) > FIVE_MINUTES_IN_SEC) {
        throw new InvalidClientMetadataException("software_statement older than 5 minutes");
    }
    if (request.getJwks() != null && !request.getJwks().isEmpty()) {
        throw new InvalidClientMetadataException("jwks is forbidden, prefer jwks_uri");
    }
    if (request.getJwksUri() == null || request.getJwksUri().isEmpty()) {
        throw new InvalidClientMetadataException("jwks_uri is required");
    }
    if (!request.getJwksUri().get().equals(softwareStatement.getAsString("software_jwks_uri"))) {
        throw new InvalidClientMetadataException("jwks_uri doesn\'t match the software_jwks_uri");
    }
    final Object software_redirect_uris = softwareStatement.get("software_redirect_uris");
    if (software_redirect_uris != null) {
        if (request.getRedirectUris() == null || request.getRedirectUris().isEmpty()) {
            throw new InvalidClientMetadataException("redirect_uris are missing");
        }
        final List<String> redirectUris = request.getRedirectUris().get();
        if (software_redirect_uris instanceof JSONArray) {
            redirectUris.forEach((uri)->{
                if (!((JSONArray)software_redirect_uris).contains(uri)) {
                    throw new InvalidClientMetadataException("redirect_uris contains unknown uri from software_statement");
                }
            });
        } else if (software_redirect_uris instanceof String && (redirectUris.size() > 1 || !software_redirect_uris.equals(redirectUris.get(0)))) {
            throw new InvalidClientMetadataException("redirect_uris contains unknown uri from software_statement");
        }
    }
    if (request.getTokenEndpointAuthMethod() != null && !request.getTokenEndpointAuthMethod().isEmpty()) {
        if (!(ClientAuthenticationMethod.SELF_SIGNED_TLS_CLIENT_AUTH.equals(request.getTokenEndpointAuthMethod().get()) || ClientAuthenticationMethod.TLS_CLIENT_AUTH.equals(request.getTokenEndpointAuthMethod().get()) || ClientAuthenticationMethod.PRIVATE_KEY_JWT.equals(request.getTokenEndpointAuthMethod().get()))) {
            throw new InvalidClientMetadataException("invalid token_endpoint_auth_method");
        }
        if (ClientAuthenticationMethod.TLS_CLIENT_AUTH.equals(request.getTokenEndpointAuthMethod().get()) && (request.getTlsClientAuthSubjectDn() == null || request.getTlsClientAuthSubjectDn().isEmpty())) {
            throw new InvalidClientMetadataException("tls_client_auth_subject_dn is required with tls_client_auth as client authentication method");
        }
    }
    return request;
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(directoryJwksUri)).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new TechnicalManagementException("Invalid jwks_uri for OpenBanking Directory"))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwsService.isValidSignature(signedJWT, jwk))).switchIfEmpty(Mono.error(new InvalidClientMetadataException("Invalid signature for software_statement"))).map
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(directoryJwksUri)).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new TechnicalManagementException("Invalid jwks_uri for OpenBanking Directory"))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwsService.isValidSignature(signedJWT, jwk))).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(directoryJwksUri)).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new TechnicalManagementException("Invalid jwks_uri for OpenBanking Directory"))).filter
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(directoryJwksUri)).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(directoryJwksUri)).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new TechnicalManagementException("Invalid jwks_uri for OpenBanking Directory")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(directoryJwksUri)).flatMap((z)->jwkService.getKey(z, signedJWT.getHeader().getKeyID()).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new TechnicalManagementException("Invalid jwks_uri for OpenBanking Directory"))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((jwk)->jwsService.isValidSignature(signedJWT, jwk))).switchIfEmpty(Mono.error(new InvalidClientMetadataException("Invalid signature for software_statement")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("software_statement isn\'t signed or doesn\'t use PS256")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("signature of software_statement is invalid")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Invalid response type.")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Missing or invalid grant type.")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported subject type")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported userinfo signing algorithm")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("When userinfo_encrypted_response_enc is included, userinfo_encrypted_response_alg MUST also be provided")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported userinfo_encrypted_response_alg value")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported userinfo_encrypted_response_enc value")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported request object signing algorithm")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("request_object_signing_alg shall be PS256")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("When request_object_encryption_enc is included, request_object_encryption_alg MUST also be provided")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported request_object_encryption_alg value")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported request_object_encryption_enc value")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported id_token signing algorithm")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("When id_token_encrypted_response_enc is included, id_token_encrypted_response_alg MUST also be provided")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported id_token_encrypted_response_alg value")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported id_token_encrypted_response_enc value")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("request_uris: " + err.getMessage())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("sector_identifier_uri: " + err.getMessage())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Scheme must be https for sector_identifier_uri : " + request.getSectorIdentifierUri().get())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(client.getAbs(uri.toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).map(RxJavaReactorMigrationUtil.toJdkFunction(JsonArray::new))).onErrorResumeNext(RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unable to parse sector_identifier_uri : " + uri.toString()))))).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction(Flowable::fromIterable))).cast(String.class).collect(HashSet::new, HashSet::add)).flatMap((allowedRedirectUris)->RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(Observable.fromIterable(request.getRedirectUris().get()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((java.lang.String redirectUri)->!allowedRedirectUris.contains(redirectUri)))).collect(ArrayList<String>::new, ArrayList::add)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ArrayList<String>, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction((java.util.ArrayList<java.lang.String> missing)->{
    if (!missing.isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("redirect uris are not allowed according to sector_identifier_uri: " + String.join(" ", missing))));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(request));
    }
}).apply(v))))))
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(client.getAbs(uri.toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).map(RxJavaReactorMigrationUtil.toJdkFunction(JsonArray::new))).onErrorResumeNext(RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unable to parse sector_identifier_uri : " + uri.toString()))))).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction(Flowable::fromIterable)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(client.getAbs(uri.toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).map(RxJavaReactorMigrationUtil.toJdkFunction(JsonArray::new)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(client.getAbs(uri.toString()).rxSend()).map(RxJavaReactorMigrationUtil.toJdkFunction(HttpResponse::bodyAsString)).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unable to parse sector_identifier_uri : " + uri.toString())))
1 | Mono | flatMap | METHOD_INVOCATION | (allowedRedirectUris)->RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(Observable.fromIterable(request.getRedirectUris().get()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((java.lang.String redirectUri)->!allowedRedirectUris.contains(redirectUri)))).collect(ArrayList<String>::new, ArrayList::add)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<ArrayList<String>, SingleSource<DynamicClientRegistrationRequest>>toJdkFunction((java.util.ArrayList<java.lang.String> missing)->{
    if (!missing.isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("redirect uris are not allowed according to sector_identifier_uri: " + String.join(" ", missing))));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(request));
    }
}).apply(v))))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(Observable.fromIterable(request.getRedirectUris().get()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((java.lang.String redirectUri)->!allowedRedirectUris.contains(redirectUri))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException("redirect uris are not allowed according to sector_identifier_uri: " + String.join(" ", missing))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The jwks_uri and jwks parameters MUST NOT be used together.")))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(jwkService.getKeys(request.getJwksUri().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No JWK found behind jws uri..."))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(jwkService.getKeys(request.getJwksUri().get())).switchIfEmpty(Mono.error(new InvalidClientMetadataException("No JWK found behind jws uri...")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported authorization signing algorithm")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("When authorization_encrypted_response_enc is included, authorization_encrypted_response_alg MUST also be provided")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported authorization_encrypted_response_alg value")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Unsupported authorization_encrypted_response_enc value")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("Missing TLS parameter for tls_client_auth.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The tls_client_auth must use exactly one of the TLS parameters.")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidClientMetadataException("The self_signed_tls_client_auth requires at least a jwks or a valid jwks_uri.")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(request))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<PermissionTicketRequest>, SingleSource<List<PermissionTicketRequest>>>toJdkFunction(this::bodyValidation).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toPermissionRequest)).flatMap((permissionRequests)->RxJava2Adapter.singleToMono(permissionTicketService.create(permissionRequests, domain.getId(), client.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction(PermissionTicketResponse::from)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<PermissionTicketRequest>, SingleSource<List<PermissionTicketRequest>>>toJdkFunction(this::bodyValidation).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toPermissionRequest)).flatMap((permissionRequests)->RxJava2Adapter.singleToMono(permissionTicketService.create(permissionRequests, domain.getId(), client.getId()))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<PermissionTicketRequest>, SingleSource<List<PermissionTicketRequest>>>toJdkFunction(this::bodyValidation).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::toPermissionRequest)).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(this.extractRequest(context)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<PermissionTicketRequest>, SingleSource<List<PermissionTicketRequest>>>toJdkFunction(this::bodyValidation).apply(v)))).map
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("Unable to parse body permission request")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(result))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRequestException("resource_id and resource_scopes are mandatory.")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(toValidate))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(bulkProcessorAccessToken.onBackpressureBuffer().observeOn(Schedulers.io()).buffer(flushInterval, TimeUnit.SECONDS, bulkActions)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((accessTokens)->accessTokens != null && !accessTokens.isEmpty())))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(bulkProcessorRefreshToken.onBackpressureBuffer().observeOn(Schedulers.io()).buffer(flushInterval, TimeUnit.SECONDS, bulkActions)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((refreshTokens)->refreshTokens != null && !refreshTokens.isEmpty())))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(rpt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new PermissionTicket().setId(TICKET_ID).setPermissionRequest(permissions)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Resource().setId(RS_ONE).setResourceScopes(Arrays.asList("scopeA", "scopeB", "scopeC")), new Resource().setId(RS_TWO).setResourceScopes(Arrays.asList("scopeA", "scopeB", "scopeD"))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AccessToken("success")))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(InvalidPermissionTicketException::new)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(InvalidTokenException::new)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(policy))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new PolicyChainException("Policy requirements have failed")))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(policy))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(accessToken))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(accessToken))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(refreshToken))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AuthorizationCode()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(authorizationCode))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(authorizationCode))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToObservable(Flux.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(par))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ParseException("parse error", 1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(parse))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(par))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(par))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(par))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(par))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(signedJwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(JWKSet.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(JWK.class)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(jwkSet))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idTokenPayload))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Client()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Client()))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(authorizationResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwtAuthorizationCodeResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwtAuthorizationCodeResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("my-jwt"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just((String)invocation.getArguments()[0]))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("signedJwtBearer"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("signedJwtBearer"))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new InvalidClientException("Unknown or unsupported assertion_type")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("jwt"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(res))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(toRenew))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(identityProvider))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(certificate))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(httpResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(httpResponse))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(httpResponse))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(template))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(template))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.jose.RSAKey()))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new Exception()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Client()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Application()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalManagementException::new)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRedirectUriException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(TechnicalManagementException::new))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new ClientNotFoundException("my-client")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ClientNotFoundException("my-client")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalManagementException::new)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwkSet))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new RuntimeException()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(success))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(success))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new RefreshToken(refreshToken)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidGrantException()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(plainJWT))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(signedJWT))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idTokenCert))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(clientCert))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idTokenPayload))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(clientCert))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idTokenPayload))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idTokenPayload))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idTokenPayload))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idTokenPayload))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("encryptedToken"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.gateway.certificate.CertificateProvider(certificateProvider)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("test"))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("test"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.gateway.certificate.CertificateProvider(certificateProvider)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("test"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.gateway.certificate.CertificateProvider(certificateProvider)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("test"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.gateway.certificate.CertificateProvider(certificateProvider)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("test"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.gateway.certificate.CertificateProvider(certificateProvider)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just("test"))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(autoApproveScope)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new Exception()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(UmaException.requestDeniedBuilder().build()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(jwk))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(""))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AccessToken("token-id")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(""))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AccessToken("token-id")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(""))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AccessToken("token-id")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(refreshToken))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(refreshToken))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(refreshToken))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(jwt))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(refreshToken))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new RuntimeException()))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Resource().setId(RESOURCE_ID)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ResourceNotFoundException(RESOURCE_ID)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Resource().setId(RESOURCE_ID)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Resource().setId(RESOURCE_ID)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ResourceNotFoundException(RESOURCE_ID)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Resource()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new ResourceNotFoundException(RESOURCE_ID)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidGrantException()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new RuntimeException()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new JWKSet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(key))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(response))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(response))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(response))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(response))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(key))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(key))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(key2))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tokenRequest))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(accessToken))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | RETURN_TYPE
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(groupRepository.findAll(ReferenceType.DOMAIN, domain.getId(), page, size)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.Group>, SingleSource<ListResponse<io.gravitee.am.gateway.handler.scim.model.Group>>>toJdkFunction((groupPage)->{
    if (size <= 0) {
        return RxJava2Adapter.monoToSingle(Mono.just(new ListResponse<Group>(null, groupPage.getCurrentPage() + 1, groupPage.getTotalCount(), 0)));
    } else {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(groupPage.getData()).map((group)->convert(group, baseUrl, true)).flatMapSingle((group)->setMembers(group, baseUrl)).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((groups)->new ListResponse<>(groups, groupPage.getCurrentPage() + 1, groupPage.getTotalCount(), groups.size()))));
    }
}).apply(v)))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ListResponse<Group>(null, groupPage.getCurrentPage() + 1, groupPage.getTotalCount(), 0)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(groupPage.getData()).map((group)->convert(group, baseUrl, true)).flatMapSingle((group)->setMembers(group, baseUrl)).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((groups)->new ListResponse<>(groups, groupPage.getCurrentPage() + 1, groupPage.getTotalCount(), groups.size()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find groups by domain %s", domain), ex)))
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(groupRepository.findByMember(memberId)).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->convert(group, null, true))).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((ex)->{
    LOGGER.error("An error occurs while trying to find a groups using member ", memberId, ex);
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using member: %s", memberId), ex)));
})))
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(groupRepository.findByMember(memberId)).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->convert(group, null, true))).onErrorResume
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using member: %s", memberId), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->convert(group, baseUrl, false))).flatMap((z)->RxJava2Adapter.singleToMono(setMembers(z, baseUrl))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->convert(group, baseUrl, false))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its ID: %s", groupId), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.singleToMono(setMembers(group, baseUrl))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.scim.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group1)->{
    io.gravitee.am.model.Group groupModel = convert(group1);
    groupModel.setId(RandomString.generate());
    groupModel.setReferenceType(ReferenceType.DOMAIN);
    groupModel.setReferenceId(domain.getId());
    groupModel.setCreatedAt(new Date());
    groupModel.setUpdatedAt(groupModel.getCreatedAt());
    return groupRepository.create(groupModel);
}).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->convert(group1, baseUrl, true))).flatMap((group1)->RxJava2Adapter.singleToMono(setMembers(group1, baseUrl))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.singleToMono(setMembers(group, baseUrl))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.scim.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group1)->{
    io.gravitee.am.model.Group groupModel = convert(group1);
    groupModel.setId(RandomString.generate());
    groupModel.setReferenceType(ReferenceType.DOMAIN);
    groupModel.setReferenceId(domain.getId());
    groupModel.setCreatedAt(new Date());
    groupModel.setUpdatedAt(groupModel.getCreatedAt());
    return groupRepository.create(groupModel);
}).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->convert(group1, baseUrl, true))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.singleToMono(setMembers(group, baseUrl))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.scim.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group1)->{
    io.gravitee.am.model.Group groupModel = convert(group1);
    groupModel.setId(RandomString.generate());
    groupModel.setReferenceType(ReferenceType.DOMAIN);
    groupModel.setReferenceId(domain.getId());
    groupModel.setCreatedAt(new Date());
    groupModel.setUpdatedAt(groupModel.getCreatedAt());
    return groupRepository.create(groupModel);
}).apply(v)))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.singleToMono(setMembers(group, baseUrl))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return true;
})).flatMap
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).hasElement().map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to router a group", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId)))).flatMapSingle((existingGroup)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->{
    if (!existingGroup.getId().equals(group1.getId())) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return existingGroup;
})).defaultIfEmpty(existingGroup)).flatMapSingle((irrelevant)->setMembers(group, baseUrl))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.scim.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group1)->{
    io.gravitee.am.model.Group groupToUpdate = convert(group1);
    groupToUpdate.setId(existingGroup.getId());
    groupToUpdate.setReferenceType(existingGroup.getReferenceType());
    groupToUpdate.setReferenceId(existingGroup.getReferenceId());
    groupToUpdate.setCreatedAt(existingGroup.getCreatedAt());
    groupToUpdate.setUpdatedAt(new Date());
    return groupRepository.update(groupToUpdate);
}).apply(v))))))).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->convert(group1, baseUrl, false))).flatMap((group1)->RxJava2Adapter.singleToMono(setMembers(group1, baseUrl))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId)))).flatMapSingle((existingGroup)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->{
    if (!existingGroup.getId().equals(group1.getId())) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return existingGroup;
})).defaultIfEmpty(existingGroup)).flatMapSingle((irrelevant)->setMembers(group, baseUrl))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.scim.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group1)->{
    io.gravitee.am.model.Group groupToUpdate = convert(group1);
    groupToUpdate.setId(existingGroup.getId());
    groupToUpdate.setReferenceType(existingGroup.getReferenceType());
    groupToUpdate.setReferenceId(existingGroup.getReferenceId());
    groupToUpdate.setCreatedAt(existingGroup.getCreatedAt());
    groupToUpdate.setUpdatedAt(new Date());
    return groupRepository.update(groupToUpdate);
}).apply(v))))))).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->convert(group1, baseUrl, false))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->{
    if (!existingGroup.getId().equals(group1.getId())) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return existingGroup;
})).defaultIfEmpty(existingGroup)).flatMapSingle((irrelevant)->setMembers(group, baseUrl))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.gateway.handler.scim.model.Group, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((group1)->{
    io.gravitee.am.model.Group groupToUpdate = convert(group1);
    groupToUpdate.setId(existingGroup.getId());
    groupToUpdate.setReferenceType(existingGroup.getReferenceType());
    groupToUpdate.setReferenceId(existingGroup.getReferenceId());
    groupToUpdate.setCreatedAt(existingGroup.getCreatedAt());
    groupToUpdate.setUpdatedAt(new Date());
    return groupRepository.update(groupToUpdate);
}).apply(v)))))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->{
    if (!existingGroup.getId().equals(group1.getId())) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return existingGroup;
})).defaultIfEmpty(existingGroup))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findByName(ReferenceType.DOMAIN, domain.getId(), group.getDisplayName())).map(RxJavaReactorMigrationUtil.toJdkFunction((group1)->{
    if (!existingGroup.getId().equals(group1.getId())) {
        throw new UniquenessException("Group with display name [" + group.getDisplayName() + "] already exists");
    }
    return existingGroup;
})).defaultIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a group", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(get(groupId, baseUrl)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Group>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Group, Single<Group>>)(group)->{
    ObjectNode node = objectMapper.convertValue(group, ObjectNode.class);
    patchOp.getOperations().forEach((operation)->operation.apply(node));
    return update(groupId, objectMapper.treeToValue(node, Group.class), baseUrl);
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(get(groupId, baseUrl)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(get(groupId, baseUrl)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error has occurred when trying to delete group: %s", groupId), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId))).flatMap((user)->RxJava2Adapter.completableToMono(groupRepository.delete(groupId))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId))).flatMap((user)->RxJava2Adapter.completableToMono(groupRepository.delete(groupId))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(groupRepository.findById(groupId)).switchIfEmpty(Mono.error(new GroupNotFoundException(groupId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete group: %s", groupId), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(userRepository.findByIdIn(memberIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    String display = (user.getDisplayName() != null) ? user.getDisplayName() : (user.getFirstName() != null) ? user.getFirstName() + " " + (user.getLastName() != null ? user.getLastName() : "") : user.getUsername();
    String usersBaseUrl = baseUrl.substring(0, baseUrl.lastIndexOf("/Groups")).concat("/Users");
    Member member = new Member();
    member.setValue(user.getId());
    member.setDisplay(display);
    member.setRef(usersBaseUrl + "/" + user.getId());
    return member;
})).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((existingMembers)->{
    group.setMembers(existingMembers);
    return group;
})))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(userRepository.findByIdIn(memberIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    String display = (user.getDisplayName() != null) ? user.getDisplayName() : (user.getFirstName() != null) ? user.getFirstName() + " " + (user.getLastName() != null ? user.getLastName() : "") : user.getUsername();
    String usersBaseUrl = baseUrl.substring(0, baseUrl.lastIndexOf("/Groups")).concat("/Users");
    Member member = new Member();
    member.setValue(user.getId());
    member.setDisplay(display);
    member.setRef(usersBaseUrl + "/" + user.getId());
    return member;
})).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(userRepository.findByIdIn(memberIds)).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    String display = (user.getDisplayName() != null) ? user.getDisplayName() : (user.getFirstName() != null) ? user.getFirstName() + " " + (user.getLastName() != null ? user.getLastName() : "") : user.getUsername();
    String usersBaseUrl = baseUrl.substring(0, baseUrl.lastIndexOf("/Groups")).concat("/Users");
    Member member = new Member();
    member.setValue(user.getId());
    member.setDisplay(display);
    member.setRef(usersBaseUrl + "/" + user.getId());
    return member;
})).collectList
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(group))
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findUsers).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.User>, SingleSource<ListResponse<io.gravitee.am.gateway.handler.scim.model.User>>>toJdkFunction((userPage)->{
    if (size <= 0) {
        return RxJava2Adapter.monoToSingle(Mono.just(new ListResponse<User>(null, userPage.getCurrentPage() + 1, userPage.getTotalCount(), 0)));
    } else {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(userPage.getData()).map((user1)->convert(user1, baseUrl, true)).flatMapSingle(this::setGroups).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((users)->new ListResponse<>(users, userPage.getCurrentPage() + 1, userPage.getTotalCount(), users.size()))));
    }
}).apply(v)))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ListResponse<User>(null, userPage.getCurrentPage() + 1, userPage.getTotalCount(), 0)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(userPage.getData()).map((user1)->convert(user1, baseUrl, true)).flatMapSingle(this::setGroups).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((users)->new ListResponse<>(users, userPage.getCurrentPage() + 1, userPage.getTotalCount(), users.size()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find users the security domain %s", domain.getName()), ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findById(userId)).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->convert(user1, baseUrl, false))).flatMap((z)->RxJava2Adapter.singleToMono(setGroups(z))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(userId)).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->convert(user1, baseUrl, false))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to find a user using its ID: %s", userId), ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("Field [password] is invalid")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("User with username [" + user.getUserName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.completableToMono(checkRoles(user.getRoles()))).then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(source)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))).flatMapSingle((userProvider)->{
    io.gravitee.am.model.User userModel = convert(user);
    userModel.setId(RandomString.generate());
    userModel.setReferenceType(ReferenceType.DOMAIN);
    userModel.setReferenceId(domain.getId());
    userModel.setSource(source);
    userModel.setInternal(true);
    userModel.setCreatedAt(new Date());
    userModel.setUpdatedAt(userModel.getCreatedAt());
    userModel.setEnabled(userModel.getPassword() != null);
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(userModel)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userProvider.create(convert(userModel))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
        userModel.setPassword(null);
        userModel.setExternalId(idpUser.getId());
        return userRepository.create(userModel);
    }).apply(v))))).onErrorResumeNext((ex)->{
        if (ex instanceof UserAlreadyExistsException) {
            return RxJava2Adapter.monoToSingle(Mono.error(new UniquenessException("User with username [" + user.getUserName() + "] already exists")));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }))));
})).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->convert(user1, baseUrl, true))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("User with username [" + user.getUserName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.completableToMono(checkRoles(user.getRoles()))).then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(source)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("User with username [" + user.getUserName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.completableToMono(checkRoles(user.getRoles()))).then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(source)))).switchIfEmpty
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("User with username [" + user.getUserName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.completableToMono(checkRoles(user.getRoles()))).then().then
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("User with username [" + user.getUserName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.completableToMono(checkRoles(user.getRoles()))).then
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("User with username [" + user.getUserName() + "] already exists");
    }
    return true;
})).flatMap
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("User with username [" + user.getUserName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.completableToMono(checkRoles(user.getRoles()))).then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(source))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findByUsernameAndSource(ReferenceType.DOMAIN, domain.getId(), user.getUserName(), source)).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((isEmpty)->{
    if (!isEmpty) {
        throw new UniquenessException("User with username [" + user.getUserName() + "] already exists");
    }
    return true;
})).flatMap((__)->RxJava2Adapter.completableToMono(checkRoles(user.getRoles()))).then().then(Mono.defer(()->RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(source)))).switchIfEmpty(Mono.error(new UserProviderNotFoundException(source)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(userModel)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userProvider.create(convert(userModel))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    userModel.setPassword(null);
    userModel.setExternalId(idpUser.getId());
    return userRepository.create(userModel);
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof UserAlreadyExistsException) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UniquenessException("User with username [" + user.getUserName() + "] already exists")));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
}))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userProvider.create(convert(userModel))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    userModel.setPassword(null);
    userModel.setExternalId(idpUser.getId());
    return userRepository.create(userModel);
}).apply(v)))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UniquenessException("User with username [" + user.getUserName() + "] already exists")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException(ex.getMessage())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to create a user", ex)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("Field [password] is invalid")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))).flatMapSingle((existingUser)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRoles(user.getRoles())).then(RxJava2Adapter.singleToMono(Single.defer(()->{
        io.gravitee.am.model.User userToUpdate = convert(user);
        userToUpdate.setId(existingUser.getId());
        userToUpdate.setExternalId(existingUser.getExternalId());
        userToUpdate.setUsername(existingUser.getUsername());
        userToUpdate.setReferenceType(existingUser.getReferenceType());
        userToUpdate.setReferenceId(existingUser.getReferenceId());
        userToUpdate.setSource(existingUser.getSource());
        userToUpdate.setCreatedAt(existingUser.getCreatedAt());
        userToUpdate.setUpdatedAt(new Date());
        userToUpdate.setFactors(existingUser.getFactors());
        UserFactorUpdater.updateFactors(existingUser.getFactors(), existingUser, userToUpdate);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(userToUpdate)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(userToUpdate.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(userToUpdate.getSource())))).flatMapSingle((userProvider)->{
            if (userToUpdate.getExternalId() == null) {
                return userProvider.create(convert(userToUpdate));
            } else {
                return userProvider.update(userToUpdate.getExternalId(), convert(userToUpdate));
            }
        })).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
            userToUpdate.setPassword(null);
            userToUpdate.setExternalId(idpUser.getId());
            if (user.getPassword() != null) {
                userToUpdate.setLastPasswordReset(new Date());
            }
            return userRepository.update(userToUpdate);
        }).apply(v))))).onErrorResumeNext((ex)->{
            if (ex instanceof UserNotFoundException || ex instanceof UserInvalidException) {
                userToUpdate.setPassword(null);
                return userRepository.update(userToUpdate);
            }
            return RxJava2Adapter.monoToSingle(Mono.error(ex));
        }))));
    }))));
})).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->convert(user1, baseUrl, false))).flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<User, Single<User>>)this::setGroups).apply(v))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))).flatMapSingle((existingUser)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRoles(user.getRoles())).then(RxJava2Adapter.singleToMono(Single.defer(()->{
        io.gravitee.am.model.User userToUpdate = convert(user);
        userToUpdate.setId(existingUser.getId());
        userToUpdate.setExternalId(existingUser.getExternalId());
        userToUpdate.setUsername(existingUser.getUsername());
        userToUpdate.setReferenceType(existingUser.getReferenceType());
        userToUpdate.setReferenceId(existingUser.getReferenceId());
        userToUpdate.setSource(existingUser.getSource());
        userToUpdate.setCreatedAt(existingUser.getCreatedAt());
        userToUpdate.setUpdatedAt(new Date());
        userToUpdate.setFactors(existingUser.getFactors());
        UserFactorUpdater.updateFactors(existingUser.getFactors(), existingUser, userToUpdate);
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(userToUpdate)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(userToUpdate.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(userToUpdate.getSource())))).flatMapSingle((userProvider)->{
            if (userToUpdate.getExternalId() == null) {
                return userProvider.create(convert(userToUpdate));
            } else {
                return userProvider.update(userToUpdate.getExternalId(), convert(userToUpdate));
            }
        })).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
            userToUpdate.setPassword(null);
            userToUpdate.setExternalId(idpUser.getId());
            if (user.getPassword() != null) {
                userToUpdate.setLastPasswordReset(new Date());
            }
            return userRepository.update(userToUpdate);
        }).apply(v))))).onErrorResumeNext((ex)->{
            if (ex instanceof UserNotFoundException || ex instanceof UserInvalidException) {
                userToUpdate.setPassword(null);
                return userRepository.update(userToUpdate);
            }
            return RxJava2Adapter.monoToSingle(Mono.error(ex));
        }))));
    }))));
})).map(RxJavaReactorMigrationUtil.toJdkFunction((user1)->convert(user1, baseUrl, false))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userRepository.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRoles(user.getRoles())).then(RxJava2Adapter.singleToMono(Single.defer(()->{
    io.gravitee.am.model.User userToUpdate = convert(user);
    userToUpdate.setId(existingUser.getId());
    userToUpdate.setExternalId(existingUser.getExternalId());
    userToUpdate.setUsername(existingUser.getUsername());
    userToUpdate.setReferenceType(existingUser.getReferenceType());
    userToUpdate.setReferenceId(existingUser.getReferenceId());
    userToUpdate.setSource(existingUser.getSource());
    userToUpdate.setCreatedAt(existingUser.getCreatedAt());
    userToUpdate.setUpdatedAt(new Date());
    userToUpdate.setFactors(existingUser.getFactors());
    UserFactorUpdater.updateFactors(existingUser.getFactors(), existingUser, userToUpdate);
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(userToUpdate)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(userToUpdate.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(userToUpdate.getSource())))).flatMapSingle((userProvider)->{
        if (userToUpdate.getExternalId() == null) {
            return userProvider.create(convert(userToUpdate));
        } else {
            return userProvider.update(userToUpdate.getExternalId(), convert(userToUpdate));
        }
    })).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
        userToUpdate.setPassword(null);
        userToUpdate.setExternalId(idpUser.getId());
        if (user.getPassword() != null) {
            userToUpdate.setLastPasswordReset(new Date());
        }
        return userRepository.update(userToUpdate);
    }).apply(v))))).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException || ex instanceof UserInvalidException) {
            userToUpdate.setPassword(null);
            return userRepository.update(userToUpdate);
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }))));
}))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(userToUpdate)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(userToUpdate.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(userToUpdate.getSource())))).flatMapSingle((userProvider)->{
    if (userToUpdate.getExternalId() == null) {
        return userProvider.create(convert(userToUpdate));
    } else {
        return userProvider.update(userToUpdate.getExternalId(), convert(userToUpdate));
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    userToUpdate.setPassword(null);
    userToUpdate.setExternalId(idpUser.getId());
    if (user.getPassword() != null) {
        userToUpdate.setLastPasswordReset(new Date());
    }
    return userRepository.update(userToUpdate);
}).apply(v))))).onErrorResumeNext((ex)->{
    if (ex instanceof UserNotFoundException || ex instanceof UserInvalidException) {
        userToUpdate.setPassword(null);
        return userRepository.update(userToUpdate);
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
}))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(userToUpdate.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(userToUpdate.getSource())))).flatMapSingle((userProvider)->{
    if (userToUpdate.getExternalId() == null) {
        return userProvider.create(convert(userToUpdate));
    } else {
        return userProvider.update(userToUpdate.getExternalId(), convert(userToUpdate));
    }
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    userToUpdate.setPassword(null);
    userToUpdate.setExternalId(idpUser.getId());
    if (user.getPassword() != null) {
        userToUpdate.setLastPasswordReset(new Date());
    }
    return userRepository.update(userToUpdate);
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(userToUpdate.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(userToUpdate.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(userToUpdate.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(userToUpdate.getSource())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException(ex.getMessage())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to update a user", ex)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(get(userId, baseUrl)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<User, Single<User>>)(user)->{
    ObjectNode node = objectMapper.convertValue(user, ObjectNode.class);
    patchOp.getOperations().forEach((operation)->operation.apply(node));
    User userToPatch = objectMapper.treeToValue(node, User.class);
    if (isInvalidUserPassword(userToPatch)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("Field [password] is invalid")));
    }
    return update(userId, userToPatch, baseUrl);
}).apply(v))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(get(userId, baseUrl)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(get(userId, baseUrl)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("Field [password] is invalid")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException(String.format("An error has occurred when trying to patch user: %s", userId), ex)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(userRepository.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((user)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))).flatMap((userProvider)->RxJava2Adapter.completableToMono(userProvider.delete(user.getExternalId()))).then(RxJava2Adapter.completableToMono(userRepository.delete(userId)))).onErrorResumeNext((java.lang.Throwable ex)->{
    if (ex instanceof UserNotFoundException) {
        return userRepository.delete(userId);
    }
    return RxJava2Adapter.monoToCompletable(Mono.error(ex));
}).onErrorResumeNext((java.lang.Throwable ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    } else {
        LOGGER.error("An error occurs while trying to delete user: {}", userId, ex);
        return RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete user: %s", userId), ex)));
    }
}))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap((user)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))).flatMap((userProvider)->RxJava2Adapter.completableToMono(userProvider.delete(user.getExternalId()))).then(RxJava2Adapter.completableToMono(userRepository.delete(userId)))).onErrorResumeNext((java.lang.Throwable ex)->{
    if (ex instanceof UserNotFoundException) {
        return userRepository.delete(userId);
    }
    return RxJava2Adapter.monoToCompletable(Mono.error(ex));
}).onErrorResumeNext((java.lang.Throwable ex)->{
    if (ex instanceof AbstractManagementException) {
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    } else {
        LOGGER.error("An error occurs while trying to delete user: {}", userId, ex);
        return RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete user: %s", userId), ex)));
    }
}))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userRepository.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))).flatMap((userProvider)->RxJava2Adapter.completableToMono(userProvider.delete(user.getExternalId()))).then(RxJava2Adapter.completableToMono(userRepository.delete(userId))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))).flatMap((userProvider)->RxJava2Adapter.completableToMono(userProvider.delete(user.getExternalId()))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new TechnicalManagementException(String.format("An error occurs while trying to delete user: %s", userId), ex)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(groupService.findByMember(scimUser.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->{
    Member member = new Member();
    member.setValue(group.getId());
    member.setDisplay(group.getDisplayName());
    return member;
})).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((scimGroups)->{
    if (!scimGroups.isEmpty()) {
        scimUser.setGroups(scimGroups);
        return scimUser;
    } else {
        return scimUser;
    }
})))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(groupService.findByMember(scimUser.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->{
    Member member = new Member();
    member.setValue(group.getId());
    member.setDisplay(group.getDisplayName());
    return member;
})).collectList().map
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(groupService.findByMember(scimUser.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->{
    Member member = new Member();
    member.setValue(group.getId());
    member.setDisplay(group.getDisplayName());
    return member;
})).collectList
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(roleService.findByIdIn(roles)).map(RxJavaReactorMigrationUtil.toJdkFunction((roles1)->{
    if (roles1.size() != roles.size()) {
        roles.removeAll(roles1.stream().map(Role::getId).collect(Collectors.toList()));
        throw new RoleNotFoundException(String.join(",", roles));
    }
    return roles1;
})).then())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleService.findByIdIn(roles)).map(RxJavaReactorMigrationUtil.toJdkFunction((roles1)->{
    if (roles1.size() != roles.size()) {
        roles.removeAll(roles1.stream().map(Role::getId).collect(Collectors.toList()));
        throw new RoleNotFoundException(String.join(",", roles));
    }
    return roles1;
})).then
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(serviceProviderConfiguration))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(getGroup()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidGroupException("Invalid group infos")))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("Field [password] is invalid")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(getUser()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("Role [role-1] can not be found.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidUserException("Invalid user infos")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new EmailFormatInvalidException("Invalid email")))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createdUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(roles))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(existingUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(existingUser))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(patchedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(userToUpdate))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ListResponse<>()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createdGroup))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(createdGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.Group()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.Group()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(groupToUpdate))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ListResponse<>()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ListResponse<>()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(getGroup()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UniquenessException("Display name already exists")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidGroupException("Invalid group infos")))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("Field [password] is invalid")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(getUser()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("User provider [unknown-idp] can not be found.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidValueException("Role [role-1] can not be found.")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UniquenessException("Username already exists")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidUserException("Invalid user infos")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new EmailFormatInvalidException("Invalid email")))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultPrincipal(context, token)))
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findById(token.getSub())).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    User principal = new DefaultUser(user.getUsername());
    ((DefaultUser)principal).setId(user.getId());
    Map<String, Object> additionalInformation = user.getAdditionalInformation() != null ? new HashMap<>(user.getAdditionalInformation()) : new HashMap<>();
    additionalInformation.put(Claims.ip_address, RequestUtils.remoteAddress(context.request()));
    additionalInformation.put(Claims.user_agent, RequestUtils.userAgent(context.request()));
    additionalInformation.put(Claims.domain, domain.getId());
    ((DefaultUser)principal).setAdditionalInformation(additionalInformation);
    return principal;
})).defaultIfEmpty(defaultPrincipal(context, token)).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(token.getSub())).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    User principal = new DefaultUser(user.getUsername());
    ((DefaultUser)principal).setId(user.getId());
    Map<String, Object> additionalInformation = user.getAdditionalInformation() != null ? new HashMap<>(user.getAdditionalInformation()) : new HashMap<>();
    additionalInformation.put(Claims.ip_address, RequestUtils.remoteAddress(context.request()));
    additionalInformation.put(Claims.user_agent, RequestUtils.userAgent(context.request()));
    additionalInformation.put(Claims.domain, domain.getId());
    ((DefaultUser)principal).setAdditionalInformation(additionalInformation);
    return principal;
})).defaultIfEmpty(defaultPrincipal(context, token)).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(token.getSub())).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->{
    User principal = new DefaultUser(user.getUsername());
    ((DefaultUser)principal).setId(user.getId());
    Map<String, Object> additionalInformation = user.getAdditionalInformation() != null ? new HashMap<>(user.getAdditionalInformation()) : new HashMap<>();
    additionalInformation.put(Claims.ip_address, RequestUtils.remoteAddress(context.request()));
    additionalInformation.put(Claims.user_agent, RequestUtils.userAgent(context.request()));
    additionalInformation.put(Claims.domain, domain.getId());
    ((DefaultUser)principal).setAdditionalInformation(additionalInformation);
    return principal;
})).defaultIfEmpty
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(token.getAud())).map(RxJavaReactorMigrationUtil.toJdkFunction((client)->{
    User principal = new DefaultUser(client.getClientId());
    ((DefaultUser)principal).setId(client.getId());
    Map<String, Object> additionalInformation = new HashMap<>();
    additionalInformation.put(Claims.ip_address, RequestUtils.remoteAddress(context.request()));
    additionalInformation.put(Claims.user_agent, RequestUtils.userAgent(context.request()));
    additionalInformation.put(Claims.domain, domain.getId());
    ((DefaultUser)principal).setAdditionalInformation(additionalInformation);
    return principal;
})).defaultIfEmpty(defaultPrincipal(context, token)).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(token.getAud())).map(RxJavaReactorMigrationUtil.toJdkFunction((client)->{
    User principal = new DefaultUser(client.getClientId());
    ((DefaultUser)principal).setId(client.getId());
    Map<String, Object> additionalInformation = new HashMap<>();
    additionalInformation.put(Claims.ip_address, RequestUtils.remoteAddress(context.request()));
    additionalInformation.put(Claims.user_agent, RequestUtils.userAgent(context.request()));
    additionalInformation.put(Claims.domain, domain.getId());
    ((DefaultUser)principal).setAdditionalInformation(additionalInformation);
    return principal;
})).defaultIfEmpty(defaultPrincipal(context, token)).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(clientSyncService.findByClientId(token.getAud())).map(RxJavaReactorMigrationUtil.toJdkFunction((client)->{
    User principal = new DefaultUser(client.getClientId());
    ((DefaultUser)principal).setId(client.getId());
    Map<String, Object> additionalInformation = new HashMap<>();
    additionalInformation.put(Claims.ip_address, RequestUtils.remoteAddress(context.request()));
    additionalInformation.put(Claims.user_agent, RequestUtils.userAgent(context.request()));
    additionalInformation.put(Claims.domain, domain.getId());
    ((DefaultUser)principal).setAdditionalInformation(additionalInformation);
    return principal;
})).defaultIfEmpty
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeApprovalService.findById(consentId)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consentId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeApprovalService.findById(consentId)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consentId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((principal)->RxJava2Adapter.completableToMono(userService.revokeConsent(userId, consentId, principal))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((principal)->RxJava2Adapter.completableToMono(userService.revokeConsent(userId, consentId, principal))).then
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Optional.ofNullable(clientId)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Set<ScopeApproval>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<String>, Single<Set<ScopeApproval>>>)(optClient)->{
    if (optClient.isPresent()) {
        return userService.consents(userId, optClient.get());
    }
    return userService.consents(userId);
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | Mono.just(Optional.ofNullable(clientId)).flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.just(Optional.ofNullable(clientId)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<String>, CompletableSource>)(optClient)->{
    if (optClient.isPresent()) {
        return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((principal)->userService.revokeConsents(userId, optClient.get(), principal)).apply(t)))).then());
    }
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((principal)->userService.revokeConsents(userId, principal)).apply(t)))).then());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | Mono.just(Optional.ofNullable(clientId)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<String>, CompletableSource>)(optClient)->{
    if (optClient.isPresent()) {
        return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((principal)->userService.revokeConsents(userId, optClient.get(), principal)).apply(t)))).then());
    }
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((principal)->userService.revokeConsents(userId, principal)).apply(t)))).then());
}).apply(y)))).then
1 | Mono | just | METHOD_INVOCATION | Mono.just(Optional.ofNullable(clientId)).flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((principal)->userService.revokeConsents(userId, optClient.get(), principal)).apply(t)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((principal)->userService.revokeConsents(userId, optClient.get(), principal)).apply(t)))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((principal)->userService.revokeConsents(userId, principal)).apply(t)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(getPrincipal(context)).flatMap((t)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((principal)->userService.revokeConsents(userId, principal)).apply(t)))).then
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(scopeApproval))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scopeApproval))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new ScopeApprovalNotFoundException("consentId")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new ScopeApproval()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(new ScopeApproval())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new io.gravitee.am.model.User()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderManager.get(providerId)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(providerId))).map(RxJavaReactorMigrationUtil.toJdkFunction((authenticationProvider)->{
    Metadata metadata = authenticationProvider.metadata(idpUrl);
    if (metadata == null) {
        logger.debug("No metadata found for identity provider : {}", providerId);
        throw new IdentityProviderMetadataNotFoundException(providerId);
    }
    return metadata;
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(providerId)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(providerId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.get(providerId)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(providerId)))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(authenticationProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(authenticationProvider))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IdentityProviderNotFoundException("unknown-provider")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IdentityProviderMetadataNotFoundException("unknown-provider")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(metadata))
1 | Mono | block | METHOD_INVOCATION | List<Event> events = RxJava2Adapter.flowableToFlux(eventRepository.findByTimeFrame(lastRefreshAt - lastDelay, nextLastRefreshAt)).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(eventRepository.findByTimeFrame(lastRefreshAt - lastDelay, nextLastRefreshAt)).collectList().block
1 | Mono | block | METHOD_INVOCATION | List<Domain> domains = RxJava2Adapter.flowableToFlux(domainRepository.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Domain::isEnabled)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(this::canHandle)).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRepository.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Domain::isEnabled)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(this::canHandle)).collectList().block
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRepository.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Domain::isEnabled)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(this::canHandle)).collectList
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(domainRepository.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Domain::isEnabled)).filter
1 | Mono | block | METHOD_INVOCATION | Domain domain = RxJava2Adapter.maybeToMono(domainRepository.findById(domainId)).block()
1 | Mono | block | METHOD_INVOCATION | final List<Organization> foundOrgs = RxJava2Adapter.flowableToFlux(organizationRepository.findByHrids(this.organizations.get())).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(organizationRepository.findByHrids(this.organizations.get())).collectList().block
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(environmentRepository.findAll(org.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((environment1)->{
    if (!environments.isPresent()) {
        return true;
    } else {
        return environment1.getHrids().stream().anyMatch((h)->environments.get().contains(h));
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction(io.gravitee.am.model.Environment::getId)).collectList().block().stream
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(environmentRepository.findAll(org.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((environment1)->{
    if (!environments.isPresent()) {
        return true;
    } else {
        return environment1.getHrids().stream().anyMatch((h)->environments.get().contains(h));
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction(io.gravitee.am.model.Environment::getId)).collectList().block
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(environmentRepository.findAll(org.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((environment1)->{
    if (!environments.isPresent()) {
        return true;
    } else {
        return environment1.getHrids().stream().anyMatch((h)->environments.get().contains(h));
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction(io.gravitee.am.model.Environment::getId)).collectList
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(environmentRepository.findAll(org.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((environment1)->{
    if (!environments.isPresent()) {
        return true;
    } else {
        return environment1.getHrids().stream().anyMatch((h)->environments.get().contains(h));
    }
})).map
1 | Mono | block | METHOD_INVOCATION | environmentIds = RxJava2Adapter.flowableToFlux(environmentRepository.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate((environment1)->environment1.getHrids().stream().anyMatch((h)->environments.get().contains(h)))).map(RxJavaReactorMigrationUtil.toJdkFunction(io.gravitee.am.model.Environment::getId)).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(environmentRepository.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate((environment1)->environment1.getHrids().stream().anyMatch((h)->environments.get().contains(h)))).map(RxJavaReactorMigrationUtil.toJdkFunction(io.gravitee.am.model.Environment::getId)).collectList().block
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(environmentRepository.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate((environment1)->environment1.getHrids().stream().anyMatch((h)->environments.get().contains(h)))).map(RxJavaReactorMigrationUtil.toJdkFunction(io.gravitee.am.model.Environment::getId)).collectList
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(environmentRepository.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate((environment1)->environment1.getHrids().stream().anyMatch((h)->environments.get().contains(h)))).map
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2, domain3))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(event))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(event))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domainToUpdate))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(event))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env, env2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env, env2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organization))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env, env2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organization, organization2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env, env2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env3, env4))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2, domain3, domain4))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organization, organization2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env, env2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env3, env4))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2, domain3, domain4))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organization, organization2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env, env2))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(env3, env4))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain, domain2, domain3, domain4))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new IllegalArgumentException("Unsupported verification channel \'" + target.getChannel() + "\'")))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(client.post(URI.create(configuration.getServiceUrl()).toString()).rxSendForm(MultiMap.caseInsensitiveMultiMap().set("secret", configuration.getSecretKey()).set("response", token))).map(RxJavaReactorMigrationUtil.toJdkFunction((buffer)->{
    if (buffer.statusCode() != 200) {
        LOGGER.error("An error occurred when trying to validate ReCaptcha token. (status={}/message={})", buffer.statusCode(), buffer.statusMessage());
        return false;
    }
    final JsonObject response = buffer.bodyAsJsonObject();
    Boolean success = response.getBoolean("success", false);
    Double score = response.getDouble("score", 0.0);
    LOGGER.debug("ReCaptchaService success: {} score: {}", success, score);
    return (success && score >= configuration.getMinScore());
})))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | block | METHOD_INVOCATION | Environment environment = RxJava2Adapter.maybeToMono(environmentService.createDefault()).block()
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(client.getAbs(newsletterURI + taglinesPath).rxSend()).map(RxJavaReactorMigrationUtil.<HttpResponse<Buffer>, List<String>>toJdkFunction((res)->{
    if (res.statusCode() != 200) {
        LOGGER.error("An error has occurred when reading the newsletter taglines response: " + res.statusMessage());
        return Collections.emptyList();
    }
    return mapper.readValue(res.bodyAsString(), List.class);
})))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(domainService.findAllByCriteria(new DomainCriteria()).doOnNext((domain)->LOGGER.info("Sending alert triggers for domain {}", domain.getName()))).flatMap(RxJavaReactorMigrationUtil.toJdkFunction(this::prepareAETriggers)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(alertTriggerService.getById(payload.getId())).flatMap((alertTrigger)->RxJava2Adapter.singleToMono(this.prepareAETrigger(domain, alertTrigger))).flatMap((v)->RxJava2Adapter.singleToMono((Single<Trigger>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Trigger, Single<Trigger>>)this::registerAETrigger).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(alertTriggerService.getById(payload.getId())).flatMap((alertTrigger)->RxJava2Adapter.singleToMono(this.prepareAETrigger(domain, alertTrigger))).flatMap
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(payload.getReferenceId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((domain)->domain.isEnabled() && domain.isAlertEnabled())))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(trigger))
1 | Flux | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(alertNotifierService.findByReferenceAndCriteria(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertNotifierCriteria)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((alertNotifiers)->AlertTriggerFactory.create(alertTrigger, alertNotifiers, environment))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((trigger)->trigger.setEnabled(domain.isEnabled() && domain.isAlertEnabled() && trigger.isEnabled()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(alertNotifierService.findByReferenceAndCriteria(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertNotifierCriteria)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((alertNotifiers)->AlertTriggerFactory.create(alertTrigger, alertNotifiers, environment))).doOnSuccess
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(alertNotifierService.findByReferenceAndCriteria(alertTrigger.getReferenceType(), alertTrigger.getReferenceId(), alertNotifierCriteria)).collectList().map
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resolveDomainProperties(value)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((domainProperties)->values.put(key, domainProperties))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resolveApplicationProperties(value)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((appProperties)->values.put(key, appProperties))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(Single.merge(obs)).ignoreElements().then().then(Mono.just(values)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(Single.merge(obs)).ignoreElements().then().then
1 | Flux | ignoreElements | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(Single.merge(obs)).ignoreElements().then
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(Single.merge(obs)).ignoreElements().then().then(Mono.just(values))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(properties))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(properties))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(properties))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(properties))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Flux | IMPORT
1 | Mono | block | METHOD_INVOCATION | final Map<String, Role> organizationRoles = RxJava2Adapter.singleToMono(RxJava2Adapter.fluxToFlowable(Flux.merge(roleService.findRolesByName(ReferenceType.PLATFORM, Platform.DEFAULT, ReferenceType.ORGANIZATION, roleNames), roleService.findRolesByName(ReferenceType.ORGANIZATION, Organization.DEFAULT, ReferenceType.ORGANIZATION, roleNames))).collect(HashMap<String, Role>::new, (acc,role)->{
    acc.put(role.getName(), role);
})).block()
1 | Flux | merge | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.merge(roleService.findRolesByName(ReferenceType.PLATFORM, Platform.DEFAULT, ReferenceType.ORGANIZATION, roleNames), roleService.findRolesByName(ReferenceType.ORGANIZATION, Organization.DEFAULT, ReferenceType.ORGANIZATION, roleNames)))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider1))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Unable to create Default IdentityProvider with " + managementBackend + " backend")))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(installationService.addAdditionalInformation(Collections.singletonMap(COCKPIT_INSTALLATION_STATUS, DELETED_STATUS))).flatMap((installation)->Mono.just(new GoodbyeReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reply)->logger.info("Installation has been removed."))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->logger.error("Error occurred when deleting installation.", error))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.addAdditionalInformation(Collections.singletonMap(COCKPIT_INSTALLATION_STATUS, DELETED_STATUS))).flatMap((installation)->Mono.just(new GoodbyeReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reply)->logger.info("Installation has been removed."))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.addAdditionalInformation(Collections.singletonMap(COCKPIT_INSTALLATION_STATUS, DELETED_STATUS))).flatMap((installation)->Mono.just(new GoodbyeReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess
1 | Mono | just | METHOD_INVOCATION | (installation)->Mono.just(new GoodbyeReply(command.getId(), CommandStatus.SUCCEEDED))
1 | Mono | IMPORT
1 | Mono | subscribeOn | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(domainService.findById(reporter.getDomain()).flatMapSingle((domain)->{
    if (ReferenceType.ENVIRONMENT == domain.getReferenceType()) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(new EnvironmentNotFoundException("Domain " + reporter.getDomain() + " should be lined to an Environment")));
    }
})).subscribeOn(reactor.core.scheduler.Schedulers.boundedElastic()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new EnvironmentNotFoundException("Domain " + reporter.getDomain() + " should be lined to an Environment")))
1 | Mono | block | METHOD_INVOCATION | List<io.gravitee.am.model.Reporter> reporters = RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domain)).collectList().block()
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domain)).collectList().block
1 | Mono | subscribeOn | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(domainService.findById(reporter.getDomain()).flatMapSingle((domain)->{
    if (ReferenceType.ENVIRONMENT == domain.getReferenceType()) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(new EnvironmentNotFoundException("Domain " + reporter.getDomain() + " should be lined to an Environment")));
    }
})).subscribeOn(reactor.core.scheduler.Schedulers.boundedElastic()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(domain.getReferenceId())).map(RxJavaReactorMigrationUtil.toJdkFunction((env)->new GraviteeContext(env.getOrganizationId(), env.getId(), domain.getId()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new EnvironmentNotFoundException("Domain " + reporter.getDomain() + " should be lined to an Environment")))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.createOrUpdate(ReferenceType.ORGANIZATION, userPayload.getOrganizationId(), newUser)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->logger.info("User [{}] created with id [{}].", user.getUsername(), user.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->new UserReply(command.getId(), CommandStatus.SUCCEEDED))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->logger.info("Error occurred when creating user [{}] for organization [{}].", userPayload.getUsername(), userPayload.getOrganizationId(), error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.createOrUpdate(ReferenceType.ORGANIZATION, userPayload.getOrganizationId(), newUser)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->logger.info("User [{}] created with id [{}].", user.getUsername(), user.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->new UserReply(command.getId(), CommandStatus.SUCCEEDED))).doOnError
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.createOrUpdate(ReferenceType.ORGANIZATION, userPayload.getOrganizationId(), newUser)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->logger.info("User [{}] created with id [{}].", user.getUsername(), user.getId()))).map
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(scopeService.findByDomain(domain.getId(), 0, Integer.MAX_VALUE)).flatMap((v)->RxJava2Adapter.singleToMono((Single<List<Scope>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Page<Scope>, Single<List<Scope>>>)(scopes)->{
    if (scopes.getData().isEmpty()) {
        logger.info("No scope found for domain id[{}] name[{}]. Upgrading...", domain.getId(), domain.getName());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(createAppScopes(domain)).flatMap((irrelevant)->RxJava2Adapter.singleToMono(createRoleScopes(domain))));
    }
    logger.info("No scope to update, skip upgrade");
    return RxJava2Adapter.monoToSingle(Mono.just(new ArrayList<>(scopes.getData())));
}).apply(v))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(createAppScopes(domain)).flatMap((irrelevant)->RxJava2Adapter.singleToMono(createRoleScopes(domain))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new ArrayList<>(scopes.getData())))
1 | Mono | RETURN_TYPE
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(applicationService.findByDomain(domain.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((applications)->applications != null))).flatMapObservable(Observable::fromIterable), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((app)->app.getSettings() != null && app.getSettings().getOauth() != null)).flatMap((z)->RxJava2Adapter.observableToFlux(Observable.wrap(RxJavaReactorMigrationUtil.<Application, ObservableSource<String>>toJdkFunction((app)->Observable.fromIterable(app.getSettings().getOauth().getScopes())).apply(z)), BackpressureStrategy.BUFFER)))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(applicationService.findByDomain(domain.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((applications)->applications != null))).flatMapObservable(Observable::fromIterable), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((app)->app.getSettings() != null && app.getSettings().getOauth() != null)).flatMap
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(applicationService.findByDomain(domain.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((applications)->applications != null)))
1 | Mono | RETURN_TYPE
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(roleService.findByDomain(domain.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((roles)->roles != null))).flatMapObservable(Observable::fromIterable), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role)->role.getOauthScopes() != null)).flatMap((z)->RxJava2Adapter.observableToFlux(Observable.wrap(RxJavaReactorMigrationUtil.<Role, ObservableSource<String>>toJdkFunction((role)->Observable.fromIterable(role.getOauthScopes())).apply(z)), BackpressureStrategy.BUFFER)))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.observableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(roleService.findByDomain(domain.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((roles)->roles != null))).flatMapObservable(Observable::fromIterable), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((role)->role.getOauthScopes() != null)).flatMap
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(roleService.findByDomain(domain.getId())).filter(RxJavaReactorMigrationUtil.toJdkPredicate((roles)->roles != null)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(scopeService.findByDomain(domain, 0, Integer.MAX_VALUE)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Scope>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Page<Scope>, Single<Scope>>)(scopes)->{
    Optional<Scope> optScope = scopes.getData().stream().filter((scope)->scope.getKey().equalsIgnoreCase(scopeKey)).findFirst();
    if (!optScope.isPresent()) {
        logger.info("Create a new scope key[{}] for domain[{}]", scopeKey, domain);
        NewScope scope = new NewScope();
        scope.setKey(scopeKey);
        scope.setName(Character.toUpperCase(scopeKey.charAt(0)) + scopeKey.substring(1));
        scope.setDescription("Default description for scope " + scopeKey);
        return scopeService.create(domain, scope);
    }
    return RxJava2Adapter.monoToSingle(Mono.just(optScope.get()));
}).apply(v))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(optScope.get()))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.createOrUpdate(environmentPayload.getOrganizationId(), environmentPayload.getId(), newEnvironment, null)).map(RxJavaReactorMigrationUtil.toJdkFunction((organization)->new EnvironmentReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reply)->logger.info("Environment [{}] handled with id [{}].", environmentPayload.getName(), environmentPayload.getId()))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->logger.error("Error occurred when handling environment [{}] with id [{}].", environmentPayload.getName(), environmentPayload.getId(), error))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.createOrUpdate(environmentPayload.getOrganizationId(), environmentPayload.getId(), newEnvironment, null)).map(RxJavaReactorMigrationUtil.toJdkFunction((organization)->new EnvironmentReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reply)->logger.info("Environment [{}] handled with id [{}].", environmentPayload.getName(), environmentPayload.getId()))).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(environmentService.createOrUpdate(environmentPayload.getOrganizationId(), environmentPayload.getId(), newEnvironment, null)).map(RxJavaReactorMigrationUtil.toJdkFunction((organization)->new EnvironmentReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findAll(ReferenceType.DOMAIN, domain, page, size)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((userPage)->userPage.getData().forEach(this::setInternalStatus))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserInvalidException("Field [password] is required")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), newUser.getUsername(), newUser.getSource())).hasElement().flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, Single<User>>)(isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(newUser.getUsername())));
    } else {
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(newUser.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(newUser.getSource())))).flatMapSingle((userProvider)->{
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(checkClientFunction().apply(domain.getId(), newUser.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty())).flatMapSingle((optClient)->{
                Application client = optClient.orElse(null);
                newUser.setDomain(domain.getId());
                newUser.setClient(client != null ? client.getId() : null);
                newUser.setInternal(true);
                if (newUser.isPreRegistration()) {
                    newUser.setPassword(null);
                    newUser.setRegistrationCompleted(false);
                    newUser.setEnabled(false);
                } else {
                    String password = newUser.getPassword();
                    if (password != null && isInvalidUserPassword(password, client, domain)) {
                        return RxJava2Adapter.monoToSingle(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")));
                    }
                    newUser.setRegistrationCompleted(true);
                    newUser.setEnabled(true);
                    newUser.setDomain(domain.getId());
                }
                return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(transform(newUser))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
                    newUser.setPassword(null);
                    newUser.setExternalId(idpUser.getId());
                    return newUser;
                }))).onErrorResumeNext((ex)->{
                    if (ex instanceof UserAlreadyExistsException) {
                        return userProvider.findByUsername(newUser.getUsername()).flatMapSingle((idpUser)->RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUsername(), newUser.getSource())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
                            if (!empty) {
                                throw new UserAlreadyExistsException(newUser.getUsername());
                            } else {
                                newUser.setPassword(null);
                                newUser.setExternalId(idpUser.getId());
                                newUser.setUsername(idpUser.getUsername());
                                return newUser;
                            }
                        }))));
                    } else {
                        return RxJava2Adapter.monoToSingle(Mono.error(ex));
                    }
                })).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.service.model.NewUser, SingleSource<io.gravitee.am.model.User>>toJdkFunction((newUser1)->{
                    User user = transform(newUser1);
                    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
                    if (newUser.isPreRegistration() && accountSettings != null && accountSettings.isDynamicUserRegistration()) {
                        user.setRegistrationUserUri(domainService.buildUrl(domain, "/confirmRegistration"));
                        user.setRegistrationAccessToken(getUserRegistrationToken(user));
                    }
                    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))));
                }).apply(x)))).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
                    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
                    if (newUser.isPreRegistration() && (accountSettings == null || !accountSettings.isDynamicUserRegistration())) {
                        return sendRegistrationConfirmation(user.getReferenceId(), user.getId(), principal).toSingleDefault(user);
                    } else {
                        return RxJava2Adapter.monoToSingle(Mono.just(user));
                    }
                }).apply(z)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
            });
        });
    }
}).apply(v))))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), newUser.getUsername(), newUser.getSource())).hasElement().flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(newUser.getUsername())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(newUser.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(newUser.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(newUser.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(newUser.getSource())))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(checkClientFunction().apply(domain.getId(), newUser.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(checkClientFunction().apply(domain.getId(), newUser.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(transform(newUser))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    newUser.setPassword(null);
    newUser.setExternalId(idpUser.getId());
    return newUser;
}))).onErrorResumeNext((ex)->{
    if (ex instanceof UserAlreadyExistsException) {
        return userProvider.findByUsername(newUser.getUsername()).flatMapSingle((idpUser)->RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUsername(), newUser.getSource())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
            if (!empty) {
                throw new UserAlreadyExistsException(newUser.getUsername());
            } else {
                newUser.setPassword(null);
                newUser.setExternalId(idpUser.getId());
                newUser.setUsername(idpUser.getUsername());
                return newUser;
            }
        }))));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
})).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.service.model.NewUser, SingleSource<io.gravitee.am.model.User>>toJdkFunction((newUser1)->{
    User user = transform(newUser1);
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (newUser.isPreRegistration() && accountSettings != null && accountSettings.isDynamicUserRegistration()) {
        user.setRegistrationUserUri(domainService.buildUrl(domain, "/confirmRegistration"));
        user.setRegistrationAccessToken(getUserRegistrationToken(user));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))));
}).apply(x)))).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (newUser.isPreRegistration() && (accountSettings == null || !accountSettings.isDynamicUserRegistration())) {
        return sendRegistrationConfirmation(user.getReferenceId(), user.getId(), principal).toSingleDefault(user);
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(user));
    }
}).apply(z)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(transform(newUser))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    newUser.setPassword(null);
    newUser.setExternalId(idpUser.getId());
    return newUser;
}))).onErrorResumeNext((ex)->{
    if (ex instanceof UserAlreadyExistsException) {
        return userProvider.findByUsername(newUser.getUsername()).flatMapSingle((idpUser)->RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUsername(), newUser.getSource())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
            if (!empty) {
                throw new UserAlreadyExistsException(newUser.getUsername());
            } else {
                newUser.setPassword(null);
                newUser.setExternalId(idpUser.getId());
                newUser.setUsername(idpUser.getUsername());
                return newUser;
            }
        }))));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
})).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.service.model.NewUser, SingleSource<io.gravitee.am.model.User>>toJdkFunction((newUser1)->{
    User user = transform(newUser1);
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (newUser.isPreRegistration() && accountSettings != null && accountSettings.isDynamicUserRegistration()) {
        user.setRegistrationUserUri(domainService.buildUrl(domain, "/confirmRegistration"));
        user.setRegistrationAccessToken(getUserRegistrationToken(user));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))));
}).apply(x)))).flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (newUser.isPreRegistration() && (accountSettings == null || !accountSettings.isDynamicUserRegistration())) {
        return sendRegistrationConfirmation(user.getReferenceId(), user.getId(), principal).toSingleDefault(user);
    } else {
        return RxJava2Adapter.monoToSingle(Mono.just(user));
    }
}).apply(z)))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(transform(newUser))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    newUser.setPassword(null);
    newUser.setExternalId(idpUser.getId());
    return newUser;
}))).onErrorResumeNext((ex)->{
    if (ex instanceof UserAlreadyExistsException) {
        return userProvider.findByUsername(newUser.getUsername()).flatMapSingle((idpUser)->RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUsername(), newUser.getSource())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
            if (!empty) {
                throw new UserAlreadyExistsException(newUser.getUsername());
            } else {
                newUser.setPassword(null);
                newUser.setExternalId(idpUser.getId());
                newUser.setUsername(idpUser.getUsername());
                return newUser;
            }
        }))));
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    }
})).flatMap((x)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.service.model.NewUser, SingleSource<io.gravitee.am.model.User>>toJdkFunction((newUser1)->{
    User user = transform(newUser1);
    AccountSettings accountSettings = AccountSettings.getInstance(domain, client);
    if (newUser.isPreRegistration() && accountSettings != null && accountSettings.isDynamicUserRegistration()) {
        user.setRegistrationUserUri(domainService.buildUrl(domain, "/confirmRegistration"));
        user.setRegistrationAccessToken(getUserRegistrationToken(user));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))));
}).apply(x)))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(transform(newUser))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser)))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    newUser.setPassword(null);
    newUser.setExternalId(idpUser.getId());
    return newUser;
})))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userValidator.validate(transform(newUser))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser)))).map
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userValidator.validate(transform(newUser))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUsername(), newUser.getSource())).hasElement().map(RxJavaReactorMigrationUtil.toJdkFunction((empty)->{
    if (!empty) {
        throw new UserAlreadyExistsException(newUser.getUsername());
    } else {
        newUser.setPassword(null);
        newUser.setExternalId(idpUser.getId());
        newUser.setUsername(idpUser.getUsername());
        return newUser;
    }
})))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByDomainAndUsernameAndSource(domain.getId(), idpUser.getUsername(), newUser.getSource())).hasElement().map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.create(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(userService.findById(ReferenceType.DOMAIN, domain.getId(), userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(checkClientFunction().apply(domain.getId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty())).flatMapSingle((optClient)->{
        if (isInvalidUserPassword(password, optClient.orElse(null), domain)) {
            return RxJava2Adapter.monoToSingle(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")));
        }
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
                ((DefaultUser)idpUser).setCredentials(password);
                return userProvider.update(idpUser.getId(), idpUser);
            }).onErrorResumeNext((ex)->{
                if (ex instanceof UserNotFoundException) {
                    user.setPassword(password);
                    return userProvider.create(convert(user));
                }
                return RxJava2Adapter.monoToSingle(Mono.error(ex));
            });
        })).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
            if (user.isPreRegistration()) {
                user.setRegistrationCompleted(true);
                user.setEnabled(true);
            }
            user.setPassword(null);
            user.setExternalId(idpUser.getId());
            user.setLastPasswordReset(new Date());
            user.setUpdatedAt(new Date());
            return userService.update(user);
        }).apply(a)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).throwable(throwable)))));
    });
}).apply(v)))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<User, CompletableSource>)(user)->{
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user.getReferenceId()).client(user.getClient()).username(user.getUsername()).build();
    return loginAttemptService.reset(criteria);
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.findById(ReferenceType.DOMAIN, domain.getId(), userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(checkClientFunction().apply(domain.getId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty())).flatMapSingle((optClient)->{
        if (isInvalidUserPassword(password, optClient.orElse(null), domain)) {
            return RxJava2Adapter.monoToSingle(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")));
        }
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
                ((DefaultUser)idpUser).setCredentials(password);
                return userProvider.update(idpUser.getId(), idpUser);
            }).onErrorResumeNext((ex)->{
                if (ex instanceof UserNotFoundException) {
                    user.setPassword(password);
                    return userProvider.create(convert(user));
                }
                return RxJava2Adapter.monoToSingle(Mono.error(ex));
            });
        })).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
            if (user.isPreRegistration()) {
                user.setRegistrationCompleted(true);
                user.setEnabled(true);
            }
            user.setPassword(null);
            user.setExternalId(idpUser.getId());
            user.setLastPasswordReset(new Date());
            user.setUpdatedAt(new Date());
            return userService.update(user);
        }).apply(a)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).throwable(throwable)))));
    });
}).apply(v)))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<User, CompletableSource>)(user)->{
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user.getReferenceId()).client(user.getClient()).username(user.getUsername()).build();
    return loginAttemptService.reset(criteria);
}).apply(y)))).then
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.findById(ReferenceType.DOMAIN, domain.getId(), userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(checkClientFunction().apply(domain.getId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty())).flatMapSingle((optClient)->{
        if (isInvalidUserPassword(password, optClient.orElse(null), domain)) {
            return RxJava2Adapter.monoToSingle(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")));
        }
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
            return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
                ((DefaultUser)idpUser).setCredentials(password);
                return userProvider.update(idpUser.getId(), idpUser);
            }).onErrorResumeNext((ex)->{
                if (ex instanceof UserNotFoundException) {
                    user.setPassword(password);
                    return userProvider.create(convert(user));
                }
                return RxJava2Adapter.monoToSingle(Mono.error(ex));
            });
        })).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
            if (user.isPreRegistration()) {
                user.setRegistrationCompleted(true);
                user.setEnabled(true);
            }
            user.setPassword(null);
            user.setExternalId(idpUser.getId());
            user.setLastPasswordReset(new Date());
            user.setUpdatedAt(new Date());
            return userService.update(user);
        }).apply(a)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).throwable(throwable)))));
    });
}).apply(v)))).flatMap
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(checkClientFunction().apply(domain.getId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(checkClientFunction().apply(domain.getId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(password);
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            user.setPassword(password);
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    return userService.update(user);
}).apply(a)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(password);
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            user.setPassword(password);
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    return userService.update(user);
}).apply(a)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).user(user)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((userProvider)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((idpUser)->{
        ((DefaultUser)idpUser).setCredentials(password);
        return userProvider.update(idpUser.getId(), idpUser);
    }).onErrorResumeNext((ex)->{
        if (ex instanceof UserNotFoundException) {
            user.setPassword(password);
            return userProvider.create(convert(user));
        }
        return RxJava2Adapter.monoToSingle(Mono.error(ex));
    });
})).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((idpUser)->{
    if (user.isPreRegistration()) {
        user.setRegistrationCompleted(true);
        user.setEnabled(true);
    }
    user.setPassword(null);
    user.setExternalId(idpUser.getId());
    user.setLastPasswordReset(new Date());
    user.setUpdatedAt(new Date());
    return userService.update(user);
}).apply(a)))).doOnSuccess
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap((domain1)->RxJava2Adapter.singleToMono(findById(ReferenceType.DOMAIN, domainId, userId)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((io.gravitee.am.model.User user)->{
    if (!user.isPreRegistration()) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Pre-registration is disabled for the user " + userId)));
    }
    if (user.isPreRegistration() && user.isRegistrationCompleted()) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Registration is completed for the user " + userId)));
    }
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> optClient)->new Thread(()->emailService.send(domain1, optClient.orElse(null), Template.REGISTRATION_CONFIRMATION, user)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> __)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).throwable(throwable)))).then());
}).apply(y)))).then()).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap((domain1)->RxJava2Adapter.singleToMono(findById(ReferenceType.DOMAIN, domainId, userId)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((io.gravitee.am.model.User user)->{
    if (!user.isPreRegistration()) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Pre-registration is disabled for the user " + userId)));
    }
    if (user.isPreRegistration() && user.isRegistrationCompleted()) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Registration is completed for the user " + userId)));
    }
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> optClient)->new Thread(()->emailService.send(domain1, optClient.orElse(null), Template.REGISTRATION_CONFIRMATION, user)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> __)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).throwable(throwable)))).then());
}).apply(y)))).then()).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))
1 | Mono | then | METHOD_INVOCATION | (domain1)->RxJava2Adapter.singleToMono(findById(ReferenceType.DOMAIN, domainId, userId)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((io.gravitee.am.model.User user)->{
    if (!user.isPreRegistration()) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Pre-registration is disabled for the user " + userId)));
    }
    if (user.isPreRegistration() && user.isRegistrationCompleted()) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Registration is completed for the user " + userId)));
    }
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> optClient)->new Thread(()->emailService.send(domain1, optClient.orElse(null), Template.REGISTRATION_CONFIRMATION, user)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> __)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).throwable(throwable)))).then());
}).apply(y)))).then()
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findById(ReferenceType.DOMAIN, domainId, userId)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<User, CompletableSource>toJdkFunction((io.gravitee.am.model.User user)->{
    if (!user.isPreRegistration()) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Pre-registration is disabled for the user " + userId)));
    }
    if (user.isPreRegistration() && user.isRegistrationCompleted()) {
        return RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Registration is completed for the user " + userId)));
    }
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> optClient)->new Thread(()->emailService.send(domain1, optClient.orElse(null), Template.REGISTRATION_CONFIRMATION, user)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> __)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).throwable(throwable)))).then());
}).apply(y)))).then
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Pre-registration is disabled for the user " + userId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new UserInvalidException("Registration is completed for the user " + userId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> optClient)->new Thread(()->emailService.send(domain1, optClient.orElse(null), Template.REGISTRATION_CONFIRMATION, user)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> __)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).throwable(throwable)))).then())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> optClient)->new Thread(()->emailService.send(domain1, optClient.orElse(null), Template.REGISTRATION_CONFIRMATION, user)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> __)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).throwable(throwable)))).then
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> optClient)->new Thread(()->emailService.send(domain1, optClient.orElse(null), Template.REGISTRATION_CONFIRMATION, user)).start())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> __)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.REGISTRATION_CONFIRMATION_REQUESTED).user(user)))).doOnError
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((java.util.Optional<io.gravitee.am.model.Application> optClient)->new Thread(()->emailService.send(domain1, optClient.orElse(null), Template.REGISTRATION_CONFIRMATION, user)).start())).doOnSuccess
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()).doOnSuccess
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(checkClientFunction().apply(user.getReferenceId(), user.getClient())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(findById(referenceType, referenceId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user.getReferenceId()).client(user.getClient()).username(user.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(RxJava2Adapter.singleToMono(userService.update(user))));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UNLOCKED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UNLOCKED).throwable(throwable)))).then())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findById(referenceType, referenceId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user.getReferenceId()).client(user.getClient()).username(user.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(RxJava2Adapter.singleToMono(userService.update(user))));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UNLOCKED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UNLOCKED).throwable(throwable)))).then
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findById(referenceType, referenceId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user.getReferenceId()).client(user.getClient()).username(user.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(RxJava2Adapter.singleToMono(userService.update(user))));
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UNLOCKED).user(user1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(findById(referenceType, referenceId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setAccountNonLocked(true);
    user.setAccountLockedAt(null);
    user.setAccountLockedUntil(null);
    LoginAttemptCriteria criteria = new LoginAttemptCriteria.Builder().domain(user.getReferenceId()).client(user.getClient()).username(user.getUsername()).build();
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(RxJava2Adapter.singleToMono(userService.update(user))));
}).apply(v)))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(loginAttemptService.reset(criteria)).then(RxJava2Adapter.singleToMono(userService.update(user))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.update(userToUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.update(userToUpdate)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).user(user1).oldValue(oldUser)))).doOnError
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findById(referenceType, referenceId, userId)).flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<User, Single<User>>)(oldUser)->{
    User userToUpdate = new User(oldUser);
    if (revoke) {
        if (userToUpdate.getRoles() != null) {
            userToUpdate.getRoles().removeAll(roles);
        }
    } else {
        userToUpdate.setRoles(roles);
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(userService.update(userToUpdate)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_ROLES_ASSIGNED).oldValue(oldUser).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_ROLES_ASSIGNED).throwable(throwable)))));
}).apply(v))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(userService.update(userToUpdate)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_ROLES_ASSIGNED).oldValue(oldUser).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_ROLES_ASSIGNED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(userService.update(userToUpdate)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_ROLES_ASSIGNED).oldValue(oldUser).user(user1)))).doOnError
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(userService.update(userToUpdate)))).doOnSuccess
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkRoles(roles)).then(Mono.defer(()->RxJava2Adapter.singleToMono(userService.update(userToUpdate))))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationService.findById(client)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, client)))).switchIfEmpty(Mono.error(new ClientNotFoundException(client))).map(RxJavaReactorMigrationUtil.toJdkFunction((app1)->{
    if (!domain.equals(app1.getDomain())) {
        throw new ClientNotFoundException(client);
    }
    return app1;
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findById(client)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, client)))).switchIfEmpty(Mono.error(new ClientNotFoundException(client))).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findById(client)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, client)))).switchIfEmpty
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findById(client)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, client))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findById(client)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, client)))).switchIfEmpty(Mono.error(new ClientNotFoundException(client)))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.findByIdIn(roles)).map(RxJavaReactorMigrationUtil.toJdkFunction((roles1)->{
    if (roles1.size() != roles.size()) {
        roles.removeAll(roles1.stream().map(Role::getId).collect(Collectors.toList()));
        throw new RoleNotFoundException(String.join(",", roles));
    }
    return roles1;
})))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().findById(referenceType, referenceId, id)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(updateUser)).then(RxJava2Adapter.singleToMono(getUserService().findById(referenceType, referenceId, id)).flatMap((user)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((io.gravitee.am.identityprovider.api.UserProvider userProvider)->{
    String client = updateUser.getClient() != null ? updateUser.getClient() : user.getClient();
    if (client != null && referenceType == ReferenceType.DOMAIN) {
        return checkClient.apply(referenceId, client).flatMapSingle((io.gravitee.am.model.Application client1)->{
            updateUser.setClient(client1.getId());
            return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
        });
    }
    return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
})).flatMap((userProvider)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((io.gravitee.am.identityprovider.api.User idpUser)->userProvider.update(idpUser.getId(), convert(user.getUsername(), updateUser))))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    updateUser.setExternalId(idpUser.getId());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
}).apply(v))))).onErrorResumeNext((java.lang.Throwable ex)->{
    if (ex instanceof UserNotFoundException) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((io.gravitee.am.model.User user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).oldValue(user).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable)))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userValidator.validate(updateUser)).then(RxJava2Adapter.singleToMono(getUserService().findById(referenceType, referenceId, id)).flatMap((user)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((io.gravitee.am.identityprovider.api.UserProvider userProvider)->{
    String client = updateUser.getClient() != null ? updateUser.getClient() : user.getClient();
    if (client != null && referenceType == ReferenceType.DOMAIN) {
        return checkClient.apply(referenceId, client).flatMapSingle((io.gravitee.am.model.Application client1)->{
            updateUser.setClient(client1.getId());
            return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
        });
    }
    return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
})).flatMap((userProvider)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((io.gravitee.am.identityprovider.api.User idpUser)->userProvider.update(idpUser.getId(), convert(user.getUsername(), updateUser))))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    updateUser.setExternalId(idpUser.getId());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
}).apply(v))))).onErrorResumeNext((java.lang.Throwable ex)->{
    if (ex instanceof UserNotFoundException) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((io.gravitee.am.model.User user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).oldValue(user).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable))))))
1 | Mono | doOnError | METHOD_INVOCATION | (user)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((io.gravitee.am.identityprovider.api.UserProvider userProvider)->{
    String client = updateUser.getClient() != null ? updateUser.getClient() : user.getClient();
    if (client != null && referenceType == ReferenceType.DOMAIN) {
        return checkClient.apply(referenceId, client).flatMapSingle((io.gravitee.am.model.Application client1)->{
            updateUser.setClient(client1.getId());
            return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
        });
    }
    return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
})).flatMap((userProvider)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((io.gravitee.am.identityprovider.api.User idpUser)->userProvider.update(idpUser.getId(), convert(user.getUsername(), updateUser))))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    updateUser.setExternalId(idpUser.getId());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
}).apply(v))))).onErrorResumeNext((java.lang.Throwable ex)->{
    if (ex instanceof UserNotFoundException) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((io.gravitee.am.model.User user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).oldValue(user).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).throwable(throwable))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((io.gravitee.am.identityprovider.api.UserProvider userProvider)->{
    String client = updateUser.getClient() != null ? updateUser.getClient() : user.getClient();
    if (client != null && referenceType == ReferenceType.DOMAIN) {
        return checkClient.apply(referenceId, client).flatMapSingle((io.gravitee.am.model.Application client1)->{
            updateUser.setClient(client1.getId());
            return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
        });
    }
    return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
})).flatMap((userProvider)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((io.gravitee.am.identityprovider.api.User idpUser)->userProvider.update(idpUser.getId(), convert(user.getUsername(), updateUser))))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    updateUser.setExternalId(idpUser.getId());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
}).apply(v))))).onErrorResumeNext((java.lang.Throwable ex)->{
    if (ex instanceof UserNotFoundException) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((io.gravitee.am.model.User user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_UPDATED).oldValue(user).user(user1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((io.gravitee.am.identityprovider.api.UserProvider userProvider)->{
    String client = updateUser.getClient() != null ? updateUser.getClient() : user.getClient();
    if (client != null && referenceType == ReferenceType.DOMAIN) {
        return checkClient.apply(referenceId, client).flatMapSingle((io.gravitee.am.model.Application client1)->{
            updateUser.setClient(client1.getId());
            return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
        });
    }
    return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
})).flatMap((userProvider)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((io.gravitee.am.identityprovider.api.User idpUser)->userProvider.update(idpUser.getId(), convert(user.getUsername(), updateUser))))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.identityprovider.api.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((io.gravitee.am.identityprovider.api.User idpUser)->{
    updateUser.setExternalId(idpUser.getId());
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)));
}).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))).flatMapSingle((io.gravitee.am.identityprovider.api.UserProvider userProvider)->{
    String client = updateUser.getClient() != null ? updateUser.getClient() : user.getClient();
    if (client != null && referenceType == ReferenceType.DOMAIN) {
        return checkClient.apply(referenceId, client).flatMapSingle((io.gravitee.am.model.Application client1)->{
            updateUser.setClient(client1.getId());
            return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
        });
    }
    return RxJava2Adapter.monoToSingle(Mono.just(userProvider));
})).flatMap((userProvider)->RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))).flatMapSingle((io.gravitee.am.identityprovider.api.User idpUser)->userProvider.update(idpUser.getId(), convert(user.getUsername(), updateUser))))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(user.getSource())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(userProvider))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userProvider.findByUsername(user.getUsername())).switchIfEmpty(Mono.error(new UserNotFoundException(user.getUsername())))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().update(referenceType, referenceId, id, updateUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getUserService().findById(referenceType, referenceId, id)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setEnabled(status);
    return getUserService().update(user);
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type((status ? EventType.USER_ENABLED : EventType.USER_DISABLED)).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type((status ? EventType.USER_ENABLED : EventType.USER_DISABLED)).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(getUserService().findById(referenceType, referenceId, id)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setEnabled(status);
    return getUserService().update(user);
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type((status ? EventType.USER_ENABLED : EventType.USER_DISABLED)).user(user1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(getUserService().findById(referenceType, referenceId, id)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setEnabled(status);
    return getUserService().update(user);
}).apply(v)))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(getUserService().findById(referenceType, referenceId, userId)).flatMap((user)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<UserProvider>, CompletableSource>)(java.util.Optional<io.gravitee.am.identityprovider.api.UserProvider> optUserProvider)->{
    if (!optUserProvider.isPresent()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    if (user.getExternalId() == null || user.getExternalId().isEmpty()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    return optUserProvider.get().delete(user.getExternalId()).onErrorResumeNext((java.lang.Throwable ex)->{
        if (ex instanceof UserNotFoundException) {
            return RxJava2Adapter.monoToCompletable(Mono.empty());
        }
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    });
}).apply(y)))).then(RxJava2Adapter.completableToMono(getUserService().delete(userId))).then(RxJava2Adapter.completableToMono(Completable.wrap((ReferenceType.ORGANIZATION != referenceType) ? RxJava2Adapter.monoToCompletable(Mono.empty()) : RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(membershipService.findByMember(userId, MemberType.USER)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((io.gravitee.am.model.Membership membership)->membershipService.delete(membership.getId())).apply(y)))).then()))))).doOnComplete(()->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_DELETED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_DELETED).throwable(throwable))))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(getUserService().findById(referenceType, referenceId, userId)).flatMap((user)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<UserProvider>, CompletableSource>)(java.util.Optional<io.gravitee.am.identityprovider.api.UserProvider> optUserProvider)->{
    if (!optUserProvider.isPresent()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    if (user.getExternalId() == null || user.getExternalId().isEmpty()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    return optUserProvider.get().delete(user.getExternalId()).onErrorResumeNext((java.lang.Throwable ex)->{
        if (ex instanceof UserNotFoundException) {
            return RxJava2Adapter.monoToCompletable(Mono.empty());
        }
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    });
}).apply(y)))).then(RxJava2Adapter.completableToMono(getUserService().delete(userId))).then(RxJava2Adapter.completableToMono(Completable.wrap((ReferenceType.ORGANIZATION != referenceType) ? RxJava2Adapter.monoToCompletable(Mono.empty()) : RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(membershipService.findByMember(userId, MemberType.USER)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((io.gravitee.am.model.Membership membership)->membershipService.delete(membership.getId())).apply(y)))).then()))))).doOnComplete(()->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_DELETED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_DELETED).throwable(throwable))))).then
1 | Mono | doOnError | METHOD_INVOCATION | (user)->RxJava2Adapter.completableToMono(RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<UserProvider>, CompletableSource>)(java.util.Optional<io.gravitee.am.identityprovider.api.UserProvider> optUserProvider)->{
    if (!optUserProvider.isPresent()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    if (user.getExternalId() == null || user.getExternalId().isEmpty()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    return optUserProvider.get().delete(user.getExternalId()).onErrorResumeNext((java.lang.Throwable ex)->{
        if (ex instanceof UserNotFoundException) {
            return RxJava2Adapter.monoToCompletable(Mono.empty());
        }
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    });
}).apply(y)))).then(RxJava2Adapter.completableToMono(getUserService().delete(userId))).then(RxJava2Adapter.completableToMono(Completable.wrap((ReferenceType.ORGANIZATION != referenceType) ? RxJava2Adapter.monoToCompletable(Mono.empty()) : RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(membershipService.findByMember(userId, MemberType.USER)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((io.gravitee.am.model.Membership membership)->membershipService.delete(membership.getId())).apply(y)))).then()))))).doOnComplete(()->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_DELETED).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((java.lang.Throwable throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_DELETED).throwable(throwable))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<UserProvider>, CompletableSource>)(java.util.Optional<io.gravitee.am.identityprovider.api.UserProvider> optUserProvider)->{
    if (!optUserProvider.isPresent()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    if (user.getExternalId() == null || user.getExternalId().isEmpty()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    return optUserProvider.get().delete(user.getExternalId()).onErrorResumeNext((java.lang.Throwable ex)->{
        if (ex instanceof UserNotFoundException) {
            return RxJava2Adapter.monoToCompletable(Mono.empty());
        }
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    });
}).apply(y)))).then(RxJava2Adapter.completableToMono(getUserService().delete(userId))).then(RxJava2Adapter.completableToMono(Completable.wrap((ReferenceType.ORGANIZATION != referenceType) ? RxJava2Adapter.monoToCompletable(Mono.empty()) : RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(membershipService.findByMember(userId, MemberType.USER)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((io.gravitee.am.model.Membership membership)->membershipService.delete(membership.getId())).apply(y)))).then())))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<UserProvider>, CompletableSource>)(java.util.Optional<io.gravitee.am.identityprovider.api.UserProvider> optUserProvider)->{
    if (!optUserProvider.isPresent()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    if (user.getExternalId() == null || user.getExternalId().isEmpty()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    return optUserProvider.get().delete(user.getExternalId()).onErrorResumeNext((java.lang.Throwable ex)->{
        if (ex instanceof UserNotFoundException) {
            return RxJava2Adapter.monoToCompletable(Mono.empty());
        }
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    });
}).apply(y)))).then(RxJava2Adapter.completableToMono(getUserService().delete(userId))).then
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<UserProvider>, CompletableSource>)(java.util.Optional<io.gravitee.am.identityprovider.api.UserProvider> optUserProvider)->{
    if (!optUserProvider.isPresent()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    if (user.getExternalId() == null || user.getExternalId().isEmpty()) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    return optUserProvider.get().delete(user.getExternalId()).onErrorResumeNext((java.lang.Throwable ex)->{
        if (ex instanceof UserNotFoundException) {
            return RxJava2Adapter.monoToCompletable(Mono.empty());
        }
        return RxJava2Adapter.monoToCompletable(Mono.error(ex));
    });
}).apply(y)))).then
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).flatMap
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(ex))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(membershipService.findByMember(userId, MemberType.USER)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((io.gravitee.am.model.Membership membership)->membershipService.delete(membership.getId())).apply(y)))).then())
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByMember(userId, MemberType.USER)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<Membership, CompletableSource>toJdkFunction((io.gravitee.am.model.Membership membership)->membershipService.delete(membership.getId())).apply(y)))).then
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(certificateProvider))
1 | Mono | block | METHOD_INVOCATION | Certificate certificate = RxJava2Adapter.maybeToMono(certificateService.findById(certificateId)).block()
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(certificateProvider))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromArray(io.gravitee.am.common.oidc.Scope.values()).flatMapSingle((scope)->createSystemScope(domain.getId(), scope)).lastOrError()).map(RxJavaReactorMigrationUtil.toJdkFunction((scope)->domain)))
1 | Mono | RETURN_TYPE
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, systemScope.getKey())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty(Optional.empty()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, systemScope.getKey())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::of)).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(optScope.get()))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(policyRepository.collectionExists()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, CompletableSource>)(collectionExists)->{
    if (collectionExists) {
        LOGGER.info("Policies collection exists, upgrading policies to flows");
        return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policyRepository.findAll()).groupBy(RxJavaReactorMigrationUtil.toJdkFunction(Policy::getDomain)).map(RxJavaReactorMigrationUtil::groupedFluxToGroupedFlowable).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<GroupedFlowable<String, Policy>, CompletableSource>toJdkFunction((policiesPerDomain)->{
            final String domain = policiesPerDomain.getKey();
            return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policiesPerDomain).collectList().flatMap((x)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Policy>, CompletableSource>toJdkFunction((policies)->migrateToFlows(policies, domain)).apply(x)))).then());
        }).apply(z)))).then().then(RxJava2Adapter.completableToMono(policyRepository.deleteCollection())));
    } else {
        LOGGER.info("Policies collection doesn\'t exist, skip upgrade");
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(policyRepository.collectionExists()).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, CompletableSource>)(collectionExists)->{
    if (collectionExists) {
        LOGGER.info("Policies collection exists, upgrading policies to flows");
        return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policyRepository.findAll()).groupBy(RxJavaReactorMigrationUtil.toJdkFunction(Policy::getDomain)).map(RxJavaReactorMigrationUtil::groupedFluxToGroupedFlowable).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<GroupedFlowable<String, Policy>, CompletableSource>toJdkFunction((policiesPerDomain)->{
            final String domain = policiesPerDomain.getKey();
            return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policiesPerDomain).collectList().flatMap((x)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Policy>, CompletableSource>toJdkFunction((policies)->migrateToFlows(policies, domain)).apply(x)))).then());
        }).apply(z)))).then().then(RxJava2Adapter.completableToMono(policyRepository.deleteCollection())));
    } else {
        LOGGER.info("Policies collection doesn\'t exist, skip upgrade");
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
}).apply(y)))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policyRepository.findAll()).groupBy(RxJavaReactorMigrationUtil.toJdkFunction(Policy::getDomain)).map(RxJavaReactorMigrationUtil::groupedFluxToGroupedFlowable).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<GroupedFlowable<String, Policy>, CompletableSource>toJdkFunction((policiesPerDomain)->{
    final String domain = policiesPerDomain.getKey();
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policiesPerDomain).collectList().flatMap((x)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Policy>, CompletableSource>toJdkFunction((policies)->migrateToFlows(policies, domain)).apply(x)))).then());
}).apply(z)))).then().then(RxJava2Adapter.completableToMono(policyRepository.deleteCollection())))
1 | Flux | then | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(policyRepository.findAll()).groupBy(RxJavaReactorMigrationUtil.toJdkFunction(Policy::getDomain)).map(RxJavaReactorMigrationUtil::groupedFluxToGroupedFlowable).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<GroupedFlowable<String, Policy>, CompletableSource>toJdkFunction((policiesPerDomain)->{
    final String domain = policiesPerDomain.getKey();
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policiesPerDomain).collectList().flatMap((x)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Policy>, CompletableSource>toJdkFunction((policies)->migrateToFlows(policies, domain)).apply(x)))).then());
}).apply(z)))).then().then
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(policyRepository.findAll()).groupBy(RxJavaReactorMigrationUtil.toJdkFunction(Policy::getDomain)).map(RxJavaReactorMigrationUtil::groupedFluxToGroupedFlowable).flatMap((z)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<GroupedFlowable<String, Policy>, CompletableSource>toJdkFunction((policiesPerDomain)->{
    final String domain = policiesPerDomain.getKey();
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policiesPerDomain).collectList().flatMap((x)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Policy>, CompletableSource>toJdkFunction((policies)->migrateToFlows(policies, domain)).apply(x)))).then());
}).apply(z)))).then
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(policyRepository.findAll()).groupBy(RxJavaReactorMigrationUtil.toJdkFunction(Policy::getDomain)).map(RxJavaReactorMigrationUtil::groupedFluxToGroupedFlowable).flatMap
1 | Flux | groupBy | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(policyRepository.findAll()).groupBy(RxJavaReactorMigrationUtil.toJdkFunction(Policy::getDomain)).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(policiesPerDomain).collectList().flatMap((x)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Policy>, CompletableSource>toJdkFunction((policies)->migrateToFlows(policies, domain)).apply(x)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(policiesPerDomain).collectList().flatMap((x)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.<List<Policy>, CompletableSource>toJdkFunction((policies)->migrateToFlows(policies, domain)).apply(x)))).then
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(policiesPerDomain).collectList().flatMap
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | RETURN_TYPE
1 | Mono | doOnError | METHOD_INVOCATION | Observable.fromIterable(flows.values()).flatMapCompletable((flow)->flowService.create(ReferenceType.DOMAIN, domain, flow).toCompletable()).doOnComplete(()->LOGGER.info("Policies migrated to flows for domain {}", domain)).as(RxJava2Adapter::completableToMono).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->LOGGER.info("Error during policies migration for domain {}", domain, error))).as
1 | Mono | block | METHOD_INVOCATION | final PolicyPlugin policyPlugin = RxJava2Adapter.maybeToMono(policyPluginService.findById(policy.getType())).block()
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | block | METHOD_INVOCATION | Organization organization = RxJava2Adapter.maybeToMono(organizationService.createDefault()).block()
1 | Mono | block | METHOD_INVOCATION | Domain adminDomain = RxJava2Adapter.maybeToMono(domainService.findById(ADMIN_DOMAIN)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.update(organization.getId(), patchOrganization, null)).block();
1 | Mono | block | METHOD_INVOCATION | Role organizationOwnerRole = RxJava2Adapter.maybeToMono(roleService.findDefaultRole(Organization.DEFAULT, DefaultRole.ORGANIZATION_OWNER, ReferenceType.ORGANIZATION)).block()
1 | Mono | block | METHOD_INVOCATION | userPage = RxJava2Adapter.singleToMono(userService.findAll(ReferenceType.ORGANIZATION, Organization.DEFAULT, page, PAGE_SIZE)).block()
1 | Mono | block | METHOD_INVOCATION | organization = RxJava2Adapter.singleToMono(organizationService.findById(Organization.DEFAULT)).block()
1 | Mono | block | METHOD_INVOCATION | IdentityProvider inlineIdp = RxJava2Adapter.flowableToFlux(identityProviderService.findAll(ReferenceType.ORGANIZATION, Organization.DEFAULT)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->identityProvider.getType().equals("inline-am-idp") && !identityProvider.isExternal() && identities.contains(identityProvider.getId()))).next().block()
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityProviderService.findAll(ReferenceType.ORGANIZATION, Organization.DEFAULT)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->identityProvider.getType().equals("inline-am-idp") && !identityProvider.isExternal() && identities.contains(identityProvider.getId()))).next().block
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityProviderService.findAll(ReferenceType.ORGANIZATION, Organization.DEFAULT)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->identityProvider.getType().equals("inline-am-idp") && !identityProvider.isExternal() && identities.contains(identityProvider.getId()))).next
1 | Mono | block | METHOD_INVOCATION | User adminUser = RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, Organization.DEFAULT, ADMIN_USERNAME, inlineIdp.getId())).block()
1 | Mono | block | METHOD_INVOCATION | IdentityProvider createdIdentityProvider = RxJava2Adapter.singleToMono(identityProviderService.create(ReferenceType.ORGANIZATION, Organization.DEFAULT, adminIdentityProvider, null)).block()
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.update(Organization.DEFAULT, patchOrganization, null)).block();
1 | Mono | block | METHOD_INVOCATION | return RxJava2Adapter.singleToMono(userService.create(newUser)).block();
1 | Mono | block | METHOD_INVOCATION | Role adminRole = RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.ORGANIZATION_PRIMARY_OWNER, ReferenceType.ORGANIZATION)).block()
1 | Mono | block | METHOD_INVOCATION | Role organizationPrimaryOwnerRole = RxJava2Adapter.maybeToMono(roleService.findSystemRole(SystemRole.ORGANIZATION_PRIMARY_OWNER, ReferenceType.ORGANIZATION)).block()
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(membershipService.findByCriteria(ReferenceType.ORGANIZATION, Organization.DEFAULT, criteria)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((membership)->membership.getMemberType() == MemberType.USER)))
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(membershipService.setPlatformAdmin(member.getMemberId())).block();
1 | Mono | block | METHOD_INVOCATION | Boolean alreadyHasMembership = RxJava2Adapter.singleToMono(membershipService.findByCriteria(ReferenceType.ORGANIZATION, Organization.DEFAULT, criteria).count()).map(RxJavaReactorMigrationUtil.toJdkFunction((count)->count > 0)).block()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(membershipService.findByCriteria(ReferenceType.ORGANIZATION, Organization.DEFAULT, criteria).count()).map(RxJavaReactorMigrationUtil.toJdkFunction((count)->count > 0)).block
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(membershipService.addOrUpdate(Organization.DEFAULT, membership)).block();
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(installationService.getOrInitialize()).map(RxJavaReactorMigrationUtil.toJdkFunction((installation)->{
    command.getPayload().getNode().setInstallationId(installation.getId());
    command.getPayload().getNode().setHostname(node.hostname());
    command.getPayload().getAdditionalInformation().putAll(installation.getAdditionalInformation());
    command.getPayload().getAdditionalInformation().put(API_URL, apiURL);
    command.getPayload().getAdditionalInformation().put(UI_URL, uiURL);
    command.getPayload().setDefaultOrganizationId(Organization.DEFAULT);
    command.getPayload().setDefaultEnvironmentId(Environment.DEFAULT);
    return command;
})))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(installationService.get()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((infos)->infos.put(Installation.COCKPIT_INSTALLATION_ID, reply.getInstallationId()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((infos)->infos.put(Installation.COCKPIT_INSTALLATION_STATUS, reply.getInstallationStatus()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Map<String, String>, SingleSource<Installation>>toJdkFunction(installationService::setAdditionalInformation).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((installation)->reply)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.get()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((infos)->infos.put(Installation.COCKPIT_INSTALLATION_ID, reply.getInstallationId()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((infos)->infos.put(Installation.COCKPIT_INSTALLATION_STATUS, reply.getInstallationStatus()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Map<String, String>, SingleSource<Installation>>toJdkFunction(installationService::setAdditionalInformation).apply(v)))).map
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.get()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((infos)->infos.put(Installation.COCKPIT_INSTALLATION_ID, reply.getInstallationId()))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((infos)->infos.put(Installation.COCKPIT_INSTALLATION_STATUS, reply.getInstallationStatus()))).flatMap
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.get()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((infos)->infos.put(Installation.COCKPIT_INSTALLATION_ID, reply.getInstallationId()))).doOnSuccess
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.get()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(reply))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new NotImplementedException()))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(referenceType, referenceId, newUser.getExternalId(), newUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(referenceType, referenceId, newUser.getUsername(), newUser.getSource())))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.model.User>>toJdkFunction((existingUser)->{
    updateInfos(existingUser, newUser);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(userService.update(existingUser)));
}).apply(v)))).switchIfEmpty(RxJava2Adapter.singleToMono(Single.defer(()->{
    User user = transform(newUser, referenceType, referenceId);
    return userService.create(user);
}))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(referenceType, referenceId, newUser.getExternalId(), newUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(referenceType, referenceId, newUser.getUsername(), newUser.getSource())))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.model.User>>toJdkFunction((existingUser)->{
    updateInfos(existingUser, newUser);
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(userService.update(existingUser)));
}).apply(v)))).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(referenceType, referenceId, newUser.getExternalId(), newUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(referenceType, referenceId, newUser.getUsername(), newUser.getSource())))).flatMap
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(referenceType, referenceId, newUser.getExternalId(), newUser.getSource())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(referenceType, referenceId, newUser.getUsername(), newUser.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserInvalidException("Invalid identity provider for [\'" + newUser.getUsername() + "\']")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organization.getId(), newUser.getUsername(), newUser.getSource())).hasElement().flatMap((v)->RxJava2Adapter.singleToMono((Single<User>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, Single<User>>)(isEmpty)->{
    if (!isEmpty) {
        return RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(newUser.getUsername())));
    } else {
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(newUser.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(newUser.getSource())))).flatMapSingle((userProvider)->{
            newUser.setDomain(null);
            newUser.setClient(null);
            newUser.setInternal(true);
            String password = newUser.getPassword();
            if (password == null || !passwordValidator.isValid(password)) {
                return RxJava2Adapter.monoToSingle(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")));
            }
            newUser.setRegistrationCompleted(true);
            newUser.setEnabled(true);
            final User userToPersist = transform(newUser, ReferenceType.ORGANIZATION, organization.getId());
            userToPersist.setReferenceId(organization.getId());
            userToPersist.setReferenceType(ReferenceType.ORGANIZATION);
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(userToPersist)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
                userToPersist.setPassword(PWD_ENCODER.encode(newUser.getPassword()));
                userToPersist.setId(RandomString.generate());
                userToPersist.setExternalId(userToPersist.getId());
                return userToPersist;
            })).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((newOrgUser)->{
                return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newOrgUser)).flatMap((newlyCreatedUser)->RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))));
            }).apply(a)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus))));
        });
    }
}).apply(v))))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organization.getId(), newUser.getUsername(), newUser.getSource())).hasElement().flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserAlreadyExistsException(newUser.getUsername())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(newUser.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(newUser.getSource()))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderManager.getUserProvider(newUser.getSource())).switchIfEmpty(Mono.error(new UserProviderNotFoundException(newUser.getSource())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(userValidator.validate(userToPersist)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    userToPersist.setPassword(PWD_ENCODER.encode(newUser.getPassword()));
    userToPersist.setId(RandomString.generate());
    userToPersist.setExternalId(userToPersist.getId());
    return userToPersist;
})).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((newOrgUser)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newOrgUser)).flatMap((newlyCreatedUser)->RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))));
}).apply(a)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userValidator.validate(userToPersist)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userValidator.validate(userToPersist)).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))).then(RxJava2Adapter.singleToMono(userProvider.create(convert(newUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    userToPersist.setPassword(PWD_ENCODER.encode(newUser.getPassword()));
    userToPersist.setId(RandomString.generate());
    userToPersist.setExternalId(userToPersist.getId());
    return userToPersist;
})).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((newOrgUser)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newOrgUser)).flatMap((newlyCreatedUser)->RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))));
}).apply(a)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::setInternalStatus)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userProvider.create(convert(newUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    userToPersist.setPassword(PWD_ENCODER.encode(newUser.getPassword()));
    userToPersist.setId(RandomString.generate());
    userToPersist.setExternalId(userToPersist.getId());
    return userToPersist;
})).flatMap((a)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((newOrgUser)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newOrgUser)).flatMap((newlyCreatedUser)->RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))));
}).apply(a)))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userProvider.create(convert(newUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((idpUser)->{
    userToPersist.setPassword(PWD_ENCODER.encode(newUser.getPassword()));
    userToPersist.setId(RandomString.generate());
    userToPersist.setExternalId(userToPersist.getId());
    return userToPersist;
})).flatMap
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newOrgUser)).flatMap((newlyCreatedUser)->RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).throwable(throwable)))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.create(newOrgUser)).flatMap((newlyCreatedUser)->RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_CREATED).user(user1)))).doOnError
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.create(newOrgUser)).flatMap((newlyCreatedUser)->RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))).doOnSuccess
1 | Mono | then | METHOD_INVOCATION | (newlyCreatedUser)->RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userService.setRoles(newlyCreatedUser)).then(Mono.just(newlyCreatedUser))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(InvalidPasswordException.of("Field [password] is invalid", "invalid_password_value")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidUserException("Unsupported source for this action")))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(userService.update(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).throwable(throwable)))).then())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.update(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).user(user)))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((throwable)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).throwable(throwable)))).then
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.update(user)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user1)->auditService.report(AuditBuilder.builder(UserAuditBuilder.class).principal(principal).type(EventType.USER_PASSWORD_RESET).user(user)))).doOnError
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | RETURN_TYPE
1 | Flux | onErrorResume | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(Flux.fromIterable(notifierPluginManager.findAll())).flatMapSingle((plugin)->convert(plugin, expand))).onErrorResume(RxJavaReactorMigrationUtil.toJdkFunction((throwable)->{
    return RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to get notifier plugins", throwable)));
})))
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(notifierPluginManager.findAll()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("An error occurs while trying to get notifier plugins", throwable)))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.findById(notifierId))).flatMap((z)->RxJava2Adapter.singleToMono(convert(z)))).onErrorResumeNext((throwable)->{
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error occurs while trying to get notifier plugin " + notifierId, throwable)));
})).switchIfEmpty(Mono.defer(()->Mono.error(new NotifierPluginNotFoundException(notifierId)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.findById(notifierId))).flatMap((z)->RxJava2Adapter.singleToMono(convert(z))))
1 | Mono | fromSupplier | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.findById(notifierId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error occurs while trying to get notifier plugin " + notifierId, throwable)))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.findById(notifierId))).flatMap((z)->RxJava2Adapter.singleToMono(convert(z)))).onErrorResumeNext((throwable)->{
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error occurs while trying to get notifier plugin " + notifierId, throwable)));
})).switchIfEmpty(Mono.defer(()->Mono.error(new NotifierPluginNotFoundException(notifierId))))
1 | Mono | error | METHOD_INVOCATION | ()->Mono.error(new NotifierPluginNotFoundException(notifierId))
1 | Mono | RETURN_TYPE
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.getSchema(notifierId))).map(RxJavaReactorMigrationUtil.toJdkFunction(objectMapper::readTree)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((jsonSchema)->{
    final JsonNode propertiesNode = jsonSchema.get("properties");
    JsonNode messageNode = null;
    if (propertiesNode instanceof ObjectNode) {
        if (propertiesNode.has("message")) {
            messageNode = propertiesNode.get("message");
        } else if (propertiesNode.has("body")) {
            messageNode = propertiesNode.get("body");
        }
    }
    if (messageNode instanceof ObjectNode) {
        ((ObjectNode)messageNode).put("default", DEFAULT_NOTIFIER_MESSAGE);
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction(JsonNode::toString))).onErrorResumeNext((throwable)->{
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error occurs while trying to get schema for notifier plugin " + notifierId, throwable)));
})).switchIfEmpty(Mono.defer(()->Mono.error(new NotifierPluginSchemaNotFoundException(notifierId)))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.getSchema(notifierId))).map(RxJavaReactorMigrationUtil.toJdkFunction(objectMapper::readTree)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((jsonSchema)->{
    final JsonNode propertiesNode = jsonSchema.get("properties");
    JsonNode messageNode = null;
    if (propertiesNode instanceof ObjectNode) {
        if (propertiesNode.has("message")) {
            messageNode = propertiesNode.get("message");
        } else if (propertiesNode.has("body")) {
            messageNode = propertiesNode.get("body");
        }
    }
    if (messageNode instanceof ObjectNode) {
        ((ObjectNode)messageNode).put("default", DEFAULT_NOTIFIER_MESSAGE);
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction(JsonNode::toString)))
1 | Mono | doOnSuccess | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.getSchema(notifierId))).map(RxJavaReactorMigrationUtil.toJdkFunction(objectMapper::readTree)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((jsonSchema)->{
    final JsonNode propertiesNode = jsonSchema.get("properties");
    JsonNode messageNode = null;
    if (propertiesNode instanceof ObjectNode) {
        if (propertiesNode.has("message")) {
            messageNode = propertiesNode.get("message");
        } else if (propertiesNode.has("body")) {
            messageNode = propertiesNode.get("body");
        }
    }
    if (messageNode instanceof ObjectNode) {
        ((ObjectNode)messageNode).put("default", DEFAULT_NOTIFIER_MESSAGE);
    }
})).map
1 | Mono | map | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.getSchema(notifierId))).map(RxJavaReactorMigrationUtil.toJdkFunction(objectMapper::readTree)).doOnSuccess
1 | Mono | fromSupplier | METHOD_INVOCATION | Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.getSchema(notifierId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error occurs while trying to get schema for notifier plugin " + notifierId, throwable)))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.getSchema(notifierId))).map(RxJavaReactorMigrationUtil.toJdkFunction(objectMapper::readTree)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((jsonSchema)->{
    final JsonNode propertiesNode = jsonSchema.get("properties");
    JsonNode messageNode = null;
    if (propertiesNode instanceof ObjectNode) {
        if (propertiesNode.has("message")) {
            messageNode = propertiesNode.get("message");
        } else if (propertiesNode.has("body")) {
            messageNode = propertiesNode.get("body");
        }
    }
    if (messageNode instanceof ObjectNode) {
        ((ObjectNode)messageNode).put("default", DEFAULT_NOTIFIER_MESSAGE);
    }
})).map(RxJavaReactorMigrationUtil.toJdkFunction(JsonNode::toString))).onErrorResumeNext((throwable)->{
    return RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error occurs while trying to get schema for notifier plugin " + notifierId, throwable)));
})).switchIfEmpty(Mono.defer(()->Mono.error(new NotifierPluginSchemaNotFoundException(notifierId))))
1 | Mono | error | METHOD_INVOCATION | ()->Mono.error(new NotifierPluginSchemaNotFoundException(notifierId))
1 | Mono | RETURN_TYPE
1 | Mono | fromSupplier | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.getIcon(notifierId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error occurs while trying to get incon for notifier plugin " + notifierId, throwable)))
1 | Mono | RETURN_TYPE
1 | Mono | fromSupplier | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.fromSupplier(RxJavaReactorMigrationUtil.callableAsSupplier(()->notifierPluginManager.getDocumentation(notifierId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("An error occurs while trying to get documentation for notifier plugin " + notifierId, throwable)))
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(this.getIcon(notifierPlugin.getId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer(notifierPlugin::setIcon)).then().then(Mono.just(notifierPlugin)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getIcon(notifierPlugin.getId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer(notifierPlugin::setIcon)).then().then
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getIcon(notifierPlugin.getId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer(notifierPlugin::setIcon)).then
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(this.getIcon(notifierPlugin.getId())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer(notifierPlugin::setIcon)).then().then(Mono.just(notifierPlugin))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(notifierPlugin))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new MembershipReply(command.getId(), CommandStatus.ERROR)))
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, membershipPayload.getOrganizationId(), membershipPayload.getUserId(), COCKPIT_SOURCE)).map(RxJavaReactorMigrationUtil.toJdkFunction(User::getId)).single())
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, membershipPayload.getOrganizationId(), membershipPayload.getUserId(), COCKPIT_SOURCE)).map(RxJavaReactorMigrationUtil.toJdkFunction(User::getId)).single
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.zip(roleObs, userObs, (role,userId)->{
    Membership membership = new Membership();
    membership.setMemberType(MemberType.USER);
    membership.setMemberId(userId);
    membership.setReferenceType(assignableType);
    membership.setReferenceId(membershipPayload.getReferenceId());
    membership.setRoleId(role.getId());
    return membership;
})).flatMap((membership)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(membershipPayload.getOrganizationId(), membership))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((membership)->logger.info("Role [{}] assigned on {} [{}] for user [{}] and organization [{}].", membershipPayload.getRole(), membershipPayload.getReferenceType(), membershipPayload.getReferenceId(), membership.getMemberId(), membershipPayload.getOrganizationId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->new MembershipReply(command.getId(), CommandStatus.SUCCEEDED))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->logger.error("Error occurred when trying to assign role [{}] on {} [{}] for cockpit user [{}] and organization [{}].", membershipPayload.getRole(), membershipPayload.getReferenceType(), membershipPayload.getReferenceId(), membershipPayload.getUserId(), membershipPayload.getOrganizationId(), error))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.zip(roleObs, userObs, (role,userId)->{
    Membership membership = new Membership();
    membership.setMemberType(MemberType.USER);
    membership.setMemberId(userId);
    membership.setReferenceType(assignableType);
    membership.setReferenceId(membershipPayload.getReferenceId());
    membership.setRoleId(role.getId());
    return membership;
})).flatMap((membership)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(membershipPayload.getOrganizationId(), membership))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((membership)->logger.info("Role [{}] assigned on {} [{}] for user [{}] and organization [{}].", membershipPayload.getRole(), membershipPayload.getReferenceType(), membershipPayload.getReferenceId(), membership.getMemberId(), membershipPayload.getOrganizationId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->new MembershipReply(command.getId(), CommandStatus.SUCCEEDED))).doOnError
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.zip(roleObs, userObs, (role,userId)->{
    Membership membership = new Membership();
    membership.setMemberType(MemberType.USER);
    membership.setMemberId(userId);
    membership.setReferenceType(assignableType);
    membership.setReferenceId(membershipPayload.getReferenceId());
    membership.setRoleId(role.getId());
    return membership;
})).flatMap((membership)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(membershipPayload.getOrganizationId(), membership))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((membership)->logger.info("Role [{}] assigned on {} [{}] for user [{}] and organization [{}].", membershipPayload.getRole(), membershipPayload.getReferenceType(), membershipPayload.getReferenceId(), membership.getMemberId(), membershipPayload.getOrganizationId()))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(Single.zip(roleObs, userObs, (role,userId)->{
    Membership membership = new Membership();
    membership.setMemberType(MemberType.USER);
    membership.setMemberId(userId);
    membership.setReferenceType(assignableType);
    membership.setReferenceId(membershipPayload.getReferenceId());
    membership.setRoleId(role.getId());
    return membership;
})).flatMap((membership)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(membershipPayload.getOrganizationId(), membership))).doOnSuccess
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findSystemRole(systemRole, assignableType)).single())
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(roleService.findDefaultRole(organizationId, defaultRole, assignableType)).single())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidRoleException(String.format("Unable to find role [%s] for organization [%s].", roleName, organizationId))))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AnalyticsResponse(){
    
    () {
        super();
    }
}))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.statistics(query)).map(RxJavaReactorMigrationUtil.toJdkFunction(AnalyticsGroupByResponse::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AnalyticsResponse(){
    
    () {
        super();
    }
}))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.countByApplication(query.getDomain(), query.getApplication())).map(RxJavaReactorMigrationUtil.toJdkFunction(AnalyticsCountResponse::new)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(auditService.aggregate(query.getDomain(), queryBuilder.build(), query.getType())).map(RxJavaReactorMigrationUtil.toJdkFunction((values)->new AnalyticsCountResponse((Long)values.values().iterator().next()))))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(auditService.aggregate(query.getDomain(), queryBuilder.build(), query.getType())).map(RxJavaReactorMigrationUtil.toJdkFunction((values)->{
    Timestamp timestamp = new Timestamp(query.getFrom(), query.getTo(), query.getInterval());
    List<Bucket> buckets = values.entrySet().stream().map((entry)->{
        Bucket bucket = new Bucket();
        bucket.setName((String)entry.getKey());
        bucket.setField(query.getField());
        bucket.setData((List<Long>)entry.getValue());
        return bucket;
    }).collect(Collectors.toList());
    AnalyticsHistogramResponse analyticsHistogramResponse = new AnalyticsHistogramResponse();
    analyticsHistogramResponse.setTimestamp(timestamp);
    analyticsHistogramResponse.setValues(buckets);
    return analyticsHistogramResponse;
})))
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(DEFAULT_IDP_PREFIX + domain.getId())).hasElement().flatMap((v)->RxJava2Adapter.singleToMono((Single<IdentityProvider>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, Single<IdentityProvider>>)(isEmpty)->{
    if (isEmpty) {
        logger.info("No default idp found for domain {}, update domain", domain.getName());
        return identityProviderManager.create(domain.getId());
    }
    return RxJava2Adapter.monoToSingle(Mono.just(new IdentityProvider()));
}).apply(v))))
1 | Mono | hasElement | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(DEFAULT_IDP_PREFIX + domain.getId())).hasElement().flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new IdentityProvider()))
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(emailTemplateService.findAll()).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Email::isEnabled)))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findMembershipPermissions(user, Collections.singletonMap(referenceType, referenceId).entrySet().stream())).map(RxJavaReactorMigrationUtil.toJdkFunction(this::aclsPerPermission)))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(haveConsistentReferenceIds(permissions)).flatMap((v)->RxJava2Adapter.singleToMono((Single<Boolean>)RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, Single<Boolean>>)(consistent)->{
    if (consistent) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findMembershipPermissions(user, permissions.referenceStream())).map(RxJavaReactorMigrationUtil.toJdkFunction(permissions::match)));
    }
    return RxJava2Adapter.monoToSingle(Mono.just(false));
}).apply(v))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findMembershipPermissions(user, permissions.referenceStream())).map(RxJavaReactorMigrationUtil.toJdkFunction(permissions::match)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(consistencyCache.get(key)))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(Single.merge(obs)).all(RxJavaReactorMigrationUtil.toJdkPredicate((consistent)->consistent))).onErrorResumeNext(RxJava2Adapter.monoToSingle(Mono.just(false)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((consistent)->consistencyCache.put(key, consistent))))
1 | Flux | all | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(Single.merge(obs)).all(RxJavaReactorMigrationUtil.toJdkPredicate((consistent)->consistent)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application.getDomain().equals(domainId)))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domain.getReferenceId().equals(environmentId) && domain.getReferenceType() == ReferenceType.ENVIRONMENT))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(environmentService.findById(environmentId, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction((environment)->true)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new InvalidUserException("Specified user is invalid")))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(groupService.findByMember(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Group::getId)).collectList().flatMap((v)->RxJava2Adapter.singleToMono((Single<Map<Membership, Map<Permission, Set<Acl>>>>)RxJavaReactorMigrationUtil.toJdkFunction((Function<List<String>, Single<Map<Membership, Map<Permission, Set<Acl>>>>>)(userGroupIds)->{
    MembershipCriteria criteria = new MembershipCriteria();
    criteria.setUserId(user.getId());
    criteria.setGroupIds(userGroupIds.isEmpty() ? null : userGroupIds);
    criteria.setLogicalOR(true);
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(Flowable.merge(referenceStream.map((p)->membershipService.findByCriteria(p.getKey(), p.getValue(), criteria)).collect(Collectors.toList()))).collectList().flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<Membership>, SingleSource<Map<Membership, Map<Permission, Set<Acl>>>>>toJdkFunction((allMemberships)->{
        if (allMemberships.isEmpty()) {
            return RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()));
        }
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.findByIdIn(allMemberships.stream().map(Membership::getRoleId).collect(Collectors.toList()))).map(RxJavaReactorMigrationUtil.toJdkFunction((allRoles)->permissionsPerMembership(allMemberships, allRoles))));
    }).apply(z)))));
}).apply(v))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(groupService.findByMember(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Group::getId)).collectList().flatMap
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(groupService.findByMember(user.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Group::getId)).collectList
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(Flowable.merge(referenceStream.map((p)->membershipService.findByCriteria(p.getKey(), p.getValue(), criteria)).collect(Collectors.toList()))).collectList().flatMap((z)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<List<Membership>, SingleSource<Map<Membership, Map<Permission, Set<Acl>>>>>toJdkFunction((allMemberships)->{
    if (allMemberships.isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.findByIdIn(allMemberships.stream().map(Membership::getRoleId).collect(Collectors.toList()))).map(RxJavaReactorMigrationUtil.toJdkFunction((allRoles)->permissionsPerMembership(allMemberships, allRoles))));
}).apply(z)))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(Flowable.merge(referenceStream.map((p)->membershipService.findByCriteria(p.getKey(), p.getValue(), criteria)).collect(Collectors.toList()))).collectList().flatMap
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyMap()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.findByIdIn(allMemberships.stream().map(Membership::getRoleId).collect(Collectors.toList()))).map(RxJavaReactorMigrationUtil.toJdkFunction((allRoles)->permissionsPerMembership(allMemberships, allRoles))))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(!this.triggerProviderManager.findAll().isEmpty()))
1 | Mono | IMPORT
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.fluxToObservable(RxJava2Adapter.observableToFlux(Observable.fromIterable(identityProviderPluginManager.getAll().entrySet()), BackpressureStrategy.BUFFER).filter(RxJavaReactorMigrationUtil.toJdkPredicate((entry)->(external != null && external) == entry.getKey().external())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("An error occurs while trying to list all identity provider plugins", ex)))
1 | Mono | block | METHOD_INVOCATION | final Installation installation = RxJava2Adapter.singleToMono(installationService.getOrInitialize()).block()
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new AnalyticsResponse(){
    
    () {
        super();
    }
}))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(auditService.aggregate(query.getDomain(), queryBuilder.build(), query.getType())).map(RxJavaReactorMigrationUtil.toJdkFunction((values)->{
    Timestamp timestamp = new Timestamp(query.getFrom(), query.getTo(), query.getInterval());
    List<Bucket> buckets = values.entrySet().stream().map((entry)->{
        Bucket bucket = new Bucket();
        bucket.setName((String)entry.getKey());
        bucket.setField(query.getField());
        bucket.setData((List<Long>)entry.getValue());
        return bucket;
    }).collect(Collectors.toList());
    AnalyticsHistogramResponse analyticsHistogramResponse = new AnalyticsHistogramResponse();
    analyticsHistogramResponse.setTimestamp(timestamp);
    analyticsHistogramResponse.setValues(buckets);
    return analyticsHistogramResponse;
})))
1 | Mono | RETURN_TYPE
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(executeGroupBy(query.getDomain(), queryBuilder.build(), query.getType())).flatMap((analyticsResponse)->RxJava2Adapter.singleToMono(fetchMetadata((AnalyticsGroupByResponse)analyticsResponse))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.statistics(query)).map(RxJavaReactorMigrationUtil.toJdkFunction((value)->new AnalyticsGroupByResponse(value))))
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(analyticsGroupByResponse))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(values.keySet()).flatMapMaybe((appId)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationService.findById((String)appId)).map(RxJavaReactorMigrationUtil.toJdkFunction((application)->{
    Map<String, Object> data = new HashMap<>();
    data.put("name", application.getName());
    data.put("domain", application.getDomain());
    return Collections.singletonMap((String)appId, data);
})).defaultIfEmpty(Collections.singletonMap((String)appId, getGenericMetadata("Deleted application", true))))).toList()).map(RxJavaReactorMigrationUtil.toJdkFunction((result)->{
    Map<String, Map<String, Object>> metadata = result.stream().flatMap((m)->m.entrySet().stream()).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));
    analyticsGroupByResponse.setMetadata(metadata);
    return analyticsGroupByResponse;
})))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationService.findById((String)appId)).map(RxJavaReactorMigrationUtil.toJdkFunction((application)->{
    Map<String, Object> data = new HashMap<>();
    data.put("name", application.getName());
    data.put("domain", application.getDomain());
    return Collections.singletonMap((String)appId, data);
})).defaultIfEmpty(Collections.singletonMap((String)appId, getGenericMetadata("Deleted application", true))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findById((String)appId)).map(RxJavaReactorMigrationUtil.toJdkFunction((application)->{
    Map<String, Object> data = new HashMap<>();
    data.put("name", application.getName());
    data.put("domain", application.getDomain());
    return Collections.singletonMap((String)appId, data);
})).defaultIfEmpty
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.countByDomain(query.getDomain())).map(RxJavaReactorMigrationUtil.toJdkFunction((value)->new AnalyticsCountResponse(value))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.countByDomain(query.getDomain())).map(RxJavaReactorMigrationUtil.toJdkFunction((value)->new AnalyticsCountResponse(value))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(auditService.aggregate(query.getDomain(), queryBuilder.build(), query.getType())).map(RxJavaReactorMigrationUtil.toJdkFunction((values)->values.values().isEmpty() ? new AnalyticsCountResponse(0L) : new AnalyticsCountResponse((Long)values.values().iterator().next()))))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(auditService.aggregate(domain, criteria, type)).map(RxJavaReactorMigrationUtil.toJdkFunction((values)->new AnalyticsGroupByResponse(values))))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domain))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(getReporter(referenceType, referenceId).findById(referenceType, referenceId, auditId)).switchIfEmpty(Mono.error(new AuditNotFoundException(auditId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(getReporter(referenceType, referenceId).findById(referenceType, referenceId, auditId)).switchIfEmpty(Mono.error(new AuditNotFoundException(auditId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | block | METHOD_INVOCATION | boolean upgraded = RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(systemTaskRepository.findById(TASK_ID)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(createSystemTask(instanceOperationId)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<SystemTask, SingleSource<Boolean>>toJdkFunction((task)->{
    switch (SystemTaskStatus.valueOf(task.getStatus())) {
    case INITIALIZED: 
        return processUpgrade(instanceOperationId, task, instanceOperationId);
    
    case FAILURE: 
        String previousOperationId = task.getOperationId();
        task.setOperationId(instanceOperationId);
        return processUpgrade(instanceOperationId, task, previousOperationId);
    
    case ONGOING: 
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("ONGOING task " + TASK_ID + " : trigger a retry")));
    
    default: 
        return RxJava2Adapter.monoToSingle(Mono.just(true));
    
    }
}).apply(v))))).retryWhen(new RetryWithDelay(3, 5000))).block()
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(systemTaskRepository.findById(TASK_ID)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(createSystemTask(instanceOperationId)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<SystemTask, SingleSource<Boolean>>toJdkFunction((task)->{
    switch (SystemTaskStatus.valueOf(task.getStatus())) {
    case INITIALIZED: 
        return processUpgrade(instanceOperationId, task, instanceOperationId);
    
    case FAILURE: 
        String previousOperationId = task.getOperationId();
        task.setOperationId(instanceOperationId);
        return processUpgrade(instanceOperationId, task, previousOperationId);
    
    case ONGOING: 
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("ONGOING task " + TASK_ID + " : trigger a retry")));
    
    default: 
        return RxJava2Adapter.monoToSingle(Mono.just(true));
    
    }
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(systemTaskRepository.findById(TASK_ID)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(createSystemTask(instanceOperationId)))).flatMap
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(systemTaskRepository.findById(TASK_ID)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.singleToMono(createSystemTask(instanceOperationId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("ONGOING task " + TASK_ID + " : trigger a retry")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | RETURN_TYPE
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(updateSystemTask(task, (SystemTaskStatus.ONGOING), conditionalOperationId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<SystemTask, SingleSource<Boolean>>toJdkFunction((updatedTask)->{
    if (updatedTask.getOperationId().equals(instanceOperationId)) {
        return migrateScopeSettings(updatedTask);
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Task " + TASK_ID + " already processed by another instance : trigger a retry")));
    }
}).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->true)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(updateSystemTask(task, (SystemTaskStatus.ONGOING), conditionalOperationId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<SystemTask, SingleSource<Boolean>>toJdkFunction((updatedTask)->{
    if (updatedTask.getOperationId().equals(instanceOperationId)) {
        return migrateScopeSettings(updatedTask);
    } else {
        return RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Task " + TASK_ID + " already processed by another instance : trigger a retry")));
    }
}).apply(v)))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new IllegalStateException("Task " + TASK_ID + " already processed by another instance : trigger a retry")))
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(systemTaskRepository.findById(systemTask.getId())).single())
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(applicationRepository.findAll().flatMapSingle((app)->{
    logger.debug("Process application \'{}\'", app.getId());
    if (app.getSettings() != null && app.getSettings().getOauth() != null) {
        final ApplicationOAuthSettings oauthSettings = app.getSettings().getOauth();
        List<ApplicationScopeSettings> scopeSettings = new ArrayList<>();
        if (oauthSettings.getScopes() != null && !oauthSettings.getScopes().isEmpty()) {
            logger.debug("Process scope options for application \'{}\'", app.getId());
            for (String scope : oauthSettings.getScopes()) {
                ApplicationScopeSettings setting = new ApplicationScopeSettings();
                setting.setScope(scope);
                setting.setDefaultScope(oauthSettings.getDefaultScopes() != null && oauthSettings.getDefaultScopes().contains(scope));
                if (oauthSettings.getScopeApprovals() != null && oauthSettings.getScopeApprovals().containsKey(scope)) {
                    setting.setScopeApproval(oauthSettings.getScopeApprovals().get(scope));
                }
                scopeSettings.add(setting);
            }
            oauthSettings.setScopeSettings(scopeSettings);
            oauthSettings.setScopes(null);
            oauthSettings.setDefaultScopes(null);
            oauthSettings.setScopeApprovals(null);
            logger.debug("Update settings for application \'{}\'", app.getId());
            return applicationRepository.update(app);
        } else {
            logger.debug("No scope to process for application \'{}\'", app.getId());
        }
    } else {
        logger.debug("No scope to process for application \'{}\'", app.getId());
    }
    return RxJava2Adapter.monoToSingle(Mono.just(app));
})).ignoreElements().then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((err)->updateSystemTask(task, (SystemTaskStatus.FAILURE), task.getOperationId()).subscribe())).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(updateSystemTask(task, SystemTaskStatus.SUCCESS, task.getOperationId())).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->true))).onErrorResumeNext((err)->{
    logger.error("Unable to update status for migrate scope options task: {}", err.getMessage());
    return RxJava2Adapter.monoToSingle(Mono.just(false));
}))))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findAll().flatMapSingle((app)->{
    logger.debug("Process application \'{}\'", app.getId());
    if (app.getSettings() != null && app.getSettings().getOauth() != null) {
        final ApplicationOAuthSettings oauthSettings = app.getSettings().getOauth();
        List<ApplicationScopeSettings> scopeSettings = new ArrayList<>();
        if (oauthSettings.getScopes() != null && !oauthSettings.getScopes().isEmpty()) {
            logger.debug("Process scope options for application \'{}\'", app.getId());
            for (String scope : oauthSettings.getScopes()) {
                ApplicationScopeSettings setting = new ApplicationScopeSettings();
                setting.setScope(scope);
                setting.setDefaultScope(oauthSettings.getDefaultScopes() != null && oauthSettings.getDefaultScopes().contains(scope));
                if (oauthSettings.getScopeApprovals() != null && oauthSettings.getScopeApprovals().containsKey(scope)) {
                    setting.setScopeApproval(oauthSettings.getScopeApprovals().get(scope));
                }
                scopeSettings.add(setting);
            }
            oauthSettings.setScopeSettings(scopeSettings);
            oauthSettings.setScopes(null);
            oauthSettings.setDefaultScopes(null);
            oauthSettings.setScopeApprovals(null);
            logger.debug("Update settings for application \'{}\'", app.getId());
            return applicationRepository.update(app);
        } else {
            logger.debug("No scope to process for application \'{}\'", app.getId());
        }
    } else {
        logger.debug("No scope to process for application \'{}\'", app.getId());
    }
    return RxJava2Adapter.monoToSingle(Mono.just(app));
})).ignoreElements().then().doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((err)->updateSystemTask(task, (SystemTaskStatus.FAILURE), task.getOperationId()).subscribe())).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findAll().flatMapSingle((app)->{
    logger.debug("Process application \'{}\'", app.getId());
    if (app.getSettings() != null && app.getSettings().getOauth() != null) {
        final ApplicationOAuthSettings oauthSettings = app.getSettings().getOauth();
        List<ApplicationScopeSettings> scopeSettings = new ArrayList<>();
        if (oauthSettings.getScopes() != null && !oauthSettings.getScopes().isEmpty()) {
            logger.debug("Process scope options for application \'{}\'", app.getId());
            for (String scope : oauthSettings.getScopes()) {
                ApplicationScopeSettings setting = new ApplicationScopeSettings();
                setting.setScope(scope);
                setting.setDefaultScope(oauthSettings.getDefaultScopes() != null && oauthSettings.getDefaultScopes().contains(scope));
                if (oauthSettings.getScopeApprovals() != null && oauthSettings.getScopeApprovals().containsKey(scope)) {
                    setting.setScopeApproval(oauthSettings.getScopeApprovals().get(scope));
                }
                scopeSettings.add(setting);
            }
            oauthSettings.setScopeSettings(scopeSettings);
            oauthSettings.setScopes(null);
            oauthSettings.setDefaultScopes(null);
            oauthSettings.setScopeApprovals(null);
            logger.debug("Update settings for application \'{}\'", app.getId());
            return applicationRepository.update(app);
        } else {
            logger.debug("No scope to process for application \'{}\'", app.getId());
        }
    } else {
        logger.debug("No scope to process for application \'{}\'", app.getId());
    }
    return RxJava2Adapter.monoToSingle(Mono.just(app));
})).ignoreElements().then().doOnError
1 | Flux | ignoreElements | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(applicationRepository.findAll().flatMapSingle((app)->{
    logger.debug("Process application \'{}\'", app.getId());
    if (app.getSettings() != null && app.getSettings().getOauth() != null) {
        final ApplicationOAuthSettings oauthSettings = app.getSettings().getOauth();
        List<ApplicationScopeSettings> scopeSettings = new ArrayList<>();
        if (oauthSettings.getScopes() != null && !oauthSettings.getScopes().isEmpty()) {
            logger.debug("Process scope options for application \'{}\'", app.getId());
            for (String scope : oauthSettings.getScopes()) {
                ApplicationScopeSettings setting = new ApplicationScopeSettings();
                setting.setScope(scope);
                setting.setDefaultScope(oauthSettings.getDefaultScopes() != null && oauthSettings.getDefaultScopes().contains(scope));
                if (oauthSettings.getScopeApprovals() != null && oauthSettings.getScopeApprovals().containsKey(scope)) {
                    setting.setScopeApproval(oauthSettings.getScopeApprovals().get(scope));
                }
                scopeSettings.add(setting);
            }
            oauthSettings.setScopeSettings(scopeSettings);
            oauthSettings.setScopes(null);
            oauthSettings.setDefaultScopes(null);
            oauthSettings.setScopeApprovals(null);
            logger.debug("Update settings for application \'{}\'", app.getId());
            return applicationRepository.update(app);
        } else {
            logger.debug("No scope to process for application \'{}\'", app.getId());
        }
    } else {
        logger.debug("No scope to process for application \'{}\'", app.getId());
    }
    return RxJava2Adapter.monoToSingle(Mono.just(app));
})).ignoreElements().then
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(app))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(updateSystemTask(task, SystemTaskStatus.SUCCESS, task.getOperationId())).map(RxJavaReactorMigrationUtil.toJdkFunction((__)->true)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(attempts).flatMap(RxJavaReactorMigrationUtil.toJdkFunction((throwable)->{
    if (++retryCount < maxRetries) {
        return Flowable.timer(retryDelayMillis * (retryCount + 1), TimeUnit.MILLISECONDS);
    }
    return RxJava2Adapter.fluxToFlowable(Flux.error(throwable));
})))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(throwable))
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(installationService.getOrInitialize()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((additionalInfos)->additionalInfos.put(Installation.COCKPIT_INSTALLATION_STATUS, installationPayload.getStatus()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Map<String, String>, SingleSource<Installation>>toJdkFunction(installationService::setAdditionalInformation).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((installation)->new InstallationReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((installation)->logger.info("Installation status is [{}].", installationPayload.getStatus()))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->logger.info("Error occurred when updating installation status.", error))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.getOrInitialize()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((additionalInfos)->additionalInfos.put(Installation.COCKPIT_INSTALLATION_STATUS, installationPayload.getStatus()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Map<String, String>, SingleSource<Installation>>toJdkFunction(installationService::setAdditionalInformation).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((installation)->new InstallationReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((installation)->logger.info("Installation status is [{}].", installationPayload.getStatus()))).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.getOrInitialize()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((additionalInfos)->additionalInfos.put(Installation.COCKPIT_INSTALLATION_STATUS, installationPayload.getStatus()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Map<String, String>, SingleSource<Installation>>toJdkFunction(installationService::setAdditionalInformation).apply(v)))).map(RxJavaReactorMigrationUtil.toJdkFunction((installation)->new InstallationReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.getOrInitialize()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((additionalInfos)->additionalInfos.put(Installation.COCKPIT_INSTALLATION_STATUS, installationPayload.getStatus()))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Map<String, String>, SingleSource<Installation>>toJdkFunction(installationService::setAdditionalInformation).apply(v)))).map
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.getOrInitialize()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((additionalInfos)->additionalInfos.put(Installation.COCKPIT_INSTALLATION_STATUS, installationPayload.getStatus()))).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(installationService.getOrInitialize()).map(RxJavaReactorMigrationUtil.toJdkFunction(Installation::getAdditionalInformation)).doOnSuccess
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domain.getId())).collectList().flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Reporter>, CompletableSource>)(reporters)->{
    if (reporters == null || reporters.isEmpty()) {
        logger.info("No default reporter found for domain {}, update domain", domain.getName());
        return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(reporterService.createDefault(domain.getId())).then());
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domain.getId())).collectList().flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<List<Reporter>, CompletableSource>)(reporters)->{
    if (reporters == null || reporters.isEmpty()) {
        logger.info("No default reporter found for domain {}, update domain", domain.getName());
        return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(reporterService.createDefault(domain.getId())).then());
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domain.getId())).collectList().flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(reporterService.createDefault(domain.getId())).then())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(organizationService.createOrUpdate(organizationPayload.getId(), newOrganization, null)).map(RxJavaReactorMigrationUtil.toJdkFunction((organization)->new OrganizationReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reply)->logger.info("Organization [{}] handled with id [{}].", organizationPayload.getName(), organizationPayload.getId()))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((error)->logger.error("Error occurred when handling organization [{}] with id [{}].", organizationPayload.getName(), organizationPayload.getId(), error))))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.createOrUpdate(organizationPayload.getId(), newOrganization, null)).map(RxJavaReactorMigrationUtil.toJdkFunction((organization)->new OrganizationReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((reply)->logger.info("Organization [{}] handled with id [{}].", organizationPayload.getName(), organizationPayload.getId()))).doOnError
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.createOrUpdate(organizationPayload.getId(), newOrganization, null)).map(RxJavaReactorMigrationUtil.toJdkFunction((organization)->new OrganizationReply(command.getId(), CommandStatus.SUCCEEDED))).doOnSuccess
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(installation))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new RuntimeException("Unexpected error")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(domain)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.emptySet(), 0, 0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(domainScope), 0, 1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(app)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(role)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(domain)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(domainScope), 0, 1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(domain)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.emptySet(), 0, 0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(domainScope), 0, 0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(domain)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.emptySet(), 0, Integer.MAX_VALUE)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Collections.singleton(domainScope), 0, Integer.MAX_VALUE)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(app)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(role)))
1 | Flux | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(role))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertTrigger))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertNotifier))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertTrigger))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertNotifier))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(alertTrigger))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertNotifier))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertTrigger))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(alertNotifier))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Arrays.asList(domain)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(openId))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(phone))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(email))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Scope()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(installation))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(installation))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(installation))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(m1, m2, m3))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(provider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mock(io.gravitee.am.identityprovider.api.User.class)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mock(User.class)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(UserProvider.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(0)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(UserProvider.class)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(UserProvider.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new DefaultUser(newUser.getUsername())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(preRegisteredUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(preRegisteredUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new DefaultUser(newUser.getUsername())))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new DefaultUser(newUser.getUsername())))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(client))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(UserProvider.class)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(UserProvider.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idpUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(roles))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(roles))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptySet()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mock(UserProvider.class)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(installation))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(i.getArgument(1)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(role))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Environment()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(membership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(role)))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(group))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(membership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton(role)))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(environment))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organizationMembership))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(environmentMembership))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domainMembership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(organizationRole, environmentRole, domainRole))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(environment))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organizationMembership))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domainMembership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(organizationRole, domainRole))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(environment))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organizationMembership))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(domainMembership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(organizationRole, domainRole))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(environment))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(membership))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(role))))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(membership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(role))))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(group))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organizationMembership, groupMembership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(organizationRole, groupRole))))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(group))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(organizationMembership, groupMembership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(organizationRole, groupRole))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(environment))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(environment))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(environment))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new EnvironmentNotFoundException(ENVIRONMENT_ID)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(application))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(environment))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(TechnicalException::new))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(task))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(task))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Application()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(sysTask))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(ongoingTask))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(finalizedTask))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new Exception()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Organization()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalException()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(idp))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(adminUser))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultOrganization))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(idp))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultOrganization))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(idp))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultOrganization))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(idp))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultOrganization))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(idp))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(adminUser))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultOrganization))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(idp))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(adminUser))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(RxJavaReactorMigrationUtil.callableAsSupplier(TechnicalException::new)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new Domain()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(adminRole))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(users, 0, totalUsers)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(users, 1, totalUsers)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(Arrays.asList(user, user), 2, totalUsers)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(primaryOwnerRole))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(adminRole))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(organizationPrimaryOwner))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(membership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(organizationPrimaryOwner))
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | empty | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(rootPolicy2, rootPolicy1, preConsent, postConsent2, postConsent))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Flow()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new PolicyPlugin()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(rootPolicy2, rootPolicy1, preConsent, postConsent2, postConsent))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Flow()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new PolicyPlugin()))
1 | Mono | block | METHOD_INVOCATION | List<Event> events = RxJava2Adapter.singleToMono(eventService.findByTimeFrame(lastRefreshAt - lastDelay, nextLastRefreshAt)).block()
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, permissionAcls)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, CompletableSource>)this::checkPermission).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, permissionAcls)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, CompletableSource>)this::checkPermission).apply(y)))).then
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(emptyMap()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(emptyMap()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(emptyMap()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(emptyMap()))
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new ForbiddenException("Permission denied")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.LIST)).thenMany(environmentService.findAll(organizationId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Environment, MaybeSource<Environment>>toJdkFunction((environment)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.ENVIRONMENT, environment.getId(), Permission.ENVIRONMENT, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->environment)))).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterEnvironmentInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.LIST)).thenMany(environmentService.findAll(organizationId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Environment, MaybeSource<Environment>>toJdkFunction((environment)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.ENVIRONMENT, environment.getId(), Permission.ENVIRONMENT, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->environment)))).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterEnvironmentInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.LIST)).thenMany(environmentService.findAll(organizationId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Environment, MaybeSource<Environment>>toJdkFunction((environment)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.ENVIRONMENT, environment.getId(), Permission.ENVIRONMENT, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->environment)))).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterEnvironmentInfos)).sort
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.LIST)).thenMany(environmentService.findAll(organizationId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Environment, MaybeSource<Environment>>toJdkFunction((environment)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.ENVIRONMENT, environment.getId(), Permission.ENVIRONMENT, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->environment)))).apply(e)))).map
1 | Mono | thenMany | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.LIST)).thenMany(environmentService.findAll(organizationId)).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.ENVIRONMENT, environment.getId(), Permission.ENVIRONMENT, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->environment)))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.ENVIRONMENT, environment.getId(), Permission.ENVIRONMENT, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.ENVIRONMENT, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.LIST)).then(RxJava2Adapter.singleToMono(auditService.search(ReferenceType.ORGANIZATION, organizationId, queryBuilder.build(), param.getPage(), param.getSize())).flatMap((auditPage)->RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.READ)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean hasPermission)->{
    if (hasPermission) {
        return auditPage;
    } else {
        return new Page<>(auditPage.getData().stream().map(FilterUtils::filterAuditInfos).collect(Collectors.toList()), auditPage.getCurrentPage(), auditPage.getTotalCount());
    }
})))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.LIST)).then(RxJava2Adapter.singleToMono(auditService.search(ReferenceType.ORGANIZATION, organizationId, queryBuilder.build(), param.getPage(), param.getSize())).flatMap((auditPage)->RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.READ)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean hasPermission)->{
    if (hasPermission) {
        return auditPage;
    } else {
        return new Page<>(auditPage.getData().stream().map(FilterUtils::filterAuditInfos).collect(Collectors.toList()), auditPage.getCurrentPage(), auditPage.getTotalCount());
    }
}))))
1 | Mono | map | METHOD_INVOCATION | (auditPage)->RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.READ)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean hasPermission)->{
    if (hasPermission) {
        return auditPage;
    } else {
        return new Page<>(auditPage.getData().stream().map(FilterUtils::filterAuditInfos).collect(Collectors.toList()), auditPage.getCurrentPage(), auditPage.getTotalCount());
    }
}))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_MEMBER, Acl.LIST)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.flowableToFlux(membershipService.findByReference(organization.getId(), ReferenceType.ORGANIZATION)).collectList()).flatMap((memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_MEMBER, Acl.LIST)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.flowableToFlux(membershipService.findByReference(organization.getId(), ReferenceType.ORGANIZATION)).collectList()).flatMap((memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.flowableToFlux(membershipService.findByReference(organization.getId(), ReferenceType.ORGANIZATION)).collectList()).flatMap
1 | Flux | collectList | METHOD_INVOCATION | (organization)->RxJava2Adapter.flowableToFlux(membershipService.findByReference(organization.getId(), ReferenceType.ORGANIZATION)).collectList()
1 | Mono | map | METHOD_INVOCATION | (memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_MEMBER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((membership1)->Response.created(URI.create("/organizations/" + organizationId + "/members/" + membership1.getId())).entity(membership1).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_MEMBER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((membership1)->Response.created(URI.create("/organizations/" + organizationId + "/members/" + membership1.getId())).entity(membership1).build())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(organizationId, membership, authenticatedUser))).map
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.LIST)).thenMany(tagService.findAll(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterTagInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.LIST)).thenMany(tagService.findAll(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterTagInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.LIST)).thenMany(tagService.findAll(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterTagInfos)).sort
1 | Mono | thenMany | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.LIST)).thenMany(tagService.findAll(organizationId)).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.CREATE)).then(RxJava2Adapter.singleToMono(tagService.create(newTag, organizationId, authenticatedUser))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ENTRYPOINT, Acl.LIST)).thenMany(entrypointService.findAll(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterEntrypointInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ENTRYPOINT, Acl.LIST)).thenMany(entrypointService.findAll(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterEntrypointInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ENTRYPOINT, Acl.LIST)).thenMany(entrypointService.findAll(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterEntrypointInfos)).sort
1 | Mono | thenMany | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ENTRYPOINT, Acl.LIST)).thenMany(entrypointService.findAll(organizationId)).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ENTRYPOINT, Acl.CREATE)).then(RxJava2Adapter.singleToMono(entrypointService.create(organizationId, newEntrypoint, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(roleService.findAllAssignable(ReferenceType.ORGANIZATION, organizationId, type)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterRoleInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(roleService.findAllAssignable(ReferenceType.ORGANIZATION, organizationId, type)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterRoleInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleService.findAllAssignable(ReferenceType.ORGANIZATION, organizationId, type)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterRoleInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(roleService.findAllAssignable(ReferenceType.ORGANIZATION, organizationId, type)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterRoleInfos)).sort
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(roleService.create(ReferenceType.ORGANIZATION, organizationId, newRole, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((role)->Response.created(URI.create("/organizations/" + organizationId + "/roles/" + role.getId())).entity(role).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(roleService.create(ReferenceType.ORGANIZATION, organizationId, newRole, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((role)->Response.created(URI.create("/organizations/" + organizationId + "/roles/" + role.getId())).entity(role).build())))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.LIST)).then(RxJava2Adapter.singleToMono(groupService.findAll(ReferenceType.ORGANIZATION, organizationId, page, Integer.min(size, MAX_GROUPS_SIZE_PER_PAGE))).map(RxJavaReactorMigrationUtil.toJdkFunction((groupPage)->new Page<>(groupPage.getData().stream().map(this::filterGroupInfos).collect(Collectors.toList()), groupPage.getCurrentPage(), groupPage.getTotalCount())))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.LIST)).then(RxJava2Adapter.singleToMono(groupService.findAll(ReferenceType.ORGANIZATION, organizationId, page, Integer.min(size, MAX_GROUPS_SIZE_PER_PAGE))).map(RxJavaReactorMigrationUtil.toJdkFunction((groupPage)->new Page<>(groupPage.getData().stream().map(this::filterGroupInfos).collect(Collectors.toList()), groupPage.getCurrentPage(), groupPage.getTotalCount()))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.CREATE)).then(RxJava2Adapter.singleToMono(groupService.create(ReferenceType.ORGANIZATION, organizationId, newGroup, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->Response.created(URI.create("/organizations/" + organizationId + "/groups/" + group.getId())).entity(group).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.CREATE)).then(RxJava2Adapter.singleToMono(groupService.create(ReferenceType.ORGANIZATION, organizationId, newGroup, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->Response.created(URI.create("/organizations/" + organizationId + "/groups/" + group.getId())).entity(group).build())))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_IDENTITY_PROVIDER, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(identityProviderService.findAll(ReferenceType.ORGANIZATION, organizationId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterIdentityProviderInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_IDENTITY_PROVIDER, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(identityProviderService.findAll(ReferenceType.ORGANIZATION, organizationId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterIdentityProviderInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityProviderService.findAll(ReferenceType.ORGANIZATION, organizationId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterIdentityProviderInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityProviderService.findAll(ReferenceType.ORGANIZATION, organizationId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterIdentityProviderInfos)).sort
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(identityProviderService.findAll(ReferenceType.ORGANIZATION, organizationId)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_IDENTITY_PROVIDER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(identityProviderService.create(ReferenceType.ORGANIZATION, organizationId, newIdentityProvider, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProvider)->Response.created(URI.create("/organizations/" + organizationId + "/identities/" + identityProvider.getId())).entity(identityProvider).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_IDENTITY_PROVIDER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(identityProviderService.create(ReferenceType.ORGANIZATION, organizationId, newIdentityProvider, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProvider)->Response.created(URI.create("/organizations/" + organizationId + "/identities/" + identityProvider.getId())).entity(identityProvider).build())))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.ORGANIZATION, organizationId)).flatMap((organizationPermissions)->RxJava2Adapter.completableToMono(checkPermission(organizationPermissions, Permission.ORGANIZATION_USER, Acl.LIST)).then(RxJava2Adapter.singleToMono(searchUsers(ReferenceType.ORGANIZATION, organizationId, query, filter, page, size)).flatMap((pagedUsers)->RxJava2Adapter.singleToMono(Observable.fromIterable(pagedUsers.getData()).flatMapSingle((io.gravitee.am.model.User user)->filterUserInfos(organizationPermissions, user)).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.User> users)->new Page<>(users, pagedUsers.getCurrentPage(), pagedUsers.getTotalCount())))))))
1 | Mono | then | METHOD_INVOCATION | (organizationPermissions)->RxJava2Adapter.completableToMono(checkPermission(organizationPermissions, Permission.ORGANIZATION_USER, Acl.LIST)).then(RxJava2Adapter.singleToMono(searchUsers(ReferenceType.ORGANIZATION, organizationId, query, filter, page, size)).flatMap((pagedUsers)->RxJava2Adapter.singleToMono(Observable.fromIterable(pagedUsers.getData()).flatMapSingle((io.gravitee.am.model.User user)->filterUserInfos(organizationPermissions, user)).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.User> users)->new Page<>(users, pagedUsers.getCurrentPage(), pagedUsers.getTotalCount())))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(organizationPermissions, Permission.ORGANIZATION_USER, Acl.LIST)).then(RxJava2Adapter.singleToMono(searchUsers(ReferenceType.ORGANIZATION, organizationId, query, filter, page, size)).flatMap((pagedUsers)->RxJava2Adapter.singleToMono(Observable.fromIterable(pagedUsers.getData()).flatMapSingle((io.gravitee.am.model.User user)->filterUserInfos(organizationPermissions, user)).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.User> users)->new Page<>(users, pagedUsers.getCurrentPage(), pagedUsers.getTotalCount())))))
1 | Mono | map | METHOD_INVOCATION | (pagedUsers)->RxJava2Adapter.singleToMono(Observable.fromIterable(pagedUsers.getData()).flatMapSingle((io.gravitee.am.model.User user)->filterUserInfos(organizationPermissions, user)).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.User> users)->new Page<>(users, pagedUsers.getCurrentPage(), pagedUsers.getTotalCount())))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.singleToMono(organizationUserService.createGraviteeUser(organization, newUser, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Response.created(URI.create("/organizations/" + organizationId + "/users/" + user.getId())).entity(user).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.singleToMono(organizationUserService.createGraviteeUser(organization, newUser, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Response.created(URI.create("/organizations/" + organizationId + "/users/" + user.getId())).entity(user).build())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((organization)->RxJava2Adapter.singleToMono(organizationUserService.createGraviteeUser(organization, newUser, authenticatedUser))).map
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    filteredUser.setSource(idP.getName());
    return filteredUser;
})).defaultIfEmpty(filteredUser).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    filteredUser.setSource(idP.getName());
    return filteredUser;
})).defaultIfEmpty(filteredUser).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    filteredUser.setSource(idP.getName());
    return filteredUser;
})).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(filteredUser))
1 | Mono | IMPORT
1 | Mono | RETURN_TYPE
1 | Mono | RETURN_TYPE
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new BadRequestException(ex.getMessage())))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_SETTINGS, Acl.READ)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_SETTINGS, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(organizationService.update(organizationId, patchOrganization, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_FORM, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(formService.findByTemplate(ReferenceType.ORGANIZATION, organizationId, formTemplate.template())).map(RxJavaReactorMigrationUtil.toJdkFunction((page)->Response.ok(page).build())).defaultIfEmpty(Response.ok(new Form(false, formTemplate.template())).build())).as
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_FORM, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(formService.findByTemplate(ReferenceType.ORGANIZATION, organizationId, formTemplate.template())).map(RxJavaReactorMigrationUtil.toJdkFunction((page)->Response.ok(page).build())).defaultIfEmpty(Response.ok(new Form(false, formTemplate.template())).build()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(formService.findByTemplate(ReferenceType.ORGANIZATION, organizationId, formTemplate.template())).map(RxJavaReactorMigrationUtil.toJdkFunction((page)->Response.ok(page).build())).defaultIfEmpty
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_FORM, Acl.CREATE)).then(RxJava2Adapter.singleToMono(formService.create(ReferenceType.ORGANIZATION, organizationId, newForm, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.created(URI.create("/organizations/" + organizationId + "/forms/" + form.getId())).entity(form).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_FORM, Acl.CREATE)).then(RxJava2Adapter.singleToMono(formService.create(ReferenceType.ORGANIZATION, organizationId, newForm, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.created(URI.create("/organizations/" + organizationId + "/forms/" + form.getId())).entity(form).build())))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_FORM, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(formService.update(ReferenceType.ORGANIZATION, organizationId, form, updateForm, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_FORM, Acl.DELETE)).then(RxJava2Adapter.completableToMono(formService.delete(ReferenceType.ORGANIZATION, organizationId, form, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.READ)).then(RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).map(RxJavaReactorMigrationUtil.toJdkFunction(UserEntity::new)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.management.handlers.management.api.model.UserEntity, SingleSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction(this::enhanceIdentityProvider).apply(v))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.READ)).then(RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).map(RxJavaReactorMigrationUtil.toJdkFunction(UserEntity::new)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.management.handlers.management.api.model.UserEntity, SingleSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction(this::enhanceIdentityProvider).apply(v)))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).map(RxJavaReactorMigrationUtil.toJdkFunction(UserEntity::new)).flatMap
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(organizationUserService.update(ReferenceType.ORGANIZATION, organizationId, user, updateUser, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(organizationUserService.updateStatus(ReferenceType.ORGANIZATION, organizationId, user, status.isEnabled(), authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.DELETE)).then(RxJava2Adapter.completableToMono(organizationUserService.delete(ReferenceType.ORGANIZATION, organizationId, user, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingUser)->IdentityProviderManagerImpl.IDP_GRAVITEE.equals(existingUser.getSource()))).switchIfEmpty(Mono.error(new UserInvalidException("Unable to reset password"))).flatMap((existingUser)->RxJava2Adapter.completableToMono(organizationUserService.resetPassword(organizationId, existingUser, password.getPassword(), authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingUser)->IdentityProviderManagerImpl.IDP_GRAVITEE.equals(existingUser.getSource()))).switchIfEmpty(Mono.error(new UserInvalidException("Unable to reset password"))).flatMap((existingUser)->RxJava2Adapter.completableToMono(organizationUserService.resetPassword(organizationId, existingUser, password.getPassword(), authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingUser)->IdentityProviderManagerImpl.IDP_GRAVITEE.equals(existingUser.getSource()))).switchIfEmpty(Mono.error(new UserInvalidException("Unable to reset password"))).flatMap((existingUser)->RxJava2Adapter.completableToMono(organizationUserService.resetPassword(organizationId, existingUser, password.getPassword(), authenticatedUser))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingUser)->IdentityProviderManagerImpl.IDP_GRAVITEE.equals(existingUser.getSource()))).switchIfEmpty(Mono.error(new UserInvalidException("Unable to reset password"))).flatMap
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingUser)->IdentityProviderManagerImpl.IDP_GRAVITEE.equals(existingUser.getSource()))).switchIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationUserService.findById(ReferenceType.ORGANIZATION, organizationId, user)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((existingUser)->IdentityProviderManagerImpl.IDP_GRAVITEE.equals(existingUser.getSource()))).switchIfEmpty(Mono.error(new UserInvalidException("Unable to reset password")))
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(userEntity.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    userEntity.setSource(idP.getName());
    return userEntity;
})).defaultIfEmpty(userEntity).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(userEntity.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    userEntity.setSource(idP.getName());
    return userEntity;
})).defaultIfEmpty(userEntity).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(userEntity.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    userEntity.setSource(idP.getName());
    return userEntity;
})).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(userEntity))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_IDENTITY_PROVIDER, Acl.READ)).then(RxJava2Adapter.singleToMono(identityProviderService.findById(ReferenceType.ORGANIZATION, organizationId, identityProvider))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_IDENTITY_PROVIDER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(identityProviderService.update(ReferenceType.ORGANIZATION, organizationId, identity, updateIdentityProvider, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_IDENTITY_PROVIDER, Acl.DELETE)).then(RxJava2Adapter.completableToMono(identityProviderService.delete(ReferenceType.ORGANIZATION, organizationId, identity, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.READ)).then(RxJava2Adapter.singleToMono(groupService.findById(ReferenceType.ORGANIZATION, organizationId, group))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(groupService.update(ReferenceType.ORGANIZATION, organizationId, group, updateGroup, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.DELETE)).then(RxJava2Adapter.completableToMono(groupService.delete(ReferenceType.ORGANIZATION, organizationId, group, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.READ)).then(RxJava2Adapter.singleToMono(groupService.findMembers(ReferenceType.ORGANIZATION, organizationId, group, page, Integer.min(size, MAX_MEMBERS_SIZE_PER_PAGE))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.User>, SingleSource<Page<io.gravitee.am.model.User>>>toJdkFunction((pagedMembers)->{
    if (pagedMembers.getData() == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(pagedMembers));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedMembers.getData()).flatMapSingle((member)->{
        if (member.getSource() != null) {
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
                member.setSource(idP.getName());
                return member;
            })).defaultIfEmpty(member).single());
        }
        return RxJava2Adapter.monoToSingle(Mono.just(member));
    }).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((members)->new Page<>(members, pagedMembers.getCurrentPage(), pagedMembers.getTotalCount()))));
}).apply(v))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.READ)).then(RxJava2Adapter.singleToMono(groupService.findMembers(ReferenceType.ORGANIZATION, organizationId, group, page, Integer.min(size, MAX_MEMBERS_SIZE_PER_PAGE))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.User>, SingleSource<Page<io.gravitee.am.model.User>>>toJdkFunction((pagedMembers)->{
    if (pagedMembers.getData() == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(pagedMembers));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedMembers.getData()).flatMapSingle((member)->{
        if (member.getSource() != null) {
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
                member.setSource(idP.getName());
                return member;
            })).defaultIfEmpty(member).single());
        }
        return RxJava2Adapter.monoToSingle(Mono.just(member));
    }).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((members)->new Page<>(members, pagedMembers.getCurrentPage(), pagedMembers.getTotalCount()))));
}).apply(v)))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pagedMembers))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedMembers.getData()).flatMapSingle((member)->{
    if (member.getSource() != null) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
            member.setSource(idP.getName());
            return member;
        })).defaultIfEmpty(member).single());
    }
    return RxJava2Adapter.monoToSingle(Mono.just(member));
}).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((members)->new Page<>(members, pagedMembers.getCurrentPage(), pagedMembers.getTotalCount()))))
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    member.setSource(idP.getName());
    return member;
})).defaultIfEmpty(member).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    member.setSource(idP.getName());
    return member;
})).defaultIfEmpty(member).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    member.setSource(idP.getName());
    return member;
})).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(member))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(groupService.findById(ReferenceType.ORGANIZATION, organizationId, group)).flatMap((group1)->RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, organizationId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((io.gravitee.am.model.User user)->{
    if (group1.getMembers() != null && group1.getMembers().contains(userId)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new MemberAlreadyExistsException(userId)));
    }
    List<String> groupMembers = group1.getMembers() != null ? new ArrayList(group1.getMembers()) : new ArrayList();
    groupMembers.add(userId);
    UpdateGroup updateGroup = new UpdateGroup();
    updateGroup.setName(group1.getName());
    updateGroup.setDescription(group1.getDescription());
    updateGroup.setRoles(group1.getRoles());
    updateGroup.setMembers(groupMembers);
    return groupService.update(ReferenceType.ORGANIZATION, organizationId, group, updateGroup, authenticatedUser);
}).apply(v)))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(groupService.findById(ReferenceType.ORGANIZATION, organizationId, group)).flatMap((group1)->RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, organizationId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((io.gravitee.am.model.User user)->{
    if (group1.getMembers() != null && group1.getMembers().contains(userId)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new MemberAlreadyExistsException(userId)));
    }
    List<String> groupMembers = group1.getMembers() != null ? new ArrayList(group1.getMembers()) : new ArrayList();
    groupMembers.add(userId);
    UpdateGroup updateGroup = new UpdateGroup();
    updateGroup.setName(group1.getName());
    updateGroup.setDescription(group1.getDescription());
    updateGroup.setRoles(group1.getRoles());
    updateGroup.setMembers(groupMembers);
    return groupService.update(ReferenceType.ORGANIZATION, organizationId, group, updateGroup, authenticatedUser);
}).apply(v))))))
1 | Mono | flatMap | METHOD_INVOCATION | (group1)->RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, organizationId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((io.gravitee.am.model.User user)->{
    if (group1.getMembers() != null && group1.getMembers().contains(userId)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new MemberAlreadyExistsException(userId)));
    }
    List<String> groupMembers = group1.getMembers() != null ? new ArrayList(group1.getMembers()) : new ArrayList();
    groupMembers.add(userId);
    UpdateGroup updateGroup = new UpdateGroup();
    updateGroup.setName(group1.getName());
    updateGroup.setDescription(group1.getDescription());
    updateGroup.setRoles(group1.getRoles());
    updateGroup.setMembers(groupMembers);
    return groupService.update(ReferenceType.ORGANIZATION, organizationId, group, updateGroup, authenticatedUser);
}).apply(v))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new MemberAlreadyExistsException(userId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(groupService.findById(ReferenceType.ORGANIZATION, organizationId, group)).flatMap((group1)->RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, organizationId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((io.gravitee.am.model.User user)->{
    if (group1.getMembers() == null || !group1.getMembers().contains(userId)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new MemberNotFoundException(userId)));
    }
    List<String> groupMembers = group1.getMembers() != null ? new ArrayList(group1.getMembers()) : new ArrayList();
    groupMembers.remove(userId);
    UpdateGroup updateGroup = new UpdateGroup();
    updateGroup.setName(group1.getName());
    updateGroup.setDescription(group1.getDescription());
    updateGroup.setRoles(group1.getRoles());
    updateGroup.setMembers(groupMembers);
    return groupService.update(ReferenceType.ORGANIZATION, organizationId, group, updateGroup, authenticatedUser);
}).apply(v)))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(groupService.findById(ReferenceType.ORGANIZATION, organizationId, group)).flatMap((group1)->RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, organizationId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((io.gravitee.am.model.User user)->{
    if (group1.getMembers() == null || !group1.getMembers().contains(userId)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new MemberNotFoundException(userId)));
    }
    List<String> groupMembers = group1.getMembers() != null ? new ArrayList(group1.getMembers()) : new ArrayList();
    groupMembers.remove(userId);
    UpdateGroup updateGroup = new UpdateGroup();
    updateGroup.setName(group1.getName());
    updateGroup.setDescription(group1.getDescription());
    updateGroup.setRoles(group1.getRoles());
    updateGroup.setMembers(groupMembers);
    return groupService.update(ReferenceType.ORGANIZATION, organizationId, group, updateGroup, authenticatedUser);
}).apply(v))))))
1 | Mono | flatMap | METHOD_INVOCATION | (group1)->RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, organizationId, userId)).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.Group>>toJdkFunction((io.gravitee.am.model.User user)->{
    if (group1.getMembers() == null || !group1.getMembers().contains(userId)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new MemberNotFoundException(userId)));
    }
    List<String> groupMembers = group1.getMembers() != null ? new ArrayList(group1.getMembers()) : new ArrayList();
    groupMembers.remove(userId);
    UpdateGroup updateGroup = new UpdateGroup();
    updateGroup.setName(group1.getName());
    updateGroup.setDescription(group1.getDescription());
    updateGroup.setRoles(group1.getRoles());
    updateGroup.setMembers(groupMembers);
    return groupService.update(ReferenceType.ORGANIZATION, organizationId, group, updateGroup, authenticatedUser);
}).apply(v))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new MemberNotFoundException(userId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.READ)).then(RxJava2Adapter.singleToMono(roleService.findById(ReferenceType.ORGANIZATION, organizationId, role)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.READ)).then(RxJava2Adapter.singleToMono(roleService.findById(ReferenceType.ORGANIZATION, organizationId, role)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(roleService.update(ReferenceType.ORGANIZATION, organizationId, role, updateRole, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(roleService.update(ReferenceType.ORGANIZATION, organizationId, role, updateRole, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ROLE, Acl.DELETE)).then(RxJava2Adapter.completableToMono(roleService.delete(ReferenceType.ORGANIZATION, organizationId, role, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ENTRYPOINT, Acl.READ)).then(RxJava2Adapter.singleToMono(entrypointService.findById(entrypointId, organizationId))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ENTRYPOINT, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(entrypointService.update(entrypointId, organizationId, entrypointToUpdate, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_ENTRYPOINT, Acl.DELETE)).then(RxJava2Adapter.completableToMono(entrypointService.delete(entrypointId, organizationId, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(tagService.findById(tagId, organizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId)))).as
1 | Mono | switchIfEmpty | METHOD_INVOCATION | checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(tagService.findById(tagId, organizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(tagService.findById(tagId, organizationId)).switchIfEmpty(Mono.error(new TagNotFoundException(tagId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(tagService.update(tagId, organizationId, tagToUpdate, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_TAG, Acl.DELETE)).then(RxJava2Adapter.completableToMono(tagService.delete(tag, organizationId, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_MEMBER, Acl.DELETE)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((irrelevant)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_MEMBER, Acl.DELETE)).then(RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((irrelevant)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).flatMap((irrelevant)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.READ)).then(RxJava2Adapter.singleToMono(auditService.findById(ReferenceType.ORGANIZATION, organizationId, audit))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.ENVIRONMENT, Acl.READ)).then(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.ENVIRONMENT, environmentId)).map(RxJavaReactorMigrationUtil.toJdkFunction(Permission::flatten))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.ENVIRONMENT, Acl.READ)).then(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.ENVIRONMENT, environmentId)).map(RxJavaReactorMigrationUtil.toJdkFunction(Permission::flatten)))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN, Acl.LIST)).thenMany(query != null ? domainService.search(organizationId, environmentId, query) : domainService.findAllByEnvironment(organizationId, environmentId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Domain, MaybeSource<Domain>>toJdkFunction((domain)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.DOMAIN, domain.getId(), Permission.DOMAIN, Acl.READ), of(ReferenceType.ENVIRONMENT, environmentId, Permission.DOMAIN, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.DOMAIN, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->domain)))).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterDomainInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((domains)->new Page<Domain>(domains.stream().skip((long)page * size).limit(size).collect(Collectors.toList()), page, domains.size()))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN, Acl.LIST)).thenMany(query != null ? domainService.search(organizationId, environmentId, query) : domainService.findAllByEnvironment(organizationId, environmentId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Domain, MaybeSource<Domain>>toJdkFunction((domain)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.DOMAIN, domain.getId(), Permission.DOMAIN, Acl.READ), of(ReferenceType.ENVIRONMENT, environmentId, Permission.DOMAIN, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.DOMAIN, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->domain)))).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterDomainInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList().map
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN, Acl.LIST)).thenMany(query != null ? domainService.search(organizationId, environmentId, query) : domainService.findAllByEnvironment(organizationId, environmentId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Domain, MaybeSource<Domain>>toJdkFunction((domain)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.DOMAIN, domain.getId(), Permission.DOMAIN, Acl.READ), of(ReferenceType.ENVIRONMENT, environmentId, Permission.DOMAIN, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.DOMAIN, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->domain)))).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterDomainInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN, Acl.LIST)).thenMany(query != null ? domainService.search(organizationId, environmentId, query) : domainService.findAllByEnvironment(organizationId, environmentId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Domain, MaybeSource<Domain>>toJdkFunction((domain)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.DOMAIN, domain.getId(), Permission.DOMAIN, Acl.READ), of(ReferenceType.ENVIRONMENT, environmentId, Permission.DOMAIN, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.DOMAIN, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->domain)))).apply(e)))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterDomainInfos)).sort
1 | Flux | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN, Acl.LIST)).thenMany(query != null ? domainService.search(organizationId, environmentId, query) : domainService.findAllByEnvironment(organizationId, environmentId)).flatMap((e)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Domain, MaybeSource<Domain>>toJdkFunction((domain)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.DOMAIN, domain.getId(), Permission.DOMAIN, Acl.READ), of(ReferenceType.ENVIRONMENT, environmentId, Permission.DOMAIN, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.DOMAIN, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->domain)))).apply(e)))).map
1 | Mono | thenMany | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN, Acl.LIST)).thenMany(query != null ? domainService.search(organizationId, environmentId, query) : domainService.findAllByEnvironment(organizationId, environmentId)).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.DOMAIN, domain.getId(), Permission.DOMAIN, Acl.READ), of(ReferenceType.ENVIRONMENT, environmentId, Permission.DOMAIN, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.DOMAIN, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((permit)->domain)))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, or(of(ReferenceType.DOMAIN, domain.getId(), Permission.DOMAIN, Acl.READ), of(ReferenceType.ENVIRONMENT, environmentId, Permission.DOMAIN, Acl.READ), of(ReferenceType.ORGANIZATION, organizationId, Permission.DOMAIN, Acl.READ)))).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN, Acl.CREATE)).then(RxJava2Adapter.singleToMono(domainService.create(organizationId, environmentId, newDomain, authenticatedUser)).flatMap((domain)->RxJava2Adapter.singleToMono(identityProviderManager.create(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.IdentityProvider __)->domain))).flatMap((domain)->RxJava2Adapter.singleToMono(reporterService.createDefault(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Reporter __)->domain)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN, Acl.CREATE)).then(RxJava2Adapter.singleToMono(domainService.create(organizationId, environmentId, newDomain, authenticatedUser)).flatMap((domain)->RxJava2Adapter.singleToMono(identityProviderManager.create(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.IdentityProvider __)->domain))).flatMap((domain)->RxJava2Adapter.singleToMono(reporterService.createDefault(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Reporter __)->domain))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(domainService.create(organizationId, environmentId, newDomain, authenticatedUser)).flatMap((domain)->RxJava2Adapter.singleToMono(identityProviderManager.create(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.IdentityProvider __)->domain))).flatMap
1 | Mono | map | METHOD_INVOCATION | (domain)->RxJava2Adapter.singleToMono(identityProviderManager.create(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.IdentityProvider __)->domain))
1 | Mono | map | METHOD_INVOCATION | (domain)->RxJava2Adapter.singleToMono(reporterService.createDefault(domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((io.gravitee.am.model.Reporter __)->domain))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(domainService.findByHrid(environmentId, hrid)).flatMap((domain)->RxJava2Adapter.completableToMono(checkAnyPermission(authenticatedUser, organizationId, environmentId, domain.getId(), Permission.DOMAIN, Acl.READ)).then(Mono.defer(()->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterDomainInfos(domain, userPermissions)))))))
1 | Mono | then | METHOD_INVOCATION | (domain)->RxJava2Adapter.completableToMono(checkAnyPermission(authenticatedUser, organizationId, environmentId, domain.getId(), Permission.DOMAIN, Acl.READ)).then(Mono.defer(()->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterDomainInfos(domain, userPermissions)))))
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(authenticatedUser, organizationId, environmentId, domain.getId(), Permission.DOMAIN, Acl.READ)).then(Mono.defer(()->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterDomainInfos(domain, userPermissions)))))
1 | Mono | map | METHOD_INVOCATION | ()->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterDomainInfos(domain, userPermissions)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domainId, Permission.DOMAIN, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))).flatMapSingle((domain)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domainId)).map(RxJavaReactorMigrationUtil.toJdkFunction((userPermissions)->filterDomainInfos(domain, userPermissions))))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domainId)).map(RxJavaReactorMigrationUtil.toJdkFunction((userPermissions)->filterDomainInfos(domain, userPermissions))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN, Acl.DELETE)).then(RxJava2Adapter.completableToMono(domainService.delete(domain, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domainId, Permission.DOMAIN, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))).flatMapSingle((domain)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(entrypointService.findAll(organizationId)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((entrypoints)->filterEntrypoints(entrypoints, domain))))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(entrypointService.findAll(organizationId)).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((entrypoints)->filterEntrypoints(entrypoints, domain))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(entrypointService.findAll(organizationId)).collectList().map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.merge(requiredPermissions.stream().map((permission)->checkAnyPermission(organizationId, environmentId, domainId, permission, Acl.UPDATE)).collect(Collectors.toList()))).then(RxJava2Adapter.singleToMono(domainService.patch(domainId, patchDomain, authenticatedUser)).flatMap((v)->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domainId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterDomainInfos(v, userPermissions))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(Completable.merge(requiredPermissions.stream().map((permission)->checkAnyPermission(organizationId, environmentId, domainId, permission, Acl.UPDATE)).collect(Collectors.toList()))).then(RxJava2Adapter.singleToMono(domainService.patch(domainId, patchDomain, authenticatedUser)).flatMap((v)->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domainId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterDomainInfos(v, userPermissions)))))
1 | Mono | map | METHOD_INVOCATION | (v)->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domainId)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterDomainInfos(v, userPermissions)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->{
    if (query != null) {
        return applicationService.search(domain, query, 0, Integer.MAX_VALUE);
    } else {
        return applicationService.findByDomain(domain, 0, Integer.MAX_VALUE);
    }
})).flatMap((pagedApplications)->RxJava2Adapter.flowableToFlux(Maybe.concat(pagedApplications.getData().stream().map((io.gravitee.am.model.Application application)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, application.getId(), Permission.APPLICATION, Acl.READ)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean __)->filterApplicationInfos(application))))).collect(Collectors.toList()))).sort((io.gravitee.am.model.Application a1, io.gravitee.am.model.Application a2)->a2.getUpdatedAt().compareTo(a1.getUpdatedAt())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.Application> applications)->new Page<>(applications.stream().skip(page * size).limit(size).collect(Collectors.toList()), page, applications.size()))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->{
    if (query != null) {
        return applicationService.search(domain, query, 0, Integer.MAX_VALUE);
    } else {
        return applicationService.findByDomain(domain, 0, Integer.MAX_VALUE);
    }
})).flatMap((pagedApplications)->RxJava2Adapter.flowableToFlux(Maybe.concat(pagedApplications.getData().stream().map((io.gravitee.am.model.Application application)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, application.getId(), Permission.APPLICATION, Acl.READ)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean __)->filterApplicationInfos(application))))).collect(Collectors.toList()))).sort((io.gravitee.am.model.Application a1, io.gravitee.am.model.Application a2)->a2.getUpdatedAt().compareTo(a1.getUpdatedAt())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.Application> applications)->new Page<>(applications.stream().skip(page * size).limit(size).collect(Collectors.toList()), page, applications.size())))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | map | METHOD_INVOCATION | (pagedApplications)->RxJava2Adapter.flowableToFlux(Maybe.concat(pagedApplications.getData().stream().map((io.gravitee.am.model.Application application)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, application.getId(), Permission.APPLICATION, Acl.READ)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean __)->filterApplicationInfos(application))))).collect(Collectors.toList()))).sort((io.gravitee.am.model.Application a1, io.gravitee.am.model.Application a2)->a2.getUpdatedAt().compareTo(a1.getUpdatedAt())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.Application> applications)->new Page<>(applications.stream().skip(page * size).limit(size).collect(Collectors.toList()), page, applications.size())))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(Maybe.concat(pagedApplications.getData().stream().map((io.gravitee.am.model.Application application)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, application.getId(), Permission.APPLICATION, Acl.READ)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean __)->filterApplicationInfos(application))))).collect(Collectors.toList()))).sort((io.gravitee.am.model.Application a1, io.gravitee.am.model.Application a2)->a2.getUpdatedAt().compareTo(a1.getUpdatedAt())).collectList().map
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(Maybe.concat(pagedApplications.getData().stream().map((io.gravitee.am.model.Application application)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, application.getId(), Permission.APPLICATION, Acl.READ)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean __)->filterApplicationInfos(application))))).collect(Collectors.toList()))).sort((io.gravitee.am.model.Application a1, io.gravitee.am.model.Application a2)->a2.getUpdatedAt().compareTo(a1.getUpdatedAt())).collectList
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, application.getId(), Permission.APPLICATION, Acl.READ)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean __)->filterApplicationInfos(application))))
1 | Mono | filter | METHOD_INVOCATION | RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, application.getId(), Permission.APPLICATION, Acl.READ)).filter(RxJavaReactorMigrationUtil.toJdkPredicate(Boolean::booleanValue)).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.create(domain, newApplication, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((application)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application.getId())).entity(application).build())))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.create(domain, newApplication, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((application)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application.getId())).entity(application).build())))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_IDENTITY_PROVIDER, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->identityProviderService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterIdentityProviderInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_IDENTITY_PROVIDER, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->identityProviderService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterIdentityProviderInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->identityProviderService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterIdentityProviderInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->identityProviderService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterIdentityProviderInfos)).sort
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->identityProviderService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((identityProvider)->{
    if (userProvider) {
        return identityProviderManager.userProviderExists(identityProvider.getId());
    }
    return true;
})).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_IDENTITY_PROVIDER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->identityProviderService.create(domain, newIdentityProvider, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProvider)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/identities/" + identityProvider.getId())).entity(identityProvider).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_IDENTITY_PROVIDER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->identityProviderService.create(domain, newIdentityProvider, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProvider)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/identities/" + identityProvider.getId())).entity(identityProvider).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->certificateService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((c)->{
    if (!StringUtils.isEmpty(use)) {
        final JsonObject config = JsonObject.mapFrom(Json.decodeValue(c.getConfiguration(), HashMap.class));
        if (config != null && config.getJsonArray("use") != null) {
            return config.getJsonArray("use").contains(use);
        }
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterCertificateInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((sortedCertificates)->Response.ok(sortedCertificates).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->certificateService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((c)->{
    if (!StringUtils.isEmpty(use)) {
        final JsonObject config = JsonObject.mapFrom(Json.decodeValue(c.getConfiguration(), HashMap.class));
        if (config != null && config.getJsonArray("use") != null) {
            return config.getJsonArray("use").contains(use);
        }
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterCertificateInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList().map(RxJavaReactorMigrationUtil.toJdkFunction((sortedCertificates)->Response.ok(sortedCertificates).build())))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->certificateService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((c)->{
    if (!StringUtils.isEmpty(use)) {
        final JsonObject config = JsonObject.mapFrom(Json.decodeValue(c.getConfiguration(), HashMap.class));
        if (config != null && config.getJsonArray("use") != null) {
            return config.getJsonArray("use").contains(use);
        }
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterCertificateInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList().map
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->certificateService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((c)->{
    if (!StringUtils.isEmpty(use)) {
        final JsonObject config = JsonObject.mapFrom(Json.decodeValue(c.getConfiguration(), HashMap.class));
        if (config != null && config.getJsonArray("use") != null) {
            return config.getJsonArray("use").contains(use);
        }
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterCertificateInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->certificateService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((c)->{
    if (!StringUtils.isEmpty(use)) {
        final JsonObject config = JsonObject.mapFrom(Json.decodeValue(c.getConfiguration(), HashMap.class));
        if (config != null && config.getJsonArray("use") != null) {
            return config.getJsonArray("use").contains(use);
        }
    }
    return true;
})).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterCertificateInfos)).sort
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->certificateService.findByDomain(domain))).filter(RxJavaReactorMigrationUtil.toJdkPredicate((c)->{
    if (!StringUtils.isEmpty(use)) {
        final JsonObject config = JsonObject.mapFrom(Json.decodeValue(c.getConfiguration(), HashMap.class));
        if (config != null && config.getJsonArray("use") != null) {
            return config.getJsonArray("use").contains(use);
        }
    }
    return true;
})).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((schema)->certificateService.create(domain, newCertificate, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((certificate)->{
    return Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/certificates/" + certificate.getId())).entity(certificate).build();
}))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((schema)->certificateService.create(domain, newCertificate, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((certificate)->{
    return Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/certificates/" + certificate.getId())).entity(certificate).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.LIST)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))).flatMapSingle((__)->searchRoles(domain, query, page, size))).map(RxJavaReactorMigrationUtil.toJdkFunction((pagedRoles)->{
    List<Role> roles = pagedRoles.getData().stream().map(this::filterRoleInfos).sorted(Comparator.comparing(Role::getName)).collect(Collectors.toList());
    return new Page<>(roles, pagedRoles.getCurrentPage(), pagedRoles.getTotalCount());
})))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.LIST)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.LIST)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.create(domain, newRole, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((role)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/roles/" + role.getId())).entity(role).build())))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.create(domain, newRole, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((role)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/roles/" + role.getId())).entity(role).build())))
1 | Mono | RETURN_TYPE
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->searchUsers(ReferenceType.DOMAIN, domain, query, filter, page, size))).flatMap((pagedUsers)->RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).flatMap((hasPermission)->RxJava2Adapter.singleToMono(Observable.fromIterable(pagedUsers.getData()).flatMapSingle((io.gravitee.am.model.User user)->filterUserInfos(hasPermission, user)).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.User> users)->new Page<>(users, pagedUsers.getCurrentPage(), pagedUsers.getTotalCount())))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->searchUsers(ReferenceType.DOMAIN, domain, query, filter, page, size))).flatMap((pagedUsers)->RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).flatMap((hasPermission)->RxJava2Adapter.singleToMono(Observable.fromIterable(pagedUsers.getData()).flatMapSingle((io.gravitee.am.model.User user)->filterUserInfos(hasPermission, user)).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.User> users)->new Page<>(users, pagedUsers.getCurrentPage(), pagedUsers.getTotalCount()))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | flatMap | METHOD_INVOCATION | (pagedUsers)->RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).flatMap((hasPermission)->RxJava2Adapter.singleToMono(Observable.fromIterable(pagedUsers.getData()).flatMapSingle((io.gravitee.am.model.User user)->filterUserInfos(hasPermission, user)).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.User> users)->new Page<>(users, pagedUsers.getCurrentPage(), pagedUsers.getTotalCount()))))
1 | Mono | map | METHOD_INVOCATION | (hasPermission)->RxJava2Adapter.singleToMono(Observable.fromIterable(pagedUsers.getData()).flatMapSingle((io.gravitee.am.model.User user)->filterUserInfos(hasPermission, user)).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.List<io.gravitee.am.model.User> users)->new Page<>(users, pagedUsers.getCurrentPage(), pagedUsers.getTotalCount())))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domainId, Permission.DOMAIN_USER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))).flatMapSingle((domain)->userService.create(domain, newUser, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domainId + "/users/" + user.getId())).entity(user).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domainId, Permission.DOMAIN_USER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))).flatMapSingle((domain)->userService.create(domain, newUser, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((user)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domainId + "/users/" + user.getId())).entity(user).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    filteredUser.setSource(idP.getName());
    return filteredUser;
})).defaultIfEmpty(filteredUser).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    filteredUser.setSource(idP.getName());
    return filteredUser;
})).defaultIfEmpty(filteredUser).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(user.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    filteredUser.setSource(idP.getName());
    return filteredUser;
})).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(filteredUser))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EXTENSION_GRANT, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterExtensionGrantInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList()))).map(RxJavaReactorMigrationUtil.toJdkFunction((sortedExtensionGrants)->Response.ok(sortedExtensionGrants).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EXTENSION_GRANT, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterExtensionGrantInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList()))).map(RxJavaReactorMigrationUtil.toJdkFunction((sortedExtensionGrants)->Response.ok(sortedExtensionGrants).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterExtensionGrantInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterExtensionGrantInfos)).sort((o1,o2)->String.CASE_INSENSITIVE_ORDER.compare(o1.getName(), o2.getName())).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(extensionGrantService.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterExtensionGrantInfos)).sort
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EXTENSION_GRANT, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantService.create(domain, newExtensionGrant, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrant)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/extensionGrants/" + extensionGrant.getId())).entity(extensionGrant).build())))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantService.create(domain, newExtensionGrant, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrant)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/extensionGrants/" + extensionGrant.getId())).entity(extensionGrant).build())))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_SCOPE, Acl.LIST)).then(RxJava2Adapter.singleToMono(Single.wrap(query != null ? scopeService.search(domain, query, page, Math.min(size, MAX_SCOPES_SIZE_PER_PAGE)) : scopeService.findByDomain(domain, page, Math.min(size, MAX_SCOPES_SIZE_PER_PAGE))))).map(RxJavaReactorMigrationUtil.toJdkFunction((searchPage)->new Page(searchPage.getData().stream().map(this::filterScopeInfos).sorted(Comparator.comparing(Scope::getKey)).collect(Collectors.toList()), searchPage.getCurrentPage(), searchPage.getTotalCount()))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_SCOPE, Acl.LIST)).then(RxJava2Adapter.singleToMono(Single.wrap(query != null ? scopeService.search(domain, query, page, Math.min(size, MAX_SCOPES_SIZE_PER_PAGE)) : scopeService.findByDomain(domain, page, Math.min(size, MAX_SCOPES_SIZE_PER_PAGE))))).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_SCOPE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(scopeService.create(domain, newScope, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((scope)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/scopes/" + scope.getId())).entity(scope).build())))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(scopeService.create(domain, newScope, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((scope)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/scopes/" + scope.getId())).entity(scope).build())))
1 | Mono | IMPORT
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FORM, Acl.READ)).then(RxJava2Adapter.maybeToMono(formService.findByDomainAndTemplate(domain, formTemplate.template()))).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.ok(form).build())).defaultIfEmpty(Response.ok(new Form(false, formTemplate.template())).build()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FORM, Acl.READ)).then(RxJava2Adapter.maybeToMono(formService.findByDomainAndTemplate(domain, formTemplate.template()))).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.ok(form).build())).defaultIfEmpty
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FORM, Acl.READ)).then(RxJava2Adapter.maybeToMono(formService.findByDomainAndTemplate(domain, formTemplate.template()))).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FORM, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(formService.create(domain, newForm, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/forms/" + form.getId())).entity(form).build())))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(formService.create(domain, newForm, authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/forms/" + form.getId())).entity(form).build())))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->groupService.findByDomain(domain, page, Integer.min(size, MAX_GROUPS_SIZE_PER_PAGE)))).map(RxJavaReactorMigrationUtil.toJdkFunction((groupPage)->new Page<>(groupPage.getData().stream().map(this::filterGroupInfos).collect(Collectors.toList()), groupPage.getCurrentPage(), groupPage.getTotalCount())))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->groupService.findByDomain(domain, page, Integer.min(size, MAX_GROUPS_SIZE_PER_PAGE)))).map(RxJavaReactorMigrationUtil.toJdkFunction((groupPage)->new Page<>(groupPage.getData().stream().map(this::filterGroupInfos).collect(Collectors.toList()), groupPage.getCurrentPage(), groupPage.getTotalCount()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->groupService.create(domain, newGroup, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/groups/" + group.getId())).entity(group).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->groupService.create(domain, newGroup, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((group)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/groups/" + group.getId())).entity(group).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EMAIL_TEMPLATE, Acl.READ)).then(RxJava2Adapter.maybeToMono(emailTemplateService.findByDomainAndTemplate(domain, emailTemplate.template()))).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.ok(email).build())).defaultIfEmpty(Response.ok(new Email(false, emailTemplate.template())).build()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EMAIL_TEMPLATE, Acl.READ)).then(RxJava2Adapter.maybeToMono(emailTemplateService.findByDomainAndTemplate(domain, emailTemplate.template()))).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.ok(email).build())).defaultIfEmpty
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EMAIL_TEMPLATE, Acl.READ)).then(RxJava2Adapter.maybeToMono(emailTemplateService.findByDomainAndTemplate(domain, emailTemplate.template()))).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EMAIL_TEMPLATE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->emailTemplateService.create(domain, newEmail, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/emails/" + email.getId())).entity(email).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EMAIL_TEMPLATE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->emailTemplateService.create(domain, newEmail, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/emails/" + email.getId())).entity(email).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_AUDIT, Acl.LIST)).then(RxJava2Adapter.singleToMono(auditService.search(domain, queryBuilder.build(), param.getPage(), param.getSize())).flatMap((auditPage)->RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.READ)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean hasPermission)->{
    if (hasPermission) {
        return auditPage;
    } else {
        return new Page<>(auditPage.getData().stream().map(FilterUtils::filterAuditInfos).collect(Collectors.toList()), auditPage.getCurrentPage(), auditPage.getTotalCount());
    }
})))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_AUDIT, Acl.LIST)).then(RxJava2Adapter.singleToMono(auditService.search(domain, queryBuilder.build(), param.getPage(), param.getSize())).flatMap((auditPage)->RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.READ)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean hasPermission)->{
    if (hasPermission) {
        return auditPage;
    } else {
        return new Page<>(auditPage.getData().stream().map(FilterUtils::filterAuditInfos).collect(Collectors.toList()), auditPage.getCurrentPage(), auditPage.getTotalCount());
    }
}))))
1 | Mono | map | METHOD_INVOCATION | (auditPage)->RxJava2Adapter.singleToMono(hasPermission(authenticatedUser, ReferenceType.ORGANIZATION, organizationId, Permission.ORGANIZATION_AUDIT, Acl.READ)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean hasPermission)->{
    if (hasPermission) {
        return auditPage;
    } else {
        return new Page<>(auditPage.getData().stream().map(FilterUtils::filterAuditInfos).collect(Collectors.toList()), auditPage.getCurrentPage(), auditPage.getTotalCount());
    }
}))
1 | Mono | IMPORT
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domain)).collectList())))).flatMap((reporters)->RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.READ)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean hasPermission)->{
    if (hasPermission) {
        return reporters;
    }
    return reporters.stream().map(this::filterReporterInfos).collect(Collectors.toList());
}))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domain)).collectList())))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(reporterService.findByDomain(domain)).collectList())
1 | Mono | map | METHOD_INVOCATION | (reporters)->RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.READ)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.lang.Boolean hasPermission)->{
    if (hasPermission) {
        return reporters;
    }
    return reporters.stream().map(this::filterReporterInfos).collect(Collectors.toList());
}))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->reporterService.create(domain, newReporter, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_MEMBER, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((domain1)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domain1.getId(), ReferenceType.DOMAIN)).collectList()))).flatMap((memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_MEMBER, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((domain1)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domain1.getId(), ReferenceType.DOMAIN)).collectList()))).flatMap((memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(membershipService.findByReference(domain1.getId(), ReferenceType.DOMAIN)).collectList())
1 | Mono | map | METHOD_INVOCATION | (memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_MEMBER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((domain1)->membershipService.addOrUpdate(organizationId, membership, authenticatedUser))).flatMap((membership1)->RxJava2Adapter.completableToMono(membershipService.addEnvironmentUserRoleIfNecessary(organizationId, environmentId, newMembership, authenticatedUser)).then(Mono.just(Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/members/" + membership1.getId())).entity(membership1).build())))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_MEMBER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((domain1)->membershipService.addOrUpdate(organizationId, membership, authenticatedUser))).flatMap((membership1)->RxJava2Adapter.completableToMono(membershipService.addEnvironmentUserRoleIfNecessary(organizationId, environmentId, newMembership, authenticatedUser)).then(Mono.just(Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/members/" + membership1.getId())).entity(membership1).build()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | (membership1)->RxJava2Adapter.completableToMono(membershipService.addEnvironmentUserRoleIfNecessary(organizationId, environmentId, newMembership, authenticatedUser)).then(Mono.just(Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/members/" + membership1.getId())).entity(membership1).build()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(membershipService.addEnvironmentUserRoleIfNecessary(organizationId, environmentId, newMembership, authenticatedUser)).then(Mono.just(Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/members/" + membership1.getId())).entity(membership1).build()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN, Acl.READ)).then(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.DOMAIN, domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(Permission::flatten))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN, Acl.READ)).then(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.DOMAIN, domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(Permission::flatten)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ANALYTICS, Acl.READ)).then(RxJava2Adapter.singleToMono(analyticsService.execute(query))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((___)->factorService.findByDomain(domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterFactorInfos)).collectList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((___)->factorService.findByDomain(domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterFactorInfos)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((___)->factorService.findByDomain(domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterFactorInfos)).collectList
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->factorService.create(domain, newFactor, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((factor)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/factors/" + factor.getId())).entity(factor).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->factorService.create(domain, newFactor, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((factor)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/factors/" + factor.getId())).entity(factor).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((___)->resourceService.findByDomain(domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterFactorInfos)).collectList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.LIST)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((___)->resourceService.findByDomain(domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterFactorInfos)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((___)->resourceService.findByDomain(domain))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterFactorInfos)).collectList
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_RESOURCE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->resourceService.create(domain, newResource, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((resource)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/resources/" + resource.getId())).entity(resource).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_RESOURCE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->resourceService.create(domain, newResource, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((resource)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/resources/" + resource.getId())).entity(resource).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.LIST)).then(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.READ)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((hasPermission)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domain, true)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->filterFlowInfos(hasPermission, flow)))))).collectList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.LIST)).then(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.READ)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((hasPermission)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domain, true)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->filterFlowInfos(hasPermission, flow)))))).collectList())
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.READ)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((hasPermission)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domain, true)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->filterFlowInfos(hasPermission, flow)))))).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowService.findAll(ReferenceType.DOMAIN, domain, true)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->filterFlowInfos(hasPermission, flow))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->flowService.createOrUpdate(ReferenceType.DOMAIN, domain, convert(flows), authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((updatedFlows)->updatedFlows.stream().map(FlowEntity::new).collect(Collectors.toList())))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->flowService.createOrUpdate(ReferenceType.DOMAIN, domain, convert(flows), authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((updatedFlows)->updatedFlows.stream().map(FlowEntity::new).collect(Collectors.toList()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_BOT_DETECTION, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((___)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(botDetectionService.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterBotDetectionInfos)).collectList())))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(botDetectionService.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterBotDetectionInfos)).collectList())
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(botDetectionService.findByDomain(domain)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::filterBotDetectionInfos)).collectList
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_BOT_DETECTION, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->botDetectionService.create(domain, newBotDetection, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((botDetection)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/bot-detections/" + botDetection.getId())).entity(botDetection).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_BOT_DETECTION, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->botDetectionService.create(domain, newBotDetection, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((botDetection)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/bot-detections/" + botDetection.getId())).entity(botDetection).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_BOT_DETECTION, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->botDetectionService.findById(botDetectionId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId))).map(RxJavaReactorMigrationUtil.toJdkFunction((botDetection)->{
    if (!botDetection.getReferenceId().equalsIgnoreCase(domain) && botDetection.getReferenceType() != ReferenceType.DOMAIN) {
        throw new BadRequestException("BotDetection does not belong to domain");
    }
    return Response.ok(botDetection).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_BOT_DETECTION, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->botDetectionService.findById(botDetectionId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId))).map(RxJavaReactorMigrationUtil.toJdkFunction((botDetection)->{
    if (!botDetection.getReferenceId().equalsIgnoreCase(domain) && botDetection.getReferenceType() != ReferenceType.DOMAIN) {
        throw new BadRequestException("BotDetection does not belong to domain");
    }
    return Response.ok(botDetection).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->botDetectionService.findById(botDetectionId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->botDetectionService.findById(botDetectionId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->botDetectionService.findById(botDetectionId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new BotDetectionNotFoundException(botDetectionId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_BOT_DETECTION, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->botDetectionService.update(domain, botDetection, updateBotDetection, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_BOT_DETECTION, Acl.DELETE)).then(RxJava2Adapter.completableToMono(botDetectionService.delete(domain, botDetectionId, authenticatedUser))))
1 | Flux | IMPORT
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT, Acl.LIST)).thenMany(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).sort(Comparator.comparingInt((o)->o.getType().getOrder())).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT, Acl.LIST)).thenMany(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).sort(Comparator.comparingInt((o)->o.getType().getOrder())).collectList
1 | Mono | thenMany | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT, Acl.LIST)).thenMany(alertTriggerService.findByDomainAndCriteria(domainId, new AlertTriggerCriteria())).sort
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(RxJava2Adapter.fluxToFlowable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT, Acl.UPDATE)).thenMany(RxJava2Adapter.fluxToFlowable(Flux.fromIterable(patchAlertTriggers)))).flatMapSingle((patchAlertTrigger)->alertTriggerService.createOrUpdate(ReferenceType.DOMAIN, domainId, patchAlertTrigger, authenticatedUser))).collectList())
1 | Mono | thenMany | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT, Acl.UPDATE)).thenMany(RxJava2Adapter.fluxToFlowable(Flux.fromIterable(patchAlertTriggers))))
1 | Flux | fromIterable | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.fromIterable(patchAlertTriggers))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT_NOTIFIER, Acl.LIST)).thenMany(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).sort(Comparator.comparing(AlertNotifier::getCreatedAt)).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT_NOTIFIER, Acl.LIST)).thenMany(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).sort(Comparator.comparing(AlertNotifier::getCreatedAt)).collectList
1 | Mono | thenMany | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT_NOTIFIER, Acl.LIST)).thenMany(alertNotifierService.findByDomainAndCriteria(domainId, new AlertNotifierCriteria())).sort
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT_NOTIFIER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(alertNotifierService.create(ReferenceType.DOMAIN, domainId, newAlertNotifier, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT_NOTIFIER, Acl.LIST)).then(RxJava2Adapter.singleToMono(alertNotifierService.getById(ReferenceType.DOMAIN, domainId, notifierId))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT_NOTIFIER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(alertNotifierService.update(ReferenceType.DOMAIN, domainId, notifierId, patchAlertNotifier, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT_NOTIFIER, Acl.LIST)).then(RxJava2Adapter.completableToMono(alertNotifierService.delete(ReferenceType.DOMAIN, domainId, notifierId, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(flowService.findById(ReferenceType.DOMAIN, domain, flow)).switchIfEmpty(Mono.error(new FlowNotFoundException(flow))).map(RxJavaReactorMigrationUtil.toJdkFunction(FlowEntity::new))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(flowService.findById(ReferenceType.DOMAIN, domain, flow)).switchIfEmpty(Mono.error(new FlowNotFoundException(flow))).map(RxJavaReactorMigrationUtil.toJdkFunction(FlowEntity::new)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowService.findById(ReferenceType.DOMAIN, domain, flow)).switchIfEmpty(Mono.error(new FlowNotFoundException(flow))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowService.findById(ReferenceType.DOMAIN, domain, flow)).switchIfEmpty(Mono.error(new FlowNotFoundException(flow)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(flowService.update(ReferenceType.DOMAIN, domain, flow, convert(updateFlow), authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(FlowEntity::new))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FLOW, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(flowService.update(ReferenceType.DOMAIN, domain, flow, convert(updateFlow), authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(FlowEntity::new)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_RESOURCE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->resourceService.findById(resource).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new FactorNotFoundException(resource))).map(RxJavaReactorMigrationUtil.toJdkFunction((res1)->{
    if (!res1.getReferenceId().equalsIgnoreCase(domain) && res1.getReferenceType() != ReferenceType.DOMAIN) {
        throw new BadRequestException("Resource does not belong to domain");
    }
    return Response.ok(res1).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_RESOURCE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->resourceService.findById(resource).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new FactorNotFoundException(resource))).map(RxJavaReactorMigrationUtil.toJdkFunction((res1)->{
    if (!res1.getReferenceId().equalsIgnoreCase(domain) && res1.getReferenceType() != ReferenceType.DOMAIN) {
        throw new BadRequestException("Resource does not belong to domain");
    }
    return Response.ok(res1).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->resourceService.findById(resource).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new FactorNotFoundException(resource))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->resourceService.findById(resource).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->resourceService.findById(resource).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new FactorNotFoundException(resource)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_RESOURCE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->resourceService.update(domain, resource, updateResource, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_RESOURCE, Acl.DELETE)).then(RxJava2Adapter.completableToMono(resourceService.delete(domain, resource, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->factorService.findById(factor).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new FactorNotFoundException(factor))).map(RxJavaReactorMigrationUtil.toJdkFunction((factor1)->{
    if (!factor1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Factor does not belong to domain");
    }
    return Response.ok(factor1).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->factorService.findById(factor).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new FactorNotFoundException(factor))).map(RxJavaReactorMigrationUtil.toJdkFunction((factor1)->{
    if (!factor1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Factor does not belong to domain");
    }
    return Response.ok(factor1).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->factorService.findById(factor).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new FactorNotFoundException(factor))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->factorService.findById(factor).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->factorService.findById(factor).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new FactorNotFoundException(factor)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->factorService.update(domain, factor, updateFactor, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FACTOR, Acl.DELETE)).then(RxJava2Adapter.completableToMono(factorService.delete(domain, factor, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_MEMBER, Acl.DELETE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_MEMBER, Acl.DELETE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ReporterNotFoundException(reporter))).map(RxJavaReactorMigrationUtil.toJdkFunction((reporter1)->{
    if (!reporter1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Reporter does not belong to domain");
    }
    return Response.ok(reporter1).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ReporterNotFoundException(reporter))).map(RxJavaReactorMigrationUtil.toJdkFunction((reporter1)->{
    if (!reporter1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Reporter does not belong to domain");
    }
    return Response.ok(reporter1).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ReporterNotFoundException(reporter))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ReporterNotFoundException(reporter)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->reporterService.update(domain, reporter, updateReporter, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.READ)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty())).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<Reporter>, CompletableSource>)(reporter1)->{
    if (reporter1.isPresent()) {
        if (!reporter1.get().getDomain().equalsIgnoreCase(domain)) {
            throw new BadRequestException("Reporter does not belong to domain");
        }
        return reporterService.delete(reporter, authenticatedUser);
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_REPORTER, Acl.READ)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty())).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<Reporter>, CompletableSource>)(reporter1)->{
    if (reporter1.isPresent()) {
        if (!reporter1.get().getDomain().equalsIgnoreCase(domain)) {
            throw new BadRequestException("Reporter does not belong to domain");
        }
        return reporterService.delete(reporter, authenticatedUser);
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty())).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Optional<Reporter>, CompletableSource>)(reporter1)->{
    if (reporter1.isPresent()) {
        if (!reporter1.get().getDomain().equalsIgnoreCase(domain)) {
            throw new BadRequestException("Reporter does not belong to domain");
        }
        return reporterService.delete(reporter, authenticatedUser);
    }
    return RxJava2Adapter.monoToCompletable(Mono.empty());
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty())).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->reporterService.findById(reporter).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).switchIfEmpty(Mono.just(Optional.empty()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_AUDIT, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(auditService.findById(domain, audit))).as
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EMAIL_TEMPLATE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->emailTemplateService.update(domain, email, updateEmail, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EMAIL_TEMPLATE, Acl.DELETE)).then(RxJava2Adapter.completableToMono(emailTemplateService.delete(email, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, MaybeSource<io.gravitee.am.model.Group>>toJdkFunction((group1)->{
    if (group1.getReferenceType() == ReferenceType.DOMAIN && !group1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Group does not belong to domain");
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(group1));
}).apply(v))))).as
1 | Mono | flatMap | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.Group, MaybeSource<io.gravitee.am.model.Group>>toJdkFunction((group1)->{
    if (group1.getReferenceType() == ReferenceType.DOMAIN && !group1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Group does not belong to domain");
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(group1));
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(group1))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->groupService.update(domain, group, updateGroup, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.DELETE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(groupService.delete(ReferenceType.DOMAIN, domain, group, authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.DELETE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(groupService.delete(ReferenceType.DOMAIN, domain, group, authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(groupService.delete(ReferenceType.DOMAIN, domain, group, authenticatedUser))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->groupService.findMembers(ReferenceType.DOMAIN, domain, group, page, Integer.min(size, MAX_MEMBERS_SIZE_PER_PAGE)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.User>, SingleSource<Page>>toJdkFunction((pagedMembers)->{
    if (pagedMembers.getData() == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(pagedMembers));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedMembers.getData()).flatMapSingle((member)->{
        if (member.getSource() != null) {
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
                member.setSource(idP.getName());
                return member;
            })).defaultIfEmpty(member).single());
        }
        return RxJava2Adapter.monoToSingle(Mono.just(member));
    }).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((members)->new Page(members, pagedMembers.getCurrentPage(), pagedMembers.getTotalCount()))));
}).apply(v))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->groupService.findMembers(ReferenceType.DOMAIN, domain, group, page, Integer.min(size, MAX_MEMBERS_SIZE_PER_PAGE)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Page<io.gravitee.am.model.User>, SingleSource<Page>>toJdkFunction((pagedMembers)->{
    if (pagedMembers.getData() == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(pagedMembers));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedMembers.getData()).flatMapSingle((member)->{
        if (member.getSource() != null) {
            return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
                member.setSource(idP.getName());
                return member;
            })).defaultIfEmpty(member).single());
        }
        return RxJava2Adapter.monoToSingle(Mono.just(member));
    }).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((members)->new Page(members, pagedMembers.getCurrentPage(), pagedMembers.getTotalCount()))));
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pagedMembers))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedMembers.getData()).flatMapSingle((member)->{
    if (member.getSource() != null) {
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
            member.setSource(idP.getName());
            return member;
        })).defaultIfEmpty(member).single());
    }
    return RxJava2Adapter.monoToSingle(Mono.just(member));
}).toSortedList(Comparator.comparing(User::getUsername))).map(RxJavaReactorMigrationUtil.toJdkFunction((members)->new Page(members, pagedMembers.getCurrentPage(), pagedMembers.getTotalCount()))))
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    member.setSource(idP.getName());
    return member;
})).defaultIfEmpty(member).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    member.setSource(idP.getName());
    return member;
})).defaultIfEmpty(member).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(member.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    member.setSource(idP.getName());
    return member;
})).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(member))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group)))).flatMapSingle((group1)->{
    if (group1.getRoles() == null || group1.getRoles().isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()));
    }
    return roleService.findByIdIn(group1.getRoles());
}))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((domain1)->groupService.assignRoles(ReferenceType.DOMAIN, domain, group, roles, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((domain1)->groupService.revokeRoles(ReferenceType.DOMAIN, domain, group, Collections.singletonList(role), authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group)))).flatMapSingle((group1)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))).flatMapSingle((user)->{
    if (group1.getMembers() != null && group1.getMembers().contains(userId)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new MemberAlreadyExistsException(userId)));
    }
    List<String> groupMembers = group1.getMembers() != null ? new ArrayList<>(group1.getMembers()) : new ArrayList<>();
    groupMembers.add(userId);
    UpdateGroup updateGroup = new UpdateGroup();
    updateGroup.setName(group1.getName());
    updateGroup.setDescription(group1.getDescription());
    updateGroup.setRoles(group1.getRoles());
    updateGroup.setMembers(groupMembers);
    return groupService.update(domain, group, updateGroup, authenticatedUser);
})))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new MemberAlreadyExistsException(userId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_GROUP, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group)))).flatMapSingle((group1)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))).flatMapSingle((user)->{
    if (group1.getMembers() == null || !group1.getMembers().contains(userId)) {
        return RxJava2Adapter.monoToSingle(Mono.error(new MemberNotFoundException(userId)));
    }
    List<String> groupMembers = group1.getMembers() != null ? new ArrayList<>(group1.getMembers()) : new ArrayList<>();
    groupMembers.remove(userId);
    UpdateGroup updateGroup = new UpdateGroup();
    updateGroup.setName(group1.getName());
    updateGroup.setDescription(group1.getDescription());
    updateGroup.setRoles(group1.getRoles());
    updateGroup.setMembers(groupMembers);
    return groupService.update(domain, group, updateGroup, authenticatedUser);
})))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->groupService.findById(group).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new GroupNotFoundException(group)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(userId)).switchIfEmpty(Mono.error(new UserNotFoundException(userId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new MemberNotFoundException(userId)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FORM, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->formService.update(domain, form, updateForm, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_FORM, Acl.DELETE)).then(RxJava2Adapter.completableToMono(formService.delete(domain, form, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_SCOPE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeService.findById(scopeId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ScopeNotFoundException(scopeId))).map(RxJavaReactorMigrationUtil.toJdkFunction((scope)->{
    if (!scope.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Scope does not belong to domain");
    }
    return Response.ok(scope).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_SCOPE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeService.findById(scopeId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ScopeNotFoundException(scopeId))).map(RxJavaReactorMigrationUtil.toJdkFunction((scope)->{
    if (!scope.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Scope does not belong to domain");
    }
    return Response.ok(scope).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeService.findById(scopeId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ScopeNotFoundException(scopeId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeService.findById(scopeId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeService.findById(scopeId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ScopeNotFoundException(scopeId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_SCOPE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->scopeService.patch(domain, scope, patchScope, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_SCOPE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->scopeService.update(domain, scope, updateScope, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_SCOPE, Acl.DELETE)).then(RxJava2Adapter.completableToMono(scopeService.delete(scope, false, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EXTENSION_GRANT, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->extensionGrantService.findById(extensionGrant).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(extensionGrant))).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrant1)->{
    if (!extensionGrant1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Extension grant does not belong to domain");
    }
    return Response.ok(extensionGrant1).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EXTENSION_GRANT, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->extensionGrantService.findById(extensionGrant).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(extensionGrant))).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrant1)->{
    if (!extensionGrant1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Extension grant does not belong to domain");
    }
    return Response.ok(extensionGrant1).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->extensionGrantService.findById(extensionGrant).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(extensionGrant))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->extensionGrantService.findById(extensionGrant).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->extensionGrantService.findById(extensionGrant).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ExtensionGrantNotFoundException(extensionGrant)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EXTENSION_GRANT, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->extensionGrantService.update(domain, extensionGrant, updateExtensionGrant, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_EXTENSION_GRANT, Acl.DELETE)).then(RxJava2Adapter.completableToMono(extensionGrantService.delete(domain, extensionGrant, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction((user1)->{
    if (user1.getReferenceType() == ReferenceType.DOMAIN && !user1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("User does not belong to domain");
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(new UserEntity(user1)));
}).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.management.handlers.management.api.model.UserEntity, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction(this::enhanceIdentityProvider).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.management.handlers.management.api.model.UserEntity, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction(this::enhanceClient).apply(v))))).as
1 | Mono | flatMap | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction((user1)->{
    if (user1.getReferenceType() == ReferenceType.DOMAIN && !user1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("User does not belong to domain");
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(new UserEntity(user1)));
}).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.management.handlers.management.api.model.UserEntity, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction(this::enhanceIdentityProvider).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.management.handlers.management.api.model.UserEntity, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction(this::enhanceClient).apply(v)))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction((user1)->{
    if (user1.getReferenceType() == ReferenceType.DOMAIN && !user1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("User does not belong to domain");
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(new UserEntity(user1)));
}).apply(v)))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.management.handlers.management.api.model.UserEntity, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction(this::enhanceIdentityProvider).apply(v)))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, MaybeSource<io.gravitee.am.management.handlers.management.api.model.UserEntity>>toJdkFunction((user1)->{
    if (user1.getReferenceType() == ReferenceType.DOMAIN && !user1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("User does not belong to domain");
    }
    return RxJava2Adapter.monoToMaybe(Mono.just(new UserEntity(user1)));
}).apply(v)))).flatMap
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new UserEntity(user1)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->userService.update(ReferenceType.DOMAIN, domain, user, updateUser, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->userService.updateStatus(ReferenceType.DOMAIN, domain, user, status.isEnabled(), authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.DELETE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(userService.delete(ReferenceType.DOMAIN, domain, user, authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.DELETE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(userService.delete(ReferenceType.DOMAIN, domain, user, authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(userService.delete(ReferenceType.DOMAIN, domain, user, authenticatedUser))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domainId, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap((domain)->RxJava2Adapter.completableToMono(userService.resetPassword(domain, user, password.getPassword(), authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domainId, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap((domain)->RxJava2Adapter.completableToMono(userService.resetPassword(domain, user, password.getPassword(), authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap((domain)->RxJava2Adapter.completableToMono(userService.resetPassword(domain, user, password.getPassword(), authenticatedUser))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domainId)).switchIfEmpty(Mono.error(new DomainNotFoundException(domainId)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.completableToMono(userService.sendRegistrationConfirmation(domain, user, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(userService.unlock(ReferenceType.DOMAIN, domain, user, authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(userService.unlock(ReferenceType.DOMAIN, domain, user, authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((irrelevant)->RxJava2Adapter.completableToMono(userService.unlock(ReferenceType.DOMAIN, domain, user, authenticatedUser))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | RETURN_TYPE
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderService.findById(userEntity.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    userEntity.setSource(idP.getName());
    return userEntity;
})).defaultIfEmpty(userEntity))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderService.findById(userEntity.getSource())).map(RxJavaReactorMigrationUtil.toJdkFunction((idP)->{
    userEntity.setSource(idP.getName());
    return userEntity;
})).defaultIfEmpty
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userEntity))
1 | Mono | RETURN_TYPE
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(applicationService.findById(userEntity.getClient())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(userEntity.getReferenceId(), userEntity.getClient())))).map(RxJavaReactorMigrationUtil.toJdkFunction((application)->{
    userEntity.setApplicationEntity(new ApplicationEntity(application));
    return userEntity;
})).defaultIfEmpty(userEntity))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findById(userEntity.getClient())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(userEntity.getReferenceId(), userEntity.getClient())))).map(RxJavaReactorMigrationUtil.toJdkFunction((application)->{
    userEntity.setApplicationEntity(new ApplicationEntity(application));
    return userEntity;
})).defaultIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findById(userEntity.getClient())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(userEntity.getReferenceId(), userEntity.getClient())))).map
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findById(userEntity.getClient())).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(userEntity.getReferenceId(), userEntity.getClient()))))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(userEntity))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->{
    if (clientId == null || clientId.isEmpty()) {
        return scopeApprovalService.findByDomainAndUser(domain, user);
    }
    return scopeApprovalService.findByDomainAndUserAndClient(domain, user, clientId);
}).flatMapSingle((scopeApproval)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getClient(scopeApproval.getDomain(), scopeApproval.getClientId())).zipWith(RxJava2Adapter.singleToMono(getScope(scopeApproval.getDomain(), scopeApproval.getScope())), RxJavaReactorMigrationUtil.toJdkBiFunction(((clientEntity,scopeEntity)->{
    ScopeApprovalEntity scopeApprovalEntity = new ScopeApprovalEntity(scopeApproval);
    scopeApprovalEntity.setClientEntity(clientEntity);
    scopeApprovalEntity.setScopeEntity(scopeEntity);
    return scopeApprovalEntity;
})))))).collectList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).then(RxJava2Adapter.flowableToFlux(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->{
    if (clientId == null || clientId.isEmpty()) {
        return scopeApprovalService.findByDomainAndUser(domain, user);
    }
    return scopeApprovalService.findByDomainAndUserAndClient(domain, user, clientId);
}).flatMapSingle((scopeApproval)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getClient(scopeApproval.getDomain(), scopeApproval.getClientId())).zipWith(RxJava2Adapter.singleToMono(getScope(scopeApproval.getDomain(), scopeApproval.getScope())), RxJavaReactorMigrationUtil.toJdkBiFunction(((clientEntity,scopeEntity)->{
    ScopeApprovalEntity scopeApprovalEntity = new ScopeApprovalEntity(scopeApproval);
    scopeApprovalEntity.setClientEntity(clientEntity);
    scopeApprovalEntity.setScopeEntity(scopeEntity);
    return scopeApprovalEntity;
})))))).collectList())
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getClient(scopeApproval.getDomain(), scopeApproval.getClientId())).zipWith(RxJava2Adapter.singleToMono(getScope(scopeApproval.getDomain(), scopeApproval.getScope())), RxJavaReactorMigrationUtil.toJdkBiFunction(((clientEntity,scopeEntity)->{
    ScopeApprovalEntity scopeApprovalEntity = new ScopeApprovalEntity(scopeApproval);
    scopeApprovalEntity.setClientEntity(clientEntity);
    scopeApprovalEntity.setScopeEntity(scopeEntity);
    return scopeApprovalEntity;
}))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Domain, CompletableSource>)(__)->{
    if (clientId == null || clientId.isEmpty()) {
        return scopeApprovalService.revokeByUser(domain, user, authenticatedUser);
    }
    return scopeApprovalService.revokeByUserAndClient(domain, user, clientId, authenticatedUser);
}).apply(y)))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Domain, CompletableSource>)(__)->{
    if (clientId == null || clientId.isEmpty()) {
        return scopeApprovalService.revokeByUser(domain, user, authenticatedUser);
    }
    return scopeApprovalService.revokeByUserAndClient(domain, user, clientId, authenticatedUser);
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Domain, CompletableSource>)(__)->{
    if (clientId == null || clientId.isEmpty()) {
        return scopeApprovalService.revokeByUser(domain, user, authenticatedUser);
    }
    return scopeApprovalService.revokeByUserAndClient(domain, user, clientId, authenticatedUser);
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, clientId)).map(RxJavaReactorMigrationUtil.toJdkFunction(ApplicationEntity::new)).defaultIfEmpty(new ApplicationEntity("unknown-id", clientId, "unknown-client-name")).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, clientId)).map(RxJavaReactorMigrationUtil.toJdkFunction(ApplicationEntity::new)).defaultIfEmpty(new ApplicationEntity("unknown-id", clientId, "unknown-client-name")).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, clientId)).map(RxJavaReactorMigrationUtil.toJdkFunction(ApplicationEntity::new)).defaultIfEmpty
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, scopeKey)).switchIfEmpty(RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, getScopeBase(scopeKey))).map(RxJavaReactorMigrationUtil.toJdkFunction((entity)->{
    entity.setId("unknown-id");
    entity.setKey(scopeKey);
    return entity;
}))).map(RxJavaReactorMigrationUtil.toJdkFunction(ScopeEntity::new)).defaultIfEmpty(new ScopeEntity("unknown-id", scopeKey, "unknown-scope-name", "unknown-scope-description")).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, scopeKey)).switchIfEmpty(RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, getScopeBase(scopeKey))).map(RxJavaReactorMigrationUtil.toJdkFunction((entity)->{
    entity.setId("unknown-id");
    entity.setKey(scopeKey);
    return entity;
}))).map(RxJavaReactorMigrationUtil.toJdkFunction(ScopeEntity::new)).defaultIfEmpty(new ScopeEntity("unknown-id", scopeKey, "unknown-scope-name", "unknown-scope-description")).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, scopeKey)).switchIfEmpty(RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, getScopeBase(scopeKey))).map(RxJavaReactorMigrationUtil.toJdkFunction((entity)->{
    entity.setId("unknown-id");
    entity.setKey(scopeKey);
    return entity;
}))).map(RxJavaReactorMigrationUtil.toJdkFunction(ScopeEntity::new)).defaultIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, scopeKey)).switchIfEmpty(RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, getScopeBase(scopeKey))).map(RxJavaReactorMigrationUtil.toJdkFunction((entity)->{
    entity.setId("unknown-id");
    entity.setKey(scopeKey);
    return entity;
}))).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, scopeKey)).switchIfEmpty(RxJava2Adapter.maybeToMono(scopeService.findByDomainAndKey(domain, getScopeBase(scopeKey))).map(RxJavaReactorMigrationUtil.toJdkFunction((entity)->{
    entity.setId("unknown-id");
    entity.setKey(scopeKey);
    return entity;
})))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))).flatMapSingle((endUser)->{
    if (endUser.getRoles() == null || endUser.getRoles().isEmpty()) {
        return RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()));
    }
    return roleService.findByIdIn(endUser.getRoles());
}))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((endUser)->userService.assignRoles(ReferenceType.DOMAIN, domain, user, roles, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))).flatMapSingle((user1)->{
    if (user1.getFactors() == null) {
        return RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()));
    }
    return Observable.fromIterable(user1.getFactors()).flatMapMaybe((enrolledFactor)->RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(factorService.findById(enrolledFactor.getFactorId())).map(RxJavaReactorMigrationUtil.toJdkFunction((factor)->{
        EnrolledFactorEntity enrolledFactorEntity = new EnrolledFactorEntity(enrolledFactor);
        enrolledFactorEntity.setType(factor.getType());
        enrolledFactorEntity.setName(factor.getName());
        return enrolledFactorEntity;
    })).defaultIfEmpty(unknown(enrolledFactor)))).toList();
}))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.emptyList()))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(factorService.findById(enrolledFactor.getFactorId())).map(RxJavaReactorMigrationUtil.toJdkFunction((factor)->{
    EnrolledFactorEntity enrolledFactorEntity = new EnrolledFactorEntity(enrolledFactor);
    enrolledFactorEntity.setType(factor.getType());
    enrolledFactorEntity.setName(factor.getName());
    return enrolledFactorEntity;
})).defaultIfEmpty(unknown(enrolledFactor)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(factorService.findById(enrolledFactor.getFactorId())).map(RxJavaReactorMigrationUtil.toJdkFunction((factor)->{
    EnrolledFactorEntity enrolledFactorEntity = new EnrolledFactorEntity(enrolledFactor);
    enrolledFactorEntity.setType(factor.getType());
    enrolledFactorEntity.setName(factor.getName());
    return enrolledFactorEntity;
})).defaultIfEmpty
1 | Mono | IMPORT
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).thenMany(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->credentialService.findByUserId(ReferenceType.DOMAIN, domain, user))).collectList())
1 | Mono | thenMany | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).thenMany(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapPublisher((__)->credentialService.findByUserId(ReferenceType.DOMAIN, domain, user))).collectList
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->credentialService.findById(credential).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CredentialNotFoundException(credential)))).as
1 | Mono | switchIfEmpty | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->credentialService.findById(credential).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CredentialNotFoundException(credential))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->credentialService.findById(credential).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->credentialService.findById(credential).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CredentialNotFoundException(credential)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((__)->RxJava2Adapter.completableToMono(credentialService.delete(credential))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((__)->RxJava2Adapter.completableToMono(credentialService.delete(credential))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((__)->RxJava2Adapter.completableToMono(credentialService.delete(credential))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))).flatMapSingle((user1)->{
    if (user1.getFactors() != null) {
        List<EnrolledFactor> enrolledFactors = user1.getFactors().stream().filter((enrolledFactor)->!factor.equals(enrolledFactor.getFactorId())).collect(Collectors.toList());
        return userService.enrollFactors(user, enrolledFactors, authenticatedUser);
    }
    return RxJava2Adapter.monoToSingle(Mono.just(user1));
}))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->userService.findById(user).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new UserNotFoundException(user)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user1))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((endUser)->userService.revokeRoles(ReferenceType.DOMAIN, domain, user, Collections.singletonList(role), authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeApprovalService.findById(consent).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consent)))).flatMapSingle((scopeApproval)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getClient(scopeApproval.getDomain(), scopeApproval.getClientId())).map(RxJavaReactorMigrationUtil.toJdkFunction((clientEntity)->{
    ScopeApprovalEntity scopeApprovalEntity = new ScopeApprovalEntity(scopeApproval);
    scopeApprovalEntity.setClientEntity(clientEntity);
    return scopeApprovalEntity;
})))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeApprovalService.findById(consent).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consent))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeApprovalService.findById(consent).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->scopeApprovalService.findById(consent).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ScopeApprovalNotFoundException(consent)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(getClient(scopeApproval.getDomain(), scopeApproval.getClientId())).map(RxJavaReactorMigrationUtil.toJdkFunction((clientEntity)->{
    ScopeApprovalEntity scopeApprovalEntity = new ScopeApprovalEntity(scopeApproval);
    scopeApprovalEntity.setClientEntity(clientEntity);
    return scopeApprovalEntity;
})))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((__)->RxJava2Adapter.completableToMono(scopeApprovalService.revokeByConsent(domain, user, consent, authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_USER, Acl.UPDATE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((__)->RxJava2Adapter.completableToMono(scopeApprovalService.revokeByConsent(domain, user, consent, authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((__)->RxJava2Adapter.completableToMono(scopeApprovalService.revokeByConsent(domain, user, consent, authenticatedUser))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | RETURN_TYPE
1 | Mono | single | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, clientId)).map(RxJavaReactorMigrationUtil.toJdkFunction(ApplicationEntity::new)).defaultIfEmpty(new ApplicationEntity("unknown-id", clientId, "unknown-client-name")).single())
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, clientId)).map(RxJavaReactorMigrationUtil.toJdkFunction(ApplicationEntity::new)).defaultIfEmpty(new ApplicationEntity("unknown-id", clientId, "unknown-client-name")).single
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(applicationService.findByDomainAndClientId(domain, clientId)).map(RxJavaReactorMigrationUtil.toJdkFunction(ApplicationEntity::new)).defaultIfEmpty
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->roleService.findById(role).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new RoleNotFoundException(role))).map(RxJavaReactorMigrationUtil.toJdkFunction((role1)->{
    if (role1.getReferenceType() == ReferenceType.DOMAIN && !role1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Role does not belong to domain");
    }
    return Response.ok(convert(role1)).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->roleService.findById(role).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new RoleNotFoundException(role))).map(RxJavaReactorMigrationUtil.toJdkFunction((role1)->{
    if (role1.getReferenceType() == ReferenceType.DOMAIN && !role1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Role does not belong to domain");
    }
    return Response.ok(convert(role1)).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->roleService.findById(role).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new RoleNotFoundException(role))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->roleService.findById(role).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->roleService.findById(role).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new RoleNotFoundException(role)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->roleService.update(domain, role, convert(updateRole), authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((irrelevant)->roleService.update(domain, role, convert(updateRole), authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_ROLE, Acl.DELETE)).then(RxJava2Adapter.completableToMono(roleService.delete(ReferenceType.DOMAIN, domain, role, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->certificateService.findById(certificate).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CertificateNotFoundException(certificate))).map(RxJavaReactorMigrationUtil.toJdkFunction((certificate1)->{
    if (!certificate1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Certificate does not belong to domain");
    }
    return Response.ok(certificate1).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->certificateService.findById(certificate).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CertificateNotFoundException(certificate))).map(RxJavaReactorMigrationUtil.toJdkFunction((certificate1)->{
    if (!certificate1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Certificate does not belong to domain");
    }
    return Response.ok(certificate1).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->certificateService.findById(certificate).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CertificateNotFoundException(certificate))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->certificateService.findById(certificate).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->certificateService.findById(certificate).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CertificateNotFoundException(certificate)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.getCertificateProvider(certificate)).switchIfEmpty(Mono.error(new BadRequestException("No certificate provider found for the certificate " + certificate)))).flatMapSingle(CertificateProvider::publicKey))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.getCertificateProvider(certificate)).switchIfEmpty(Mono.error(new BadRequestException("No certificate provider found for the certificate " + certificate))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificateManager.getCertificateProvider(certificate)).switchIfEmpty(Mono.error(new BadRequestException("No certificate provider found for the certificate " + certificate)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.getCertificateProvider(certificate)).switchIfEmpty(Mono.error(new BadRequestException("No certificate provider found for the certificate " + certificate)))).flatMapSingle(CertificateProvider::publicKeys))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificateManager.getCertificateProvider(certificate)).switchIfEmpty(Mono.error(new BadRequestException("No certificate provider found for the certificate " + certificate))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificateManager.getCertificateProvider(certificate)).switchIfEmpty(Mono.error(new BadRequestException("No certificate provider found for the certificate " + certificate)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((schema)->certificateService.update(domain, certificate, updateCertificate, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((certificate1)->Response.ok(certificate1).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((schema)->certificateService.update(domain, certificate, updateCertificate, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((certificate1)->Response.ok(certificate1).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_CERTIFICATE, Acl.DELETE)).then(RxJava2Adapter.completableToMono(certificateService.delete(certificate, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_IDENTITY_PROVIDER, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->identityProviderService.findById(identityProvider).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(identityProvider))).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProvider1)->{
    if (identityProvider1.getReferenceType() == ReferenceType.DOMAIN && !identityProvider1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Identity provider does not belong to domain");
    }
    return Response.ok(identityProvider1).build();
}))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_IDENTITY_PROVIDER, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->identityProviderService.findById(identityProvider).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(identityProvider))).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProvider1)->{
    if (identityProvider1.getReferenceType() == ReferenceType.DOMAIN && !identityProvider1.getReferenceId().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Identity provider does not belong to domain");
    }
    return Response.ok(identityProvider1).build();
})))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->identityProviderService.findById(identityProvider).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(identityProvider))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->identityProviderService.findById(identityProvider).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->identityProviderService.findById(identityProvider).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new IdentityProviderNotFoundException(identityProvider)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_IDENTITY_PROVIDER, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->identityProviderService.update(domain, identity, updateIdentityProvider, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.DOMAIN_IDENTITY_PROVIDER, Acl.DELETE)).then(RxJava2Adapter.completableToMono(identityProviderService.delete(domain, identity, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((app)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((userPermissions)->filterApplicationInfos(app, userPermissions))))))).map(RxJavaReactorMigrationUtil.toJdkFunction((application1)->{
    if (!application1.getDomain().equalsIgnoreCase(domain)) {
        throw new BadRequestException("Application does not belong to domain");
    }
    return Response.ok(application1).build();
})))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((app)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((userPermissions)->filterApplicationInfos(app, userPermissions))))))).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((userPermissions)->filterApplicationInfos(app, userPermissions))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(applicationService.updateType(domain, application, patchApplicationType.getType(), authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION, Acl.DELETE)).then(RxJava2Adapter.completableToMono(applicationService.delete(application, authenticatedUser))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_OPENID, Acl.READ)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->applicationService.renewClientSecret(domain, application, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(Completable.merge(patchApplication.getRequiredPermissions().stream().map((permission)->checkAnyPermission(organizationId, environmentId, domain, application, permission, Acl.UPDATE)).collect(Collectors.toList()))).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((patch)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.patch(domain, application, patchApplication, authenticatedUser)).flatMap((updatedApplication)->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterApplicationInfos(updatedApplication, userPermissions)))))))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(applicationService.patch(domain, application, patchApplication, authenticatedUser)).flatMap((updatedApplication)->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterApplicationInfos(updatedApplication, userPermissions)))))
1 | Mono | map | METHOD_INVOCATION | (updatedApplication)->RxJava2Adapter.singleToMono(findAllPermissions(authenticatedUser, organizationId, environmentId, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<io.gravitee.am.model.ReferenceType, java.util.Map<io.gravitee.am.model.permissions.Permission, java.util.Set<io.gravitee.am.model.Acl>>> userPermissions)->filterApplicationInfos(updatedApplication, userPermissions)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_EMAIL_TEMPLATE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(emailTemplateService.findByDomainAndClientAndTemplate(domain, application, emailTemplate.template())).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.ok(email).build())).defaultIfEmpty(Response.ok(new Email(false, emailTemplate.template())).build())).as
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_EMAIL_TEMPLATE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(emailTemplateService.findByDomainAndClientAndTemplate(domain, application, emailTemplate.template())).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.ok(email).build())).defaultIfEmpty(Response.ok(new Email(false, emailTemplate.template())).build()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(emailTemplateService.findByDomainAndClientAndTemplate(domain, application, emailTemplate.template())).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.ok(email).build())).defaultIfEmpty
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_EMAIL_TEMPLATE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((__)->emailTemplateService.create(domain, application, newEmail, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application + "/emails/" + email.getId())).entity(email).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_EMAIL_TEMPLATE, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((__)->emailTemplateService.create(domain, application, newEmail, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((email)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application + "/emails/" + email.getId())).entity(email).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | IMPORT
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_FORM, Acl.READ)).then(RxJava2Adapter.maybeToMono(formService.findByDomainAndClientAndTemplate(domain, application, emailTemplate.template()))).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.ok(form).build())).defaultIfEmpty(Response.ok(new Form(false, emailTemplate.template())).build()))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_FORM, Acl.READ)).then(RxJava2Adapter.maybeToMono(formService.findByDomainAndClientAndTemplate(domain, application, emailTemplate.template()))).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.ok(form).build())).defaultIfEmpty
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_FORM, Acl.READ)).then(RxJava2Adapter.maybeToMono(formService.findByDomainAndClientAndTemplate(domain, application, emailTemplate.template()))).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_FORM, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((irrelevant)->formService.create(domain, application, newForm, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application + "/forms/" + form.getId())).entity(form).build()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_FORM, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((irrelevant)->formService.create(domain, application, newForm, authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((form)->Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application + "/forms/" + form.getId())).entity(form).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_MEMBER, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((application1)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(membershipService.findByReference(application1.getId(), ReferenceType.APPLICATION)).collectList()))).flatMap((memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_MEMBER, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((application1)->RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(membershipService.findByReference(application1.getId(), ReferenceType.APPLICATION)).collectList()))).flatMap((memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(membershipService.findByReference(application1.getId(), ReferenceType.APPLICATION)).collectList())
1 | Mono | map | METHOD_INVOCATION | (memberships)->RxJava2Adapter.singleToMono(membershipService.getMetadata(memberships)).map(RxJavaReactorMigrationUtil.toJdkFunction((java.util.Map<java.lang.String, java.util.Map<java.lang.String, java.lang.Object>> metadata)->new MembershipListItem(memberships, metadata)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_MEMBER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((__)->membershipService.addOrUpdate(organizationId, membership, authenticatedUser))).flatMap((membership1)->RxJava2Adapter.completableToMono(membershipService.addDomainUserRoleIfNecessary(organizationId, environmentId, domain, newMembership, authenticatedUser)).then(Mono.just(Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application + "/members/" + membership1.getId())).entity(membership1).build())))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_MEMBER, Acl.CREATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((__)->membershipService.addOrUpdate(organizationId, membership, authenticatedUser))).flatMap((membership1)->RxJava2Adapter.completableToMono(membershipService.addDomainUserRoleIfNecessary(organizationId, environmentId, domain, newMembership, authenticatedUser)).then(Mono.just(Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application + "/members/" + membership1.getId())).entity(membership1).build()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | then | METHOD_INVOCATION | (membership1)->RxJava2Adapter.completableToMono(membershipService.addDomainUserRoleIfNecessary(organizationId, environmentId, domain, newMembership, authenticatedUser)).then(Mono.just(Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application + "/members/" + membership1.getId())).entity(membership1).build()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(membershipService.addDomainUserRoleIfNecessary(organizationId, environmentId, domain, newMembership, authenticatedUser)).then(Mono.just(Response.created(URI.create("/organizations/" + organizationId + "/environments/" + environmentId + "/domains/" + domain + "/applications/" + application + "/members/" + membership1.getId())).entity(membership1).build()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION, Acl.READ)).then(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.APPLICATION, application)).map(RxJavaReactorMigrationUtil.toJdkFunction(Permission::flatten))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION, Acl.READ)).then(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.APPLICATION, application)).map(RxJavaReactorMigrationUtil.toJdkFunction(Permission::flatten)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_RESOURCE, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((application1)->resourceService.findByDomainAndClient(domain, application1.getId(), page, Integer.min(MAX_RESOURCES_SIZE_PER_PAGE, size)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Page<Resource>, SingleSource<Page>>toJdkFunction((pagedResources)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedResources.getData()).flatMapSingle((r)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resourceService.countAccessPolicyByResource(r.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((policies)->{
        ResourceEntity resourceEntity = new ResourceEntity(r);
        resourceEntity.setPolicies(policies);
        return resourceEntity;
    })))).toList()).zipWith(RxJava2Adapter.singleToMono(resourceService.getMetadata((List<Resource>)pagedResources.getData())), RxJavaReactorMigrationUtil.toJdkBiFunction((v1,v2)->{
        return new Page(Collections.singletonList(new ResourceListItem(v1, v2)), page, pagedResources.getTotalCount());
    })));
}).apply(v))))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_RESOURCE, Acl.LIST)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((application1)->resourceService.findByDomainAndClient(domain, application1.getId(), page, Integer.min(MAX_RESOURCES_SIZE_PER_PAGE, size)))).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<Page<Resource>, SingleSource<Page>>toJdkFunction((pagedResources)->{
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedResources.getData()).flatMapSingle((r)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resourceService.countAccessPolicyByResource(r.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((policies)->{
        ResourceEntity resourceEntity = new ResourceEntity(r);
        resourceEntity.setPolicies(policies);
        return resourceEntity;
    })))).toList()).zipWith(RxJava2Adapter.singleToMono(resourceService.getMetadata((List<Resource>)pagedResources.getData())), RxJavaReactorMigrationUtil.toJdkBiFunction((v1,v2)->{
        return new Page(Collections.singletonList(new ResourceListItem(v1, v2)), page, pagedResources.getTotalCount());
    })));
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | zipWith | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Observable.fromIterable(pagedResources.getData()).flatMapSingle((r)->RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resourceService.countAccessPolicyByResource(r.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((policies)->{
    ResourceEntity resourceEntity = new ResourceEntity(r);
    resourceEntity.setPolicies(policies);
    return resourceEntity;
})))).toList()).zipWith(RxJava2Adapter.singleToMono(resourceService.getMetadata((List<Resource>)pagedResources.getData())), RxJavaReactorMigrationUtil.toJdkBiFunction((v1,v2)->{
    return new Page(Collections.singletonList(new ResourceListItem(v1, v2)), page, pagedResources.getTotalCount());
})))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resourceService.countAccessPolicyByResource(r.getId())).map(RxJavaReactorMigrationUtil.toJdkFunction((policies)->{
    ResourceEntity resourceEntity = new ResourceEntity(r);
    resourceEntity.setPolicies(policies);
    return resourceEntity;
})))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_ANALYTICS, Acl.READ)).then(RxJava2Adapter.singleToMono(applicationAnalyticsService.execute(query))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.LIST)).then(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.READ)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((hasPermission)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowService.findByApplication(ReferenceType.DOMAIN, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->filterFlowInfos(hasPermission, flow)))))).collectList()))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.LIST)).then(RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.READ)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((hasPermission)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowService.findByApplication(ReferenceType.DOMAIN, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->filterFlowInfos(hasPermission, flow)))))).collectList())
1 | Mono | flatMapMany | METHOD_INVOCATION | RxJava2Adapter.singleToMono(hasAnyPermission(authenticatedUser, organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.READ)).flatMapMany(RxJavaReactorMigrationUtil.toJdkFunction((hasPermission)->RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowService.findByApplication(ReferenceType.DOMAIN, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->filterFlowInfos(hasPermission, flow)))))).collectList
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(RxJava2Adapter.flowableToFlux(flowService.findByApplication(ReferenceType.DOMAIN, domain, application)).map(RxJavaReactorMigrationUtil.toJdkFunction((flow)->filterFlowInfos(hasPermission, flow))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->flowService.createOrUpdate(ReferenceType.DOMAIN, domain, application, convert(flows), authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((updatedFlows)->updatedFlows.stream().map(FlowEntity::new).collect(Collectors.toList())))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))).flatMapSingle((__)->flowService.createOrUpdate(ReferenceType.DOMAIN, domain, application, convert(flows), authenticatedUser))).map(RxJavaReactorMigrationUtil.toJdkFunction((updatedFlows)->updatedFlows.stream().map(FlowEntity::new).collect(Collectors.toList()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(flowService.findById(ReferenceType.DOMAIN, domain, flow)).switchIfEmpty(Mono.error(new FlowNotFoundException(flow))).map(RxJavaReactorMigrationUtil.toJdkFunction(FlowEntity::new))).as
1 | Mono | map | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(flowService.findById(ReferenceType.DOMAIN, domain, flow)).switchIfEmpty(Mono.error(new FlowNotFoundException(flow))).map(RxJavaReactorMigrationUtil.toJdkFunction(FlowEntity::new)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowService.findById(ReferenceType.DOMAIN, domain, flow)).switchIfEmpty(Mono.error(new FlowNotFoundException(flow))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(flowService.findById(ReferenceType.DOMAIN, domain, flow)).switchIfEmpty(Mono.error(new FlowNotFoundException(flow)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(flowService.update(ReferenceType.DOMAIN, domain, flow, convert(updateFlow), authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(FlowEntity::new))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, Permission.APPLICATION_FLOW, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(flowService.update(ReferenceType.DOMAIN, domain, flow, convert(updateFlow), authenticatedUser)).map(RxJavaReactorMigrationUtil.toJdkFunction(FlowEntity::new)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_RESOURCE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Application, MaybeSource<ResourceEntity>>toJdkFunction((application1)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(resourceService.findByDomainAndClientResource(domain, application1.getId(), resource)).flatMap((n)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Resource, MaybeSource<ResourceEntity>>toJdkFunction((r)->{
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(r.getUserId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).map(RxJavaReactorMigrationUtil.toJdkFunction((optUser)->{
            ResourceEntity resourceEntity = new ResourceEntity(r);
            resourceEntity.setUserDisplayName(optUser.isPresent() ? optUser.get().getDisplayName() : "Unknown user");
            return resourceEntity;
        })));
    }).apply(n)))));
}).apply(v))))).as
1 | Mono | flatMap | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_RESOURCE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((v)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Application, MaybeSource<ResourceEntity>>toJdkFunction((application1)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(resourceService.findByDomainAndClientResource(domain, application1.getId(), resource)).flatMap((n)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Resource, MaybeSource<ResourceEntity>>toJdkFunction((r)->{
        return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(r.getUserId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).map(RxJavaReactorMigrationUtil.toJdkFunction((optUser)->{
            ResourceEntity resourceEntity = new ResourceEntity(r);
            resourceEntity.setUserDisplayName(optUser.isPresent() ? optUser.get().getDisplayName() : "Unknown user");
            return resourceEntity;
        })));
    }).apply(n)))));
}).apply(v)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(resourceService.findByDomainAndClientResource(domain, application1.getId(), resource)).flatMap((n)->RxJava2Adapter.maybeToMono(Maybe.wrap(RxJavaReactorMigrationUtil.<Resource, MaybeSource<ResourceEntity>>toJdkFunction((r)->{
    return RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(r.getUserId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).map(RxJavaReactorMigrationUtil.toJdkFunction((optUser)->{
        ResourceEntity resourceEntity = new ResourceEntity(r);
        resourceEntity.setUserDisplayName(optUser.isPresent() ? optUser.get().getDisplayName() : "Unknown user");
        return resourceEntity;
    })));
}).apply(n)))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findById(r.getUserId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).map(RxJavaReactorMigrationUtil.toJdkFunction((optUser)->{
    ResourceEntity resourceEntity = new ResourceEntity(r);
    resourceEntity.setUserDisplayName(optUser.isPresent() ? optUser.get().getDisplayName() : "Unknown user");
    return resourceEntity;
})))
1 | Mono | defaultIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(r.getUserId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty(Optional.empty()).map
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findById(r.getUserId())).map(RxJavaReactorMigrationUtil.toJdkFunction(Optional::ofNullable)).defaultIfEmpty
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_RESOURCE, Acl.READ)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((application1)->RxJava2Adapter.flowableToFlux(resourceService.findAccessPoliciesByResources(Collections.singletonList(resource))).map(RxJavaReactorMigrationUtil.toJdkFunction(AccessPolicyListItem::new)).collectList())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_RESOURCE, Acl.READ)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((application1)->RxJava2Adapter.flowableToFlux(resourceService.findAccessPoliciesByResources(Collections.singletonList(resource))).map(RxJavaReactorMigrationUtil.toJdkFunction(AccessPolicyListItem::new)).collectList()))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Flux | collectList | METHOD_INVOCATION | (application1)->RxJava2Adapter.flowableToFlux(resourceService.findAccessPoliciesByResources(Collections.singletonList(resource))).map(RxJavaReactorMigrationUtil.toJdkFunction(AccessPolicyListItem::new)).collectList()
1 | Flux | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(resourceService.findAccessPoliciesByResources(Collections.singletonList(resource))).map(RxJavaReactorMigrationUtil.toJdkFunction(AccessPolicyListItem::new)).collectList
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_RESOURCE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((z)->resourceService.findAccessPolicy(policy).as(RxJava2Adapter::maybeToMono))).as
1 | Mono | flatMap | METHOD_INVOCATION | checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_RESOURCE, Acl.READ).as(RxJava2Adapter::completableToMono).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((z)->resourceService.findAccessPolicy(policy).as(RxJava2Adapter::maybeToMono)))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_MEMBER, Acl.DELETE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((__)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then()))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_MEMBER, Acl.DELETE)).then(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((__)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap((__)->RxJava2Adapter.completableToMono(membershipService.delete(membershipId, authenticatedUser))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))).flatMap
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_FORM, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((irrelevant)->formService.update(domain, application, form, updateForm, authenticatedUser)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_FORM, Acl.DELETE)).then(RxJava2Adapter.completableToMono(formService.delete(domain, form, authenticatedUser))))
1 | Mono | IMPORT
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_EMAIL_TEMPLATE, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))).flatMapSingle((__)->emailTemplateService.update(domain, application, email, updateEmail)))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application))))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(domainService.findById(domain)).switchIfEmpty(Mono.error(new DomainNotFoundException(domain))).flatMap((z)->applicationService.findById(application).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ApplicationNotFoundException(application)))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, domain, application, Permission.APPLICATION_EMAIL_TEMPLATE, Acl.DELETE)).then(RxJava2Adapter.completableToMono(emailTemplateService.delete(email))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(certificatePluginService.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction((certificatePlugins)->certificatePlugins.stream().sorted(Comparator.comparing(CertificatePlugin::getName)).collect(Collectors.toList()))))
1 | Mono | IMPORT
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrantPlugin)->Response.ok(certificateId).build())).switchIfEmpty(Mono.error(new CertificatePluginNotFoundException(certificateId))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrantPlugin)->Response.ok(certificateId).build())).switchIfEmpty
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrantPlugin)->Response.ok(certificateId).build())).switchIfEmpty(Mono.error(new CertificatePluginNotFoundException(certificateId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).switchIfEmpty(Mono.error(new CertificatePluginNotFoundException(certificateId))).flatMap((z)->certificatePluginService.getSchema(certificateId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(certificateId))).map(RxJavaReactorMigrationUtil.toJdkFunction((certificatePluginSchema)->Response.ok(certificatePluginSchema).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).switchIfEmpty(Mono.error(new CertificatePluginNotFoundException(certificateId))).flatMap((z)->certificatePluginService.getSchema(certificateId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(certificateId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).switchIfEmpty(Mono.error(new CertificatePluginNotFoundException(certificateId))).flatMap((z)->certificatePluginService.getSchema(certificateId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).switchIfEmpty(Mono.error(new CertificatePluginNotFoundException(certificateId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).switchIfEmpty(Mono.error(new CertificatePluginNotFoundException(certificateId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(certificatePluginService.findById(certificateId)).switchIfEmpty(Mono.error(new CertificatePluginNotFoundException(certificateId))).flatMap((z)->certificatePluginService.getSchema(certificateId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new CertificatePluginSchemaNotFoundException(certificateId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(notifierPluginService.findById(notifierId)).map(RxJavaReactorMigrationUtil.toJdkFunction((notifierPlugin)->Response.ok(notifierPlugin).build())))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(notifierPluginService.findById(notifierId)).flatMap((notifierPlugin)->RxJava2Adapter.singleToMono(notifierPluginService.getSchema(notifierPlugin.getId()))).map(RxJavaReactorMigrationUtil.toJdkFunction((notifierPluginSchema)->Response.ok(notifierPluginSchema).build())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(notifierPluginService.findById(notifierId)).flatMap((notifierPlugin)->RxJava2Adapter.singleToMono(notifierPluginService.getSchema(notifierPlugin.getId()))).map
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkAnyPermission(organizationId, environmentId, Permission.DOMAIN_ALERT, Acl.UPDATE)).then(RxJava2Adapter.singleToMono(alertTriggerService.createOrUpdate(ReferenceType.DOMAIN, domainId, patchAlertTrigger, authenticatedUser))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(policyPluginService.findAll(expand)).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPlugins)->policyPlugins.stream().sorted(Comparator.comparing(PolicyPlugin::getName)).collect(Collectors.toList()))))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPlugin)->Response.ok(policyPlugin).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).flatMap((z)->policyPluginService.getSchema(policyId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new PolicyPluginSchemaNotFoundException(policyId))).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPluginSchema)->Response.ok(policyPluginSchema).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).flatMap((z)->policyPluginService.getSchema(policyId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new PolicyPluginSchemaNotFoundException(policyId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).flatMap((z)->policyPluginService.getSchema(policyId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).flatMap((z)->policyPluginService.getSchema(policyId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new PolicyPluginSchemaNotFoundException(policyId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).flatMap((z)->policyPluginService.getDocumentation(policyId).as(RxJava2Adapter::maybeToMono)).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPluginDocumentation)->Response.ok(policyPluginDocumentation).build())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).flatMap((z)->policyPluginService.getDocumentation(policyId).as(RxJava2Adapter::maybeToMono)).map
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(policyPluginService.findById(policyId)).switchIfEmpty(Mono.error(new PolicyPluginNotFoundException(policyId)))
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction((org)->Optional.ofNullable(org.getIdentities()).orElse(emptyList()))).block().stream
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction((org)->Optional.ofNullable(org.getIdentities()).orElse(emptyList()))).block
1 | Mono | block | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(maybe).block().getUri
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(alertService.isAlertingAvailable()).map(RxJavaReactorMigrationUtil.toJdkFunction(AlertServiceStatusEntity::new)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(authenticatorPluginService.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction((authenticatorPlugins)->authenticatorPlugins.stream().sorted(Comparator.comparing(FactorPlugin::getName)).collect(Collectors.toList()))))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(authenticatorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(authenticatorId))).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPlugin)->Response.ok(policyPlugin).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(authenticatorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(authenticatorId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(authenticatorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(authenticatorId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(factorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(factorId))).flatMap((z)->authenticatorPluginService.getSchema(factorId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new AuthenticatorPluginSchemaNotFoundException(factorId))).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPluginSchema)->Response.ok(policyPluginSchema).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(factorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(factorId))).flatMap((z)->authenticatorPluginService.getSchema(factorId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new AuthenticatorPluginSchemaNotFoundException(factorId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(factorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(factorId))).flatMap((z)->authenticatorPluginService.getSchema(factorId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(factorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(factorId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(factorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(factorId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(authenticatorPluginService.findById(factorId)).switchIfEmpty(Mono.error(new AuthenticatorPluginNotFoundException(factorId))).flatMap((z)->authenticatorPluginService.getSchema(factorId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new AuthenticatorPluginSchemaNotFoundException(factorId)))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, organizationId, authenticatedUser.getId())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setEmail(emailValue.getEmail());
    user.setNewsletter(true);
    return userService.update(user);
}).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((endUser)->{
    Map<String, Object> object = new HashMap<>();
    object.put("email", endUser.getEmail());
    newsletterService.subscribe(object);
})))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, organizationId, authenticatedUser.getId())).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction((user)->{
    user.setEmail(emailValue.getEmail());
    user.setNewsletter(true);
    return userService.update(user);
}).apply(v)))).doOnSuccess
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(roleService.findById(ReferenceType.PLATFORM, Platform.DEFAULT, role)).map(RxJavaReactorMigrationUtil.toJdkFunction(this::convert)))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.completableToMono(checkPermission(ReferenceType.PLATFORM, Platform.DEFAULT, Permission.INSTALLATION, Acl.READ)).then(RxJava2Adapter.singleToMono(installationService.get()).map(RxJavaReactorMigrationUtil.toJdkFunction(InstallationEntity::new))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((installationEntity)->installationEntity.getAdditionalInformation().put(Installation.COCKPIT_URL, environment.getProperty("cockpit.url", DEFAULT_COCKPIT_URL)))))
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.PLATFORM, Platform.DEFAULT, Permission.INSTALLATION, Acl.READ)).then(RxJava2Adapter.singleToMono(installationService.get()).map(RxJavaReactorMigrationUtil.toJdkFunction(InstallationEntity::new))).doOnSuccess
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.completableToMono(checkPermission(ReferenceType.PLATFORM, Platform.DEFAULT, Permission.INSTALLATION, Acl.READ)).then(RxJava2Adapter.singleToMono(installationService.get()).map(RxJavaReactorMigrationUtil.toJdkFunction(InstallationEntity::new)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(identityProviderPluginService.findAll(external, expand)).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProviderPlugins)->identityProviderPlugins.stream().filter((identityProvider)->!GRAVITEE_AM_IDP.equals(identityProvider.getId())).sorted(Comparator.comparing(IdentityProviderPlugin::getName)).collect(Collectors.toList()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(extensionGrantPluginService.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrantPlugins)->extensionGrantPlugins.stream().sorted(Comparator.comparing(ExtensionGrantPlugin::getName)).collect(Collectors.toList()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(reporterPluginService.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction((reporterPlugins)->reporterPlugins.stream().sorted(Comparator.comparing(ReporterPlugin::getName)).collect(Collectors.toList()))))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(resourcePluginService.findAll(expand)).map(RxJavaReactorMigrationUtil.toJdkFunction((resourcePlugins)->resourcePlugins.stream().sorted(Comparator.comparing(ResourcePlugin::getName)).collect(Collectors.toList()))))
1 | Flux | collectList | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.flowableToFlux(notifierPluginService.findAll(expand.toArray(new String[0]))).sort(Comparator.comparing(AbstractPlugin::getName)).collectList())
1 | Flux | sort | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(notifierPluginService.findAll(expand.toArray(new String[0]))).sort(Comparator.comparing(AbstractPlugin::getName)).collectList
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(pluginService.findAll()).map(RxJavaReactorMigrationUtil.toJdkFunction((plugins)->plugins.stream().sorted(Comparator.comparing(BotDetectionPlugin::getName)).collect(Collectors.toList()))))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(pluginService.findById(botDetectionId)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetectionId))).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPlugin)->Response.ok(policyPlugin).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(pluginService.findById(botDetectionId)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetectionId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(pluginService.findById(botDetectionId)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetectionId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(pluginService.findById(botDetection)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetection))).flatMap((z)->pluginService.getSchema(botDetection).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new BotDetectionPluginSchemaNotFoundException(botDetection))).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPluginSchema)->Response.ok(policyPluginSchema).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(pluginService.findById(botDetection)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetection))).flatMap((z)->pluginService.getSchema(botDetection).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new BotDetectionPluginSchemaNotFoundException(botDetection))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(pluginService.findById(botDetection)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetection))).flatMap((z)->pluginService.getSchema(botDetection).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(pluginService.findById(botDetection)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetection))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(pluginService.findById(botDetection)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetection)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(pluginService.findById(botDetection)).switchIfEmpty(Mono.error(new BotDetectionPluginNotFoundException(botDetection))).flatMap((z)->pluginService.getSchema(botDetection).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new BotDetectionPluginSchemaNotFoundException(botDetection)))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).map(RxJavaReactorMigrationUtil.toJdkFunction((resourcePlugin)->Response.ok(resourcePlugin).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).flatMap((z)->resourcePluginService.getSchema(resourceId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).map(RxJavaReactorMigrationUtil.toJdkFunction((policyPluginSchema)->Response.ok(policyPluginSchema).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).flatMap((z)->resourcePluginService.getSchema(resourceId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).flatMap((z)->resourcePluginService.getSchema(resourceId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(resourcePluginService.findById(resourceId)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId))).flatMap((z)->resourcePluginService.getSchema(resourceId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ResourcePluginNotFoundException(resourceId)))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId))).map(RxJavaReactorMigrationUtil.toJdkFunction((reporterPlugin)->Response.ok(reporterPlugin).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId))).flatMap((z)->reporterPluginService.getSchema(reporterId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ReporterPluginSchemaNotFoundException(reporterId))).map(RxJavaReactorMigrationUtil.toJdkFunction((reporterPluginSchema)->Response.ok(reporterPluginSchema).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId))).flatMap((z)->reporterPluginService.getSchema(reporterId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ReporterPluginSchemaNotFoundException(reporterId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId))).flatMap((z)->reporterPluginService.getSchema(reporterId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(reporterPluginService.findById(reporterId)).switchIfEmpty(Mono.error(new ReporterPluginNotFoundException(reporterId))).flatMap((z)->reporterPluginService.getSchema(reporterId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ReporterPluginSchemaNotFoundException(reporterId)))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId))).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrantPlugin)->Response.ok(extensionGrantPlugin).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId))).flatMap((z)->extensionGrantPluginService.getSchema(extensionGrantId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ExtensionGrantPluginSchemaNotFoundException(extensionGrantId))).map(RxJavaReactorMigrationUtil.toJdkFunction((extensionGrantPluginSchema)->Response.ok(extensionGrantPluginSchema).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId))).flatMap((z)->extensionGrantPluginService.getSchema(extensionGrantId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ExtensionGrantPluginSchemaNotFoundException(extensionGrantId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId))).flatMap((z)->extensionGrantPluginService.getSchema(extensionGrantId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(extensionGrantPluginService.findById(extensionGrantId)).switchIfEmpty(Mono.error(new ExtensionGrantPluginNotFoundException(extensionGrantId))).flatMap((z)->extensionGrantPluginService.getSchema(extensionGrantId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new ExtensionGrantPluginSchemaNotFoundException(extensionGrantId)))
1 | Mono | IMPORT
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId))).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProviderPlugin)->Response.ok(identityProviderPlugin).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId))).map
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId))).flatMap((z)->identityProviderPluginService.getSchema(identityProviderId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new IdentityProviderPluginSchemaNotFoundException(identityProviderId))).map(RxJavaReactorMigrationUtil.toJdkFunction((identityProviderPluginSchema)->Response.ok(identityProviderPluginSchema).build())))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId))).flatMap((z)->identityProviderPluginService.getSchema(identityProviderId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new IdentityProviderPluginSchemaNotFoundException(identityProviderId))).map
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId))).flatMap((z)->identityProviderPluginService.getSchema(identityProviderId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId))).flatMap
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(identityProviderPluginService.findById(identityProviderId)).switchIfEmpty(Mono.error(new IdentityProviderPluginNotFoundException(identityProviderId))).flatMap((z)->identityProviderPluginService.getSchema(identityProviderId).as(RxJava2Adapter::maybeToMono)).switchIfEmpty(Mono.error(new IdentityProviderPluginSchemaNotFoundException(identityProviderId)))
1 | Mono | block | METHOD_INVOCATION | final Environment environment = RxJava2Adapter.singleToMono(environmentService.findById((String)jwt.get(Claims.environment), (String)jwt.get(Claims.organization))).block()
1 | Mono | block | METHOD_INVOCATION | Organization organization = RxJava2Adapter.singleToMono(organizationService.findById(organizationId)).block()
1 | Mono | block | METHOD_INVOCATION | user = RxJava2Adapter.maybeToMono(authenticationProvider.loadUserByUsername(provAuthentication)).block()
1 | Mono | IMPORT
1 | Mono | block | METHOD_INVOCATION | io.gravitee.am.model.User endUser = RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getUsername(), source)))).switchIfEmpty(Mono.error(new UserNotFoundException(principal.getUsername())))).flatMapSingle((existingUser)->{
    existingUser.setSource(details.get(SOURCE));
    existingUser.setLoggedAt(new Date());
    existingUser.setLoginsCount(existingUser.getLoginsCount() + 1);
    if (existingUser.getAdditionalInformation() != null) {
        existingUser.getAdditionalInformation().putAll(principal.getAdditionalInformation());
    } else {
        existingUser.setAdditionalInformation(new HashMap<>(principal.getAdditionalInformation()));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.update(existingUser)).flatMap((user)->RxJava2Adapter.completableToMono(updateRoles(principal, existingUser)).then(Mono.just(user))));
}).onErrorResumeNext((ex)->{
    if (ex instanceof UserNotFoundException) {
        final io.gravitee.am.model.User newUser = new io.gravitee.am.model.User();
        newUser.setInternal(false);
        newUser.setExternalId(principal.getId());
        newUser.setUsername(principal.getUsername());
        newUser.setSource(details.get(SOURCE));
        newUser.setReferenceType(ReferenceType.ORGANIZATION);
        newUser.setReferenceId(organizationId);
        newUser.setLoggedAt(new Date());
        newUser.setLoginsCount(1L);
        newUser.setAdditionalInformation(principal.getAdditionalInformation());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newUser)).flatMap((user)->RxJava2Adapter.completableToMono(userService.setRoles(principal, user)).then(Mono.just(user))));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->auditService.report(AuditBuilder.builder(AuthenticationAuditBuilder.class).principal(authentication).referenceType(ReferenceType.ORGANIZATION).referenceId(organizationId).user(user)))).block()
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getUsername(), source)))).switchIfEmpty(Mono.error(new UserNotFoundException(principal.getUsername())))).flatMapSingle((existingUser)->{
    existingUser.setSource(details.get(SOURCE));
    existingUser.setLoggedAt(new Date());
    existingUser.setLoginsCount(existingUser.getLoginsCount() + 1);
    if (existingUser.getAdditionalInformation() != null) {
        existingUser.getAdditionalInformation().putAll(principal.getAdditionalInformation());
    } else {
        existingUser.setAdditionalInformation(new HashMap<>(principal.getAdditionalInformation()));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.update(existingUser)).flatMap((user)->RxJava2Adapter.completableToMono(updateRoles(principal, existingUser)).then(Mono.just(user))));
}).onErrorResumeNext((ex)->{
    if (ex instanceof UserNotFoundException) {
        final io.gravitee.am.model.User newUser = new io.gravitee.am.model.User();
        newUser.setInternal(false);
        newUser.setExternalId(principal.getId());
        newUser.setUsername(principal.getUsername());
        newUser.setSource(details.get(SOURCE));
        newUser.setReferenceType(ReferenceType.ORGANIZATION);
        newUser.setReferenceId(organizationId);
        newUser.setLoggedAt(new Date());
        newUser.setLoginsCount(1L);
        newUser.setAdditionalInformation(principal.getAdditionalInformation());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newUser)).flatMap((user)->RxJava2Adapter.completableToMono(userService.setRoles(principal, user)).then(Mono.just(user))));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->auditService.report(AuditBuilder.builder(AuthenticationAuditBuilder.class).principal(authentication).referenceType(ReferenceType.ORGANIZATION).referenceId(organizationId).user(user)))).block
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getUsername(), source)))).switchIfEmpty(Mono.error(new UserNotFoundException(principal.getUsername())))).flatMapSingle((existingUser)->{
    existingUser.setSource(details.get(SOURCE));
    existingUser.setLoggedAt(new Date());
    existingUser.setLoginsCount(existingUser.getLoginsCount() + 1);
    if (existingUser.getAdditionalInformation() != null) {
        existingUser.getAdditionalInformation().putAll(principal.getAdditionalInformation());
    } else {
        existingUser.setAdditionalInformation(new HashMap<>(principal.getAdditionalInformation()));
    }
    return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.update(existingUser)).flatMap((user)->RxJava2Adapter.completableToMono(updateRoles(principal, existingUser)).then(Mono.just(user))));
}).onErrorResumeNext((ex)->{
    if (ex instanceof UserNotFoundException) {
        final io.gravitee.am.model.User newUser = new io.gravitee.am.model.User();
        newUser.setInternal(false);
        newUser.setExternalId(principal.getId());
        newUser.setUsername(principal.getUsername());
        newUser.setSource(details.get(SOURCE));
        newUser.setReferenceType(ReferenceType.ORGANIZATION);
        newUser.setReferenceId(organizationId);
        newUser.setLoggedAt(new Date());
        newUser.setLoginsCount(1L);
        newUser.setAdditionalInformation(principal.getAdditionalInformation());
        return RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newUser)).flatMap((user)->RxJava2Adapter.completableToMono(userService.setRoles(principal, user)).then(Mono.just(user))));
    }
    return RxJava2Adapter.monoToSingle(Mono.error(ex));
})).flatMap((v)->RxJava2Adapter.singleToMono(Single.wrap(RxJavaReactorMigrationUtil.<io.gravitee.am.model.User, SingleSource<io.gravitee.am.model.User>>toJdkFunction(userService::enhance).apply(v)))).doOnSuccess
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getUsername(), source)))).switchIfEmpty(Mono.error(new UserNotFoundException(principal.getUsername()))))
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getUsername(), source)))).switchIfEmpty
1 | Mono | defer | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getUsername(), source))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.maybeToMono(userService.findByExternalIdAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getId(), source)).switchIfEmpty(Mono.defer(()->RxJava2Adapter.maybeToMono(userService.findByUsernameAndSource(ReferenceType.ORGANIZATION, organizationId, principal.getUsername(), source)))).switchIfEmpty(Mono.error(new UserNotFoundException(principal.getUsername())))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.update(existingUser)).flatMap((user)->RxJava2Adapter.completableToMono(updateRoles(principal, existingUser)).then(Mono.just(user))))
1 | Mono | then | METHOD_INVOCATION | (user)->RxJava2Adapter.completableToMono(updateRoles(principal, existingUser)).then(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(updateRoles(principal, existingUser)).then(Mono.just(user))
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.create(newUser)).flatMap((user)->RxJava2Adapter.completableToMono(userService.setRoles(principal, user)).then(Mono.just(user))))
1 | Mono | then | METHOD_INVOCATION | (user)->RxJava2Adapter.completableToMono(userService.setRoles(principal, user)).then(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.completableToMono(userService.setRoles(principal, user)).then(Mono.just(user))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(ex))
1 | Mono | RETURN_TYPE
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.flowableToFlux(membershipService.findByMember(existingUser.getId(), MemberType.USER)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((membership)->ReferenceType.ORGANIZATION == membership.getReferenceType())).next().map(RxJavaReactorMigrationUtil.toJdkFunction((membership)->!membership.getRoleId().equals(roleId))).switchIfEmpty(Mono.just(false)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, CompletableSource>)(mustChangeOrganizationRole)->{
    if (!mustChangeOrganizationRole) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    Membership membership = new Membership();
    membership.setMemberType(MemberType.USER);
    membership.setMemberId(existingUser.getId());
    membership.setReferenceType(existingUser.getReferenceType());
    membership.setReferenceId(existingUser.getReferenceId());
    membership.setRoleId(roleId);
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(roleService.findById(existingUser.getReferenceType(), existingUser.getReferenceId(), roleId)).flatMap((__)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(existingUser.getReferenceId(), membership))).then());
}).apply(y)))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByMember(existingUser.getId(), MemberType.USER)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((membership)->ReferenceType.ORGANIZATION == membership.getReferenceType())).next().map(RxJavaReactorMigrationUtil.toJdkFunction((membership)->!membership.getRoleId().equals(roleId))).switchIfEmpty(Mono.just(false)).flatMap((y)->RxJava2Adapter.completableToMono(Completable.wrap(RxJavaReactorMigrationUtil.toJdkFunction((Function<Boolean, CompletableSource>)(mustChangeOrganizationRole)->{
    if (!mustChangeOrganizationRole) {
        return RxJava2Adapter.monoToCompletable(Mono.empty());
    }
    Membership membership = new Membership();
    membership.setMemberType(MemberType.USER);
    membership.setMemberId(existingUser.getId());
    membership.setReferenceType(existingUser.getReferenceType());
    membership.setReferenceId(existingUser.getReferenceId());
    membership.setRoleId(roleId);
    return RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(roleService.findById(existingUser.getReferenceType(), existingUser.getReferenceId(), roleId)).flatMap((__)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(existingUser.getReferenceId(), membership))).then());
}).apply(y)))).then
1 | Mono | switchIfEmpty | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByMember(existingUser.getId(), MemberType.USER)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((membership)->ReferenceType.ORGANIZATION == membership.getReferenceType())).next().map(RxJavaReactorMigrationUtil.toJdkFunction((membership)->!membership.getRoleId().equals(roleId))).switchIfEmpty(Mono.just(false)).flatMap
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByMember(existingUser.getId(), MemberType.USER)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((membership)->ReferenceType.ORGANIZATION == membership.getReferenceType())).next().map(RxJavaReactorMigrationUtil.toJdkFunction((membership)->!membership.getRoleId().equals(roleId))).switchIfEmpty
1 | Flux | next | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByMember(existingUser.getId(), MemberType.USER)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((membership)->ReferenceType.ORGANIZATION == membership.getReferenceType())).next().map
1 | Flux | filter | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByMember(existingUser.getId(), MemberType.USER)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((membership)->ReferenceType.ORGANIZATION == membership.getReferenceType())).next
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.flowableToFlux(membershipService.findByMember(existingUser.getId(), MemberType.USER)).filter(RxJavaReactorMigrationUtil.toJdkPredicate((membership)->ReferenceType.ORGANIZATION == membership.getReferenceType())).next().map(RxJavaReactorMigrationUtil.toJdkFunction((membership)->!membership.getRoleId().equals(roleId))).switchIfEmpty(Mono.just(false))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | then | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(RxJava2Adapter.singleToMono(roleService.findById(existingUser.getReferenceType(), existingUser.getReferenceId(), roleId)).flatMap((__)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(existingUser.getReferenceId(), membership))).then())
1 | Mono | flatMap | METHOD_INVOCATION | RxJava2Adapter.singleToMono(roleService.findById(existingUser.getReferenceType(), existingUser.getReferenceId(), roleId)).flatMap((__)->RxJava2Adapter.singleToMono(membershipService.addOrUpdate(existingUser.getReferenceId(), membership))).then
1 | Mono | doOnError | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, (String)jwt.get("org"), (String)jwt.getSub())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->auditService.report(AuditBuilder.builder(LogoutAuditBuilder.class).user(user).referenceType(ReferenceType.ORGANIZATION).referenceId((String)jwt.get("org")).ipAddress(details.getRemoteAddress()).userAgent(details.getUserAgent())))).doOnError(RxJavaReactorMigrationUtil.toJdkConsumer((err)->{
    logger.warn("Unable to read user information, trace logout with minimal data", err);
    auditService.report(AuditBuilder.builder(LogoutAuditBuilder.class).principal(new EndUserAuthentication(jwt.get("username"), null, new SimpleAuthenticationContext())).referenceType(ReferenceType.ORGANIZATION).referenceId((String)jwt.get("org")).ipAddress(details.getRemoteAddress()).userAgent(details.getUserAgent()));
})))
1 | Mono | doOnSuccess | METHOD_INVOCATION | RxJava2Adapter.singleToMono(userService.findById(ReferenceType.ORGANIZATION, (String)jwt.get("org"), (String)jwt.getSub())).doOnSuccess(RxJavaReactorMigrationUtil.toJdkConsumer((user)->auditService.report(AuditBuilder.builder(LogoutAuditBuilder.class).user(user).referenceType(ReferenceType.ORGANIZATION).referenceId((String)jwt.get("org")).ipAddress(details.getRemoteAddress()).userAgent(details.getUserAgent())))).doOnError
1 | Mono | block | METHOD_INVOCATION | !RxJava2Adapter.singleToMono(reCaptchaService.isValid(reCaptchaToken)).block()
1 | Mono | block | METHOD_INVOCATION | User user = RxJava2Adapter.maybeToMono(authenticationProvider.loadUserByUsername(provAuthentication)).block()
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.ORGANIZATION, organizationId)).map(RxJavaReactorMigrationUtil.toJdkFunction(Permission::flatten)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(permissionService.findAllPermissions(authenticatedUser, ReferenceType.PLATFORM, Platform.DEFAULT)).map(RxJavaReactorMigrationUtil.toJdkFunction(Permission::flatten)))
1 | Mono | map | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(RxJava2Adapter.singleToMono(Single.zip(platformPermissions, organizationPermissions, (p,o)->{
    Set<String> allPermissions = new HashSet<>();
    allPermissions.addAll(p);
    allPermissions.addAll(o);
    return allPermissions;
})).map(RxJavaReactorMigrationUtil.toJdkFunction((permissions)->{
    Map<String, Object> profile = new HashMap<>(authenticatedUser.getAdditionalInformation());
    profile.put("permissions", permissions);
    profile.put("newsletter_enabled", newsletterEnabled);
    profile.remove(CustomClaims.ROLES);
    return profile;
})))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockEntrypoint))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new EntrypointNotFoundException(ENTRYPOINT_ID)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockEntrypoint))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new EntrypointNotFoundException(ENTRYPOINT_ID)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(botDetectionPlugin)))
1 | Flux | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(new Flow(), new Flow()))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("error occurs")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockIdentityProvider))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockIdentityProvider))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockCredential))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pagedUsers))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(permissions))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pagedUsers))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new UserProviderNotFoundException(newUser.getSource())))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Organization()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(mockIdentityProvider, mockIdentityProvider2))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(identityProvider))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(plugin))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(plugin))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just("{}"))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(plugin))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(plugin))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockUser))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(mockExtensionGrant, mockExtensionGrant2))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(extensionGrant))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.allPermissionAcls(ReferenceType.APPLICATION)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockApplication))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.of(Permission.APPLICATION, Acl.READ)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockApplication))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.allPermissionAcls(ReferenceType.APPLICATION)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.allPermissionAcls(ReferenceType.APPLICATION)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockApplication))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.of(Permission.APPLICATION, Acl.READ)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockApplication))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.of(Permission.APPLICATION, Acl.READ)))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.allPermissionAcls(ReferenceType.APPLICATION)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new ApplicationNotFoundException(clientId)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(resourcePlugin)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singletonList(identityProviderPlugin)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockRole))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new RoleNotFoundException(roleId)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Email()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new EmailNotFoundException(emailId)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton("role-1")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockGroup))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(defaultOrganization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new BadCredentialsException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(new DefaultUser("username")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(extensionGrantPlugin))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(extensionGrantPlugin))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(schema))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockScope))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockScope))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockExtensionGrant))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockExtensionGrant))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockFlow))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(updatedFlow))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new FlowNotFoundException(FLOW_ID)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockCertificate))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockCertificate))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Collections.singleton("role-1")))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockUser))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(mockCertificate, mockCertificate2))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just("certificate-schema"))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(certificate))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockRole))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockRole))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(certificatePlugin))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Page<>(scopes, 0, 2)))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(scope))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockGroup))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockUser))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockGroup))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockUser))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockGroup))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.allPermissionAcls(ReferenceType.DOMAIN)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.of(Permission.DOMAIN, Acl.READ)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.allPermissionAcls(ReferenceType.DOMAIN)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.allPermissionAcls(ReferenceType.DOMAIN)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(true))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(Permission.of(Permission.DOMAIN, Acl.READ)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(false))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Domain()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(entrypoint, entrypoint2, defaultEntrypoint))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(entrypoint, entrypoint2, defaultEntrypoint))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(entrypoint, entrypoint2, defaultEntrypoint))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(entrypoint, entrypoint2))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(entrypoint))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pagedUsers))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(group))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(resourcePlugin))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(resourcePlugin))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just("{}"))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(resourcePlugin))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(resourcePlugin))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(mockCredential))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(mockDomain, mockDomain2))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(domain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new IdentityProvider()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Reporter()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockEmail))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Email()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pagedRoles))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(roles))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(pagedRoles))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(role))
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new OrganizationNotFoundException(organizationId)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockUser))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockFactor))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(certificatePlugin))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(certificatePlugin))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(schema))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockScope))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(scopeApproval))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockForm))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Form()))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Form()))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new FormNotFoundException(formId)))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(applicationPage))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(application))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashSet<>(Arrays.asList(extensionGrantPlugin))))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new OrganizationNotFoundException(organizationId)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(membership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(membership))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(organization))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(Arrays.asList(membership)))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new HashMap<>()))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.error(new OrganizationNotFoundException(organization.getId())))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(user))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(repositoryUserMock))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(repositoryUserMock))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new User()))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Role()))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(membershipMock))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(new Membership()))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(mockRole, mockRole2))
1 | Flux | error | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(tag))
1 | Flux | IMPORT
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockClient))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockScope))
1 | Flux | just | METHOD_INVOCATION | RxJava2Adapter.fluxToFlowable(Flux.just(scopeApproval))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(mockDomain))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToSingle(Mono.just(mockUser))
1 | Mono | IMPORT
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(identityProviderPlugin))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(identityProviderPlugin))
1 | Mono | just | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.just(schema))
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToMaybe(Mono.error(new TechnicalManagementException("Error occurs")))
1 | Mono | IMPORT
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
1 | Mono | error | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.error(new InvalidCodeException("Invalid 2FA code")))
1 | Mono | empty | METHOD_INVOCATION | RxJava2Adapter.monoToCompletable(Mono.empty())
